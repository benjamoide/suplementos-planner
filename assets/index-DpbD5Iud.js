(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function JE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pd={exports:{}},Pl={};var Z_;function t1(){if(Z_)return Pl;Z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Pl.Fragment=t,Pl.jsx=i,Pl.jsxs=i,Pl}var W_;function e1(){return W_||(W_=1,Pd.exports=t1()),Pd.exports}var w=e1(),jd={exports:{}},Ot={};var tv;function n1(){if(tv)return Ot;tv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function Y(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,rt={};function ct(M,$,at){this.props=M,this.context=$,this.refs=rt,this.updater=at||nt}ct.prototype.isReactComponent={},ct.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},ct.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Et(){}Et.prototype=ct.prototype;function bt(M,$,at){this.props=M,this.context=$,this.refs=rt,this.updater=at||nt}var Ut=bt.prototype=new Et;Ut.constructor=bt,st(Ut,ct.prototype),Ut.isPureReactComponent=!0;var ne=Array.isArray;function gt(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function O(M,$,at){var ht=at.ref;return{$$typeof:s,type:M,key:$,ref:ht!==void 0?ht:null,props:at}}function L(M,$){return O(M.type,$,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return $[at]})}var I=/\/+/g;function le(M,$){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):$.toString(36)}function Ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(gt,gt):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,$,at,ht,St){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var jt=!1;if(M===null)jt=!0;else switch(Ct){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(M.$$typeof){case s:case t:jt=!0;break;case T:return jt=M._init,K(jt(M._payload),$,at,ht,St)}}if(jt)return St=St(M),jt=ht===""?"."+le(M,0):ht,ne(St)?(at="",jt!=null&&(at=jt.replace(I,"$&/")+"/"),K(St,$,at,"",function(Bn){return Bn})):St!=null&&(V(St)&&(St=L(St,at+(St.key==null||M&&M.key===St.key?"":(""+St.key).replace(I,"$&/")+"/")+jt)),$.push(St)),1;jt=0;var Te=ht===""?".":ht+":";if(ne(M))for(var ue=0;ue<M.length;ue++)ht=M[ue],Ct=Te+le(ht,ue),jt+=K(ht,$,at,Ct,St);else if(ue=Y(M),typeof ue=="function")for(M=ue.call(M),ue=0;!(ht=M.next()).done;)ht=ht.value,Ct=Te+le(ht,ue++),jt+=K(ht,$,at,Ct,St);else if(Ct==="object"){if(typeof M.then=="function")return K(Ce(M),$,at,ht,St);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return jt}function lt(M,$,at){if(M==null)return M;var ht=[],St=0;return K(M,ht,"","",function(Ct){return $.call(at,Ct,St++)}),ht}function yt(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var Pt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Jt={map:lt,forEach:function(M,$,at){lt(M,function(){$.apply(this,arguments)},at)},count:function(M){var $=0;return lt(M,function(){$++}),$},toArray:function(M){return lt(M,function($){return $})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ot.Activity=A,Ot.Children=Jt,Ot.Component=ct,Ot.Fragment=i,Ot.Profiler=l,Ot.PureComponent=bt,Ot.StrictMode=r,Ot.Suspense=y,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ot.cache=function(M){return function(){return M.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(M,$,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ht=st({},M.props),St=M.key;if($!=null)for(Ct in $.key!==void 0&&(St=""+$.key),$)!R.call($,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&$.ref===void 0||(ht[Ct]=$[Ct]);var Ct=arguments.length-2;if(Ct===1)ht.children=at;else if(1<Ct){for(var jt=Array(Ct),Te=0;Te<Ct;Te++)jt[Te]=arguments[Te+2];ht.children=jt}return O(M.type,St,ht)},Ot.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ot.createElement=function(M,$,at){var ht,St={},Ct=null;if($!=null)for(ht in $.key!==void 0&&(Ct=""+$.key),$)R.call($,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(St[ht]=$[ht]);var jt=arguments.length-2;if(jt===1)St.children=at;else if(1<jt){for(var Te=Array(jt),ue=0;ue<jt;ue++)Te[ue]=arguments[ue+2];St.children=Te}if(M&&M.defaultProps)for(ht in jt=M.defaultProps,jt)St[ht]===void 0&&(St[ht]=jt[ht]);return O(M,Ct,St)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(M){return{$$typeof:p,render:M}},Ot.isValidElement=V,Ot.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:yt}},Ot.memo=function(M,$){return{$$typeof:_,type:M,compare:$===void 0?null:$}},Ot.startTransition=function(M){var $=N.T,at={};N.T=at;try{var ht=M(),St=N.S;St!==null&&St(at,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(gt,Pt)}catch(Ct){Pt(Ct)}finally{$!==null&&at.types!==null&&($.types=at.types),N.T=$}},Ot.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ot.use=function(M){return N.H.use(M)},Ot.useActionState=function(M,$,at){return N.H.useActionState(M,$,at)},Ot.useCallback=function(M,$){return N.H.useCallback(M,$)},Ot.useContext=function(M){return N.H.useContext(M)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(M,$){return N.H.useDeferredValue(M,$)},Ot.useEffect=function(M,$){return N.H.useEffect(M,$)},Ot.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ot.useId=function(){return N.H.useId()},Ot.useImperativeHandle=function(M,$,at){return N.H.useImperativeHandle(M,$,at)},Ot.useInsertionEffect=function(M,$){return N.H.useInsertionEffect(M,$)},Ot.useLayoutEffect=function(M,$){return N.H.useLayoutEffect(M,$)},Ot.useMemo=function(M,$){return N.H.useMemo(M,$)},Ot.useOptimistic=function(M,$){return N.H.useOptimistic(M,$)},Ot.useReducer=function(M,$,at){return N.H.useReducer(M,$,at)},Ot.useRef=function(M){return N.H.useRef(M)},Ot.useState=function(M){return N.H.useState(M)},Ot.useSyncExternalStore=function(M,$,at){return N.H.useSyncExternalStore(M,$,at)},Ot.useTransition=function(){return N.H.useTransition()},Ot.version="19.2.3",Ot}var ev;function xm(){return ev||(ev=1,jd.exports=n1()),jd.exports}var pt=xm();const Lm=JE(pt);var zd={exports:{}},jl={},Bd={exports:{}},qd={};var nv;function i1(){return nv||(nv=1,(function(s){function t(K,lt){var yt=K.length;K.push(lt);t:for(;0<yt;){var Pt=yt-1>>>1,Jt=K[Pt];if(0<l(Jt,lt))K[Pt]=lt,K[yt]=Jt,yt=Pt;else break t}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var lt=K[0],yt=K.pop();if(yt!==lt){K[0]=yt;t:for(var Pt=0,Jt=K.length,M=Jt>>>1;Pt<M;){var $=2*(Pt+1)-1,at=K[$],ht=$+1,St=K[ht];if(0>l(at,yt))ht<Jt&&0>l(St,at)?(K[Pt]=St,K[ht]=yt,Pt=ht):(K[Pt]=at,K[$]=yt,Pt=$);else if(ht<Jt&&0>l(St,yt))K[Pt]=St,K[ht]=yt,Pt=ht;else break t}}return lt}function l(K,lt){var yt=K.sortIndex-lt.sortIndex;return yt!==0?yt:K.id-lt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],T=1,A=null,D=3,Y=!1,nt=!1,st=!1,rt=!1,ct=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,bt=typeof setImmediate<"u"?setImmediate:null;function Ut(K){for(var lt=i(_);lt!==null;){if(lt.callback===null)r(_);else if(lt.startTime<=K)r(_),lt.sortIndex=lt.expirationTime,t(y,lt);else break;lt=i(_)}}function ne(K){if(st=!1,Ut(K),!nt)if(i(y)!==null)nt=!0,gt||(gt=!0,k());else{var lt=i(_);lt!==null&&Ce(ne,lt.startTime-K)}}var gt=!1,N=-1,R=5,O=-1;function L(){return rt?!0:!(s.unstable_now()-O<R)}function V(){if(rt=!1,gt){var K=s.unstable_now();O=K;var lt=!0;try{t:{nt=!1,st&&(st=!1,Et(N),N=-1),Y=!0;var yt=D;try{e:{for(Ut(K),A=i(y);A!==null&&!(A.expirationTime>K&&L());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,D=A.priorityLevel;var Jt=Pt(A.expirationTime<=K);if(K=s.unstable_now(),typeof Jt=="function"){A.callback=Jt,Ut(K),lt=!0;break e}A===i(y)&&r(y),Ut(K)}else r(y);A=i(y)}if(A!==null)lt=!0;else{var M=i(_);M!==null&&Ce(ne,M.startTime-K),lt=!1}}break t}finally{A=null,D=yt,Y=!1}lt=void 0}}finally{lt?k():gt=!1}}}var k;if(typeof bt=="function")k=function(){bt(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,le=I.port2;I.port1.onmessage=V,k=function(){le.postMessage(null)}}else k=function(){ct(V,0)};function Ce(K,lt){N=ct(function(){K(s.unstable_now())},lt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(K){switch(D){case 1:case 2:case 3:var lt=3;break;default:lt=D}var yt=D;D=lt;try{return K()}finally{D=yt}},s.unstable_requestPaint=function(){rt=!0},s.unstable_runWithPriority=function(K,lt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var yt=D;D=K;try{return lt()}finally{D=yt}},s.unstable_scheduleCallback=function(K,lt,yt){var Pt=s.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Pt+yt:Pt):yt=Pt,K){case 1:var Jt=-1;break;case 2:Jt=250;break;case 5:Jt=1073741823;break;case 4:Jt=1e4;break;default:Jt=5e3}return Jt=yt+Jt,K={id:T++,callback:lt,priorityLevel:K,startTime:yt,expirationTime:Jt,sortIndex:-1},yt>Pt?(K.sortIndex=yt,t(_,K),i(y)===null&&K===i(_)&&(st?(Et(N),N=-1):st=!0,Ce(ne,yt-Pt))):(K.sortIndex=Jt,t(y,K),nt||Y||(nt=!0,gt||(gt=!0,k()))),K},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(K){var lt=D;return function(){var yt=D;D=lt;try{return K.apply(this,arguments)}finally{D=yt}}}})(qd)),qd}var iv;function s1(){return iv||(iv=1,Bd.exports=i1()),Bd.exports}var Hd={exports:{}},ln={};var sv;function r1(){if(sv)return ln;sv=1;var s=xm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,T)},ln.flushSync=function(y){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=T,r.d.f()}},ln.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},ln.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},ln.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:Y}):T==="script"&&r.d.X(y,{crossOrigin:A,integrity:D,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ln.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},ln.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin);r.d.L(y,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ln.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},ln.requestFormReset=function(y){r.d.r(y)},ln.unstable_batchedUpdates=function(y,_){return y(_)},ln.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var rv;function a1(){if(rv)return Hd.exports;rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Hd.exports=r1(),Hd.exports}var av;function o1(){if(av)return jl;av=1;var s=s1(),t=xm(),i=a1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),bt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case ct:return"Profiler";case rt:return"StrictMode";case ne:return"Suspense";case gt:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case nt:return"Portal";case bt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var Ce=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Pt=[],Jt=-1;function M(e){return{current:e}}function $(e){0>Jt||(e.current=Pt[Jt],Pt[Jt]=null,Jt--)}function at(e,n){Jt++,Pt[Jt]=e.current,e.current=n}var ht=M(null),St=M(null),Ct=M(null),jt=M(null);function Te(e,n){switch(at(Ct,n),at(St,e),at(ht,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?T_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=T_(n),e=S_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ht),at(ht,e)}function ue(){$(ht),$(St),$(Ct)}function Bn(e){e.memoizedState!==null&&at(jt,e);var n=ht.current,a=S_(n,e.type);n!==a&&(at(St,e),at(ht,a))}function Ki(e){St.current===e&&($(ht),$(St)),jt.current===e&&($(jt),xl._currentValue=yt)}var oi,qn;function Cn(e){if(oi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);oi=n&&n[1]||"",qn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oi+e+qn}var Qi=!1;function Ye(e,n){if(!e||Qi)return"";Qi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var q=G}Reflect.construct(e,[],W)}else{try{W.call()}catch(G){q=G}e.call(W.prototype)}}else{try{throw Error()}catch(G){q=G}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),B=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===B.length)for(o=C.length-1,h=B.length-1;1<=o&&0<=h&&C[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==B[h]){var X=`
`+C[o].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=o&&0<=h);break}}}finally{Qi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Cn(a):""}function Xi(e,n){switch(e.tag){case 26:case 27:case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return e.child!==n&&n!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Ye(e.type,!1);case 11:return Ye(e.type.render,!1);case 1:return Ye(e.type,!0);case 31:return Cn("Activity");default:return""}}function Ji(e){try{var n="",a=null;do n+=Xi(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var se=Object.prototype.hasOwnProperty,Se=s.unstable_scheduleCallback,Ti=s.unstable_cancelCallback,jo=s.unstable_shouldYield,Sa=s.unstable_requestPaint,Je=s.unstable_now,Si=s.unstable_getCurrentPriorityLevel,Dr=s.unstable_ImmediatePriority,Or=s.unstable_UserBlockingPriority,on=s.unstable_NormalPriority,Mr=s.unstable_LowPriority,Aa=s.unstable_IdlePriority,Vr=s.log,Ns=s.unstable_setDisableYieldValue,pn=null,Ve=null;function gn(e){if(typeof Vr=="function"&&Ns(e),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(pn,e)}catch{}}var Ae=Math.clz32?Math.clz32:xr,Ds=Math.log,$i=Math.LN2;function xr(e){return e>>>=0,e===0?32:31-(Ds(e)/$i|0)|0}var Hn=256,yn=262144,we=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fn(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Nn(o):(g&=E,g!==0?h=Nn(g):a||(a=E&~e,a!==0&&(h=Nn(a))))):(E=o&~f,E!==0?h=Nn(E):g!==0?h=Nn(g):a||(a=o&~e,a!==0&&(h=Nn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $e(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function Gn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ai(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zo(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,B=e.hiddenUpdates;for(a=g&~a;0<a;){var X=31-Ae(a),W=1<<X;E[X]=0,C[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var G=q[X];G!==null&&(G.lane&=-536870913)}a&=~W}o!==0&&b(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function b(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function U(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Ae(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function F(e,n){var a=n&-n;return a=(a&42)!==0?1:Q(a),(a&(e.suspendedLanes|n))!==0?0:a}function Q(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function it(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:G_(e.type))}function wt(e,n){var a=lt.p;try{return lt.p=e,n()}finally{lt.p=a}}var Tt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Tt,Vt="__reactProps$"+Tt,Wt="__reactContainer$"+Tt,Dn="__reactEvents$"+Tt,Os="__reactListeners$"+Tt,Ms="__reactHandles$"+Tt,Lr="__reactResources$"+Tt,On="__reactMarker$"+Tt;function wa(e){delete e[Nt],delete e[Vt],delete e[Dn],delete e[Os],delete e[Ms]}function bi(e){var n=e[Nt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Wt]||a[Nt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=N_(e);e!==null;){if(a=e[Nt])return a;e=N_(e)}return n}e=a,a=e.parentNode}return null}function Yn(e){if(e=e[Nt]||e[Wt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function wi(e){var n=e[Lr];return n||(n=e[Lr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[On]=!0}var Bo=new Set,qo={};function Ri(e,n){Ii(e,n),Ii(e+"Capture",n)}function Ii(e,n){for(qo[e]=n,e=0;e<n.length;e++)Bo.add(n[e])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function Su(e){return se.call(Go,e)?!0:se.call(Fo,e)?!1:Ho.test(e)?Go[e]=!0:(Fo[e]=!0,!1)}function Ra(e,n,a){if(Su(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Vn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Le(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Yo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function re(e){if(!e._valueTracker){var n=Vs(e)?"checked":"value";e._valueTracker=Yo(e,n,""+e[n])}}function kr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Vs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ur=/[\n"\\]/g;function En(e){return e.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ia(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ke(n)):e.value!==""+Ke(n)&&(e.value=""+Ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ko(e,g,Ke(n)):a!=null?Ko(e,g,Ke(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ke(E):e.removeAttribute("name")}function Au(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){re(e);return}a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),re(e)}function Ko(e,n,a){n==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function xs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function bu(e,n,a){if(n!=null&&(n=""+Ke(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ke(a):""}function Ls(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ce(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ke(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),re(e)}function Tn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||wu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Xo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Qo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Qo(e,f,n[f])}function Ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(e){return ks.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function li(){}var Jo=null;function Kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Us=null,Ni=null;function Pr(e){var n=Yn(e);if(n&&(e=n.stateNode)){var a=e[Vt]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Vt]||null;if(!h)throw Error(r(90));Ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&kr(o)}break t;case"textarea":bu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&xs(e,!!a.multiple,n,!1)}}}var Da=!1;function Ps(e,n,a){if(Da)return e(n,a);Da=!0;try{var o=e(n);return o}finally{if(Da=!1,(Us!==null||Ni!==null)&&(vc(),Us&&(n=Us,e=Ni,Ni=Us=null,Pr(n),e)))for(n=0;n<e.length;n++)Pr(e[n])}}function ui(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Qn)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){jr=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{jr=!1}var Di=null,$o=null,zr=null;function Zo(){if(zr)return zr;var e,n=$o,a=n.length,o,h="value"in Di?Di.value:Di.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return zr=h.slice(e,1<o?1-o:void 0)}function Br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function ci(){return!1}function Ze(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zi:ci,this.isPropagationStopped=ci,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Ze(Wi),js=A({},Wi,{view:0,detail:0}),Wo=Ze(js),zs,Oa,Mi,Ma=A({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(zs=e.screenX-Mi.screenX,Oa=e.screenY-Mi.screenY):Oa=zs=0,Mi=e),zs)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),tl=Ze(Ma),qr=A({},Ma,{dataTransfer:0}),Iu=Ze(qr),Cu=A({},js,{relatedTarget:0}),Hr=Ze(Cu),el=A({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Ze(el),Va=A({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Du=Ze(Va),Ou=A({},Wi,{data:0}),Vi=Ze(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=xu[e])?!!n[e]:!1}function Bs(){return Lu}var _n=A({},js,{key:function(e){if(e.key){var n=Mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(e){return e.type==="keypress"?Br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ku=Ze(_n),Uu=A({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Ze(Uu),u=A({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),m=Ze(u),v=A({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ze(v),j=A({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ze(j),ot=A({},Wi,{newState:0,oldState:0}),xt=Ze(ot),Ne=[9,13,27,32],te=Qn&&"CompositionEvent"in window,ve=null;Qn&&"documentMode"in document&&(ve=document.documentMode);var Xn=Qn&&"TextEvent"in window&&!ve,xi=Qn&&(!te||ve&&8<ve&&11>=ve),hi=" ",fi=!1;function Fr(e,n){switch(e){case"keyup":return Ne.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var La=!1;function bS(e,n){switch(e){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return e=n.data,e===hi&&fi?null:e;default:return null}}function wS(e,n){if(La)return e==="compositionend"||!te&&Fr(e,n)?(e=Zo(),zr=$o=Di=null,La=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xi&&n.locale!=="ko"?null:n.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!RS[e.type]:n==="textarea"}function Vp(e,n,a,o){Us?Ni?Ni.push(o):Ni=[o]:Us=o,n=Rc(n,"onChange"),0<n.length&&(a=new Oi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var nl=null,il=null;function IS(e){p_(e,0)}function Pu(e){var n=Mn(e);if(kr(n))return e}function xp(e,n){if(e==="change")return n}var Lp=!1;if(Qn){var Fh;if(Qn){var Gh="oninput"in document;if(!Gh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Gh=typeof kp.oninput=="function"}Fh=Gh}else Fh=!1;Lp=Fh&&(!document.documentMode||9<document.documentMode)}function Up(){nl&&(nl.detachEvent("onpropertychange",Pp),il=nl=null)}function Pp(e){if(e.propertyName==="value"&&Pu(il)){var n=[];Vp(n,il,e,Kn(e)),Ps(IS,n)}}function CS(e,n,a){e==="focusin"?(Up(),nl=n,il=a,nl.attachEvent("onpropertychange",Pp)):e==="focusout"&&Up()}function NS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pu(il)}function DS(e,n){if(e==="click")return Pu(n)}function OS(e,n){if(e==="input"||e==="change")return Pu(n)}function MS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var xn=typeof Object.is=="function"?Object.is:MS;function sl(e,n){if(xn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!se.call(n,h)||!xn(e[h],n[h]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,n){var a=jp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=jp(a)}}function Bp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ci(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ci(e.document)}return n}function Yh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var VS=Qn&&"documentMode"in document&&11>=document.documentMode,ka=null,Kh=null,rl=null,Qh=!1;function Hp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||ka==null||ka!==Ci(o)||(o=ka,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),rl&&sl(rl,o)||(rl=o,o=Rc(Kh,"onSelect"),0<o.length&&(n=new Oi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ka)))}function Gr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ua={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Xh={},Fp={};Qn&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Yr(e){if(Xh[e])return Xh[e];if(!Ua[e])return e;var n=Ua[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Fp)return Xh[e]=n[a];return e}var Gp=Yr("animationend"),Yp=Yr("animationiteration"),Kp=Yr("animationstart"),xS=Yr("transitionrun"),LS=Yr("transitionstart"),kS=Yr("transitioncancel"),Qp=Yr("transitionend"),Xp=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function di(e,n){Xp.set(e,n),Ri(n,[e])}var ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jn=[],Pa=0,$h=0;function zu(){for(var e=Pa,n=$h=Pa=0;n<e;){var a=Jn[n];Jn[n++]=null;var o=Jn[n];Jn[n++]=null;var h=Jn[n];Jn[n++]=null;var f=Jn[n];if(Jn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Jp(a,h,f)}}function Bu(e,n,a,o){Jn[Pa++]=e,Jn[Pa++]=n,Jn[Pa++]=a,Jn[Pa++]=o,$h|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Zh(e,n,a,o){return Bu(e,n,a,o),qu(e)}function Kr(e,n){return Bu(e,null,null,n),qu(e)}function Jp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function qu(e){if(50<Il)throw Il=0,ld=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ja={};function US(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,n,a,o){return new US(e,n,a,o)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function es(e,n){var a=e.alternate;return a===null?(a=Ln(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $p(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Wh(e)&&(g=1);else if(typeof e=="string")g=qA(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case O:return e=Ln(31,a,n,h),e.elementType=O,e.lanes=f,e;case st:return Qr(a.children,h,f,n);case rt:g=8,h|=24;break;case ct:return e=Ln(12,a,n,h|2),e.elementType=ct,e.lanes=f,e;case ne:return e=Ln(13,a,n,h),e.elementType=ne,e.lanes=f,e;case gt:return e=Ln(19,a,n,h),e.elementType=gt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bt:g=10;break t;case Et:g=9;break t;case Ut:g=11;break t;case N:g=14;break t;case R:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Ln(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Qr(e,n,a,o){return e=Ln(7,e,o,n),e.lanes=a,e}function tf(e,n,a){return e=Ln(6,e,null,n),e.lanes=a,e}function Zp(e){var n=Ln(18,null,null,0);return n.stateNode=e,n}function ef(e,n,a){return n=Ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Wp=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var a=Wp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ji(n)},Wp.set(e,n),n)}return{value:e,source:n,stack:Ji(n)}}var za=[],Ba=0,Fu=null,al=0,Zn=[],Wn=0,qs=null,Li=1,ki="";function ns(e,n){za[Ba++]=al,za[Ba++]=Fu,Fu=e,al=n}function tg(e,n,a){Zn[Wn++]=Li,Zn[Wn++]=ki,Zn[Wn++]=qs,qs=e;var o=Li;e=ki;var h=32-Ae(o)-1;o&=~(1<<h),a+=1;var f=32-Ae(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Li=1<<32-Ae(n)+h|a<<h|o,ki=f+e}else Li=1<<f|a<<h|o,ki=e}function nf(e){e.return!==null&&(ns(e,1),tg(e,1,0))}function sf(e){for(;e===Fu;)Fu=za[--Ba],za[Ba]=null,al=za[--Ba],za[Ba]=null;for(;e===qs;)qs=Zn[--Wn],Zn[Wn]=null,ki=Zn[--Wn],Zn[Wn]=null,Li=Zn[--Wn],Zn[Wn]=null}function eg(e,n){Zn[Wn++]=Li,Zn[Wn++]=ki,Zn[Wn++]=qs,Li=n.id,ki=n.overflow,qs=e}var We=null,ge=null,Qt=!1,Hs=null,ti=!1,rf=Error(r(519));function Fs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol($n(n,e)),rf}function ng(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Nt]=e,n[Vt]=o,a){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)qt(Nl[a],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":qt("invalid",n),Au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":qt("invalid",n);break;case"textarea":qt("invalid",n),Ls(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||v_(n.textContent,a)?(o.popover!=null&&(qt("beforetoggle",n),qt("toggle",n)),o.onScroll!=null&&qt("scroll",n),o.onScrollEnd!=null&&qt("scrollend",n),o.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||Fs(e,!0)}function ig(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:We=We.return}}function qa(e){if(e!==We)return!1;if(!Qt)return ig(e),Qt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ad(e.type,e.memoizedProps)),a=!a),a&&ge&&Fs(e),ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ge=C_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ge=C_(e)}else n===27?(n=ge,sr(e.type)?(e=Cd,Cd=null,ge=e):ge=n):ge=We?ni(e.stateNode.nextSibling):null;return!0}function Xr(){ge=We=null,Qt=!1}function af(){var e=Hs;return e!==null&&(wn===null?wn=e:wn.push.apply(wn,e),Hs=null),e}function ol(e){Hs===null?Hs=[e]:Hs.push(e)}var of=M(null),Jr=null,is=null;function Gs(e,n,a){at(of,n._currentValue),n._currentValue=a}function ss(e){e._currentValue=of.current,$(of)}function lf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function uf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),lf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ha(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;xn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===jt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(xl):e=[xl])}h=h.return}e!==null&&uf(n,e,a,o),n.flags|=262144}function Gu(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $r(e){Jr=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return sg(Jr,e)}function Yu(e,n){return Jr===null&&$r(e),sg(e,n)}function sg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},is===null){if(e===null)throw Error(r(308));is=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else is=is.next=n;return a}var PS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},jS=s.unstable_scheduleCallback,zS=s.unstable_NormalPriority,ke={$$typeof:bt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new PS,data:new Map,refCount:0}}function ll(e){e.refCount--,e.refCount===0&&jS(zS,function(){e.controller.abort()})}var ul=null,hf=0,Fa=0,Ga=null;function BS(e,n){if(ul===null){var a=ul=[];hf=0,Fa=md(),Ga={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(rg,rg),n}function rg(){if(--hf===0&&ul!==null){Ga!==null&&(Ga.status="fulfilled");var e=ul;ul=null,Fa=0,Ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function qS(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ag=K.S;K.S=function(e,n){Hy=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&BS(e,n),ag!==null&&ag(e,n)};var Zr=M(null);function ff(){var e=Zr.current;return e!==null?e:me.pooledCache}function Ku(e,n){n===null?at(Zr,Zr.current):at(Zr,n.pool)}function og(){var e=ff();return e===null?null:{parent:ke._currentValue,pool:e}}var Ya=Error(r(460)),df=Error(r(474)),Qu=Error(r(542)),Xu={then:function(){}};function lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ug(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(li,li),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e;default:if(typeof n.status=="string")n.then(li,li);else{if(e=me,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e}throw ta=n,Ya}}function Wr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Ya):a}}var ta=null;function cg(){if(ta===null)throw Error(r(459));var e=ta;return ta=null,e}function hg(e){if(e===Ya||e===Qu)throw Error(r(483))}var Ka=null,cl=0;function Ju(e){var n=cl;return cl+=1,Ka===null&&(Ka=[]),ug(Ka,e,n)}function hl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function $u(e,n){throw n.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fg(e){function n(P,x){if(e){var z=P.deletions;z===null?(P.deletions=[x],P.flags|=16):z.push(x)}}function a(P,x){if(!e)return null;for(;x!==null;)n(P,x),x=x.sibling;return null}function o(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=es(P,x),P.index=0,P.sibling=null,P}function f(P,x,z){return P.index=z,e?(z=P.alternate,z!==null?(z=z.index,z<x?(P.flags|=67108866,x):z):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function g(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,x,z,Z){return x===null||x.tag!==6?(x=tf(z,P.mode,Z),x.return=P,x):(x=h(x,z),x.return=P,x)}function C(P,x,z,Z){var vt=z.type;return vt===st?X(P,x,z.props.children,Z,z.key):x!==null&&(x.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&Wr(vt)===x.type)?(x=h(x,z.props),hl(x,z),x.return=P,x):(x=Hu(z.type,z.key,z.props,null,P.mode,Z),hl(x,z),x.return=P,x)}function B(P,x,z,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=ef(z,P.mode,Z),x.return=P,x):(x=h(x,z.children||[]),x.return=P,x)}function X(P,x,z,Z,vt){return x===null||x.tag!==7?(x=Qr(z,P.mode,Z,vt),x.return=P,x):(x=h(x,z),x.return=P,x)}function W(P,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=tf(""+x,P.mode,z),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Y:return z=Hu(x.type,x.key,x.props,null,P.mode,z),hl(z,x),z.return=P,z;case nt:return x=ef(x,P.mode,z),x.return=P,x;case R:return x=Wr(x),W(P,x,z)}if(Ce(x)||k(x))return x=Qr(x,P.mode,z,null),x.return=P,x;if(typeof x.then=="function")return W(P,Ju(x),z);if(x.$$typeof===bt)return W(P,Yu(P,x),z);$u(P,x)}return null}function q(P,x,z,Z){var vt=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return vt!==null?null:E(P,x,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return z.key===vt?C(P,x,z,Z):null;case nt:return z.key===vt?B(P,x,z,Z):null;case R:return z=Wr(z),q(P,x,z,Z)}if(Ce(z)||k(z))return vt!==null?null:X(P,x,z,Z,null);if(typeof z.then=="function")return q(P,x,Ju(z),Z);if(z.$$typeof===bt)return q(P,x,Yu(P,z),Z);$u(P,z)}return null}function G(P,x,z,Z,vt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(z)||null,E(x,P,""+Z,vt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Y:return P=P.get(Z.key===null?z:Z.key)||null,C(x,P,Z,vt);case nt:return P=P.get(Z.key===null?z:Z.key)||null,B(x,P,Z,vt);case R:return Z=Wr(Z),G(P,x,z,Z,vt)}if(Ce(Z)||k(Z))return P=P.get(z)||null,X(x,P,Z,vt,null);if(typeof Z.then=="function")return G(P,x,z,Ju(Z),vt);if(Z.$$typeof===bt)return G(P,x,z,Yu(x,Z),vt);$u(x,Z)}return null}function dt(P,x,z,Z){for(var vt=null,$t=null,mt=x,kt=x=0,Ft=null;mt!==null&&kt<z.length;kt++){mt.index>kt?(Ft=mt,mt=null):Ft=mt.sibling;var Zt=q(P,mt,z[kt],Z);if(Zt===null){mt===null&&(mt=Ft);break}e&&mt&&Zt.alternate===null&&n(P,mt),x=f(Zt,x,kt),$t===null?vt=Zt:$t.sibling=Zt,$t=Zt,mt=Ft}if(kt===z.length)return a(P,mt),Qt&&ns(P,kt),vt;if(mt===null){for(;kt<z.length;kt++)mt=W(P,z[kt],Z),mt!==null&&(x=f(mt,x,kt),$t===null?vt=mt:$t.sibling=mt,$t=mt);return Qt&&ns(P,kt),vt}for(mt=o(mt);kt<z.length;kt++)Ft=G(mt,P,kt,z[kt],Z),Ft!==null&&(e&&Ft.alternate!==null&&mt.delete(Ft.key===null?kt:Ft.key),x=f(Ft,x,kt),$t===null?vt=Ft:$t.sibling=Ft,$t=Ft);return e&&mt.forEach(function(ur){return n(P,ur)}),Qt&&ns(P,kt),vt}function At(P,x,z,Z){if(z==null)throw Error(r(151));for(var vt=null,$t=null,mt=x,kt=x=0,Ft=null,Zt=z.next();mt!==null&&!Zt.done;kt++,Zt=z.next()){mt.index>kt?(Ft=mt,mt=null):Ft=mt.sibling;var ur=q(P,mt,Zt.value,Z);if(ur===null){mt===null&&(mt=Ft);break}e&&mt&&ur.alternate===null&&n(P,mt),x=f(ur,x,kt),$t===null?vt=ur:$t.sibling=ur,$t=ur,mt=Ft}if(Zt.done)return a(P,mt),Qt&&ns(P,kt),vt;if(mt===null){for(;!Zt.done;kt++,Zt=z.next())Zt=W(P,Zt.value,Z),Zt!==null&&(x=f(Zt,x,kt),$t===null?vt=Zt:$t.sibling=Zt,$t=Zt);return Qt&&ns(P,kt),vt}for(mt=o(mt);!Zt.done;kt++,Zt=z.next())Zt=G(mt,P,kt,Zt.value,Z),Zt!==null&&(e&&Zt.alternate!==null&&mt.delete(Zt.key===null?kt:Zt.key),x=f(Zt,x,kt),$t===null?vt=Zt:$t.sibling=Zt,$t=Zt);return e&&mt.forEach(function(WA){return n(P,WA)}),Qt&&ns(P,kt),vt}function de(P,x,z,Z){if(typeof z=="object"&&z!==null&&z.type===st&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:t:{for(var vt=z.key;x!==null;){if(x.key===vt){if(vt=z.type,vt===st){if(x.tag===7){a(P,x.sibling),Z=h(x,z.props.children),Z.return=P,P=Z;break t}}else if(x.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&Wr(vt)===x.type){a(P,x.sibling),Z=h(x,z.props),hl(Z,z),Z.return=P,P=Z;break t}a(P,x);break}else n(P,x);x=x.sibling}z.type===st?(Z=Qr(z.props.children,P.mode,Z,z.key),Z.return=P,P=Z):(Z=Hu(z.type,z.key,z.props,null,P.mode,Z),hl(Z,z),Z.return=P,P=Z)}return g(P);case nt:t:{for(vt=z.key;x!==null;){if(x.key===vt)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){a(P,x.sibling),Z=h(x,z.children||[]),Z.return=P,P=Z;break t}else{a(P,x);break}else n(P,x);x=x.sibling}Z=ef(z,P.mode,Z),Z.return=P,P=Z}return g(P);case R:return z=Wr(z),de(P,x,z,Z)}if(Ce(z))return dt(P,x,z,Z);if(k(z)){if(vt=k(z),typeof vt!="function")throw Error(r(150));return z=vt.call(z),At(P,x,z,Z)}if(typeof z.then=="function")return de(P,x,Ju(z),Z);if(z.$$typeof===bt)return de(P,x,Yu(P,z),Z);$u(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(a(P,x.sibling),Z=h(x,z),Z.return=P,P=Z):(a(P,x),Z=tf(z,P.mode,Z),Z.return=P,P=Z),g(P)):a(P,x)}return function(P,x,z,Z){try{cl=0;var vt=de(P,x,z,Z);return Ka=null,vt}catch(mt){if(mt===Ya||mt===Qu)throw mt;var $t=Ln(29,mt,null,P.mode);return $t.lanes=Z,$t.return=P,$t}}}var ea=fg(!0),dg=fg(!1),Ys=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ee&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=qu(e),Jp(e,null,a),n}return Bu(e,o,n,a),qu(e)}function fl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,U(e,a)}}function gf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var yf=!1;function dl(){if(yf){var e=Ga;if(e!==null)throw e}}function ml(e,n,a,o){yf=!1;var h=e.updateQueue;Ys=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,B=C.next;C.next=null,g===null?f=B:g.next=B,g=C;var X=e.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==g&&(E===null?X.firstBaseUpdate=B:E.next=B,X.lastBaseUpdate=C))}if(f!==null){var W=h.baseState;g=0,X=B=C=null,E=f;do{var q=E.lane&-536870913,G=q!==E.lane;if(G?(Ht&q)===q:(o&q)===q){q!==0&&q===Fa&&(yf=!0),X!==null&&(X=X.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=e,At=E;q=n;var de=a;switch(At.tag){case 1:if(dt=At.payload,typeof dt=="function"){W=dt.call(de,W,q);break t}W=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=At.payload,q=typeof dt=="function"?dt.call(de,W,q):dt,q==null)break t;W=A({},W,q);break t;case 2:Ys=!0}}q=E.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(B=X=G,C=W):X=X.next=G,g|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(C=W),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Ws|=g,e.lanes=g,e.memoizedState=W}}function mg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function pg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)mg(a[e],n)}var Qa=M(null),Zu=M(0);function gg(e,n){e=ds,at(Zu,e),at(Qa,n),ds=e|n.baseLanes}function _f(){at(Zu,ds),at(Qa,Qa.current)}function vf(){ds=Zu.current,$(Qa),$(Zu)}var kn=M(null),ei=null;function Xs(e){var n=e.alternate;at(De,De.current&1),at(kn,e),ei===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&(ei=e)}function Ef(e){at(De,De.current),at(kn,e),ei===null&&(ei=e)}function yg(e){e.tag===22?(at(De,De.current),at(kn,e),ei===null&&(ei=e)):Js()}function Js(){at(De,De.current),at(kn,kn.current)}function Un(e){$(kn),ei===e&&(ei=null),$(De)}var De=M(0);function Wu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Id(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Lt=null,he=null,Ue=null,tc=!1,Xa=!1,na=!1,ec=0,pl=0,Ja=null,HS=0;function Re(){throw Error(r(321))}function Tf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!xn(e[a],n[a]))return!1;return!0}function Sf(e,n,a,o,h,f){return rs=f,Lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?ty:Uf,na=!1,f=a(o,h),na=!1,Xa&&(f=vg(n,a,o,h)),_g(e),f}function _g(e){K.H=_l;var n=he!==null&&he.next!==null;if(rs=0,Ue=he=Lt=null,tc=!1,pl=0,Ja=null,n)throw Error(r(300));e===null||Pe||(e=e.dependencies,e!==null&&Gu(e)&&(Pe=!0))}function vg(e,n,a,o){Lt=e;var h=0;do{if(Xa&&(Ja=null),pl=0,Xa=!1,25<=h)throw Error(r(301));if(h+=1,Ue=he=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=ey,f=n(a,o)}while(Xa);return f}function FS(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?gl(n):n,e=e.useState()[0],(he!==null?he.memoizedState:null)!==e&&(Lt.flags|=1024),n}function Af(){var e=ec!==0;return ec=0,e}function bf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wf(e){if(tc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}tc=!1}rs=0,Ue=he=Lt=null,Xa=!1,pl=ec=0,Ja=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Lt.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Oe(){if(he===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var n=Ue===null?Lt.memoizedState:Ue.next;if(n!==null)Ue=n,he=e;else{if(e===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ue===null?Lt.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var n=pl;return pl+=1,Ja===null&&(Ja=[]),e=ug(Ja,e,n),n=Lt,(Ue===null?n.memoizedState:Ue.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?ty:Uf),e}function ic(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===bt)return tn(e)}throw Error(r(438,String(e)))}function Rf(e){var n=null,a=Lt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Lt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=nc(),Lt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=L;return n.index++,a}function as(e,n){return typeof n=="function"?n(e):n}function sc(e){var n=Oe();return If(n,he,e)}function If(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,B=n,X=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Ht&W)===W:(rs&W)===W){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Fa&&(X=!0);else if((rs&q)===q){B=B.next,q===Fa&&(X=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=W,g=f):C=C.next=W,Lt.lanes|=q,Ws|=q;W=B.action,na&&a(f,W),f=B.hasEagerState?B.eagerState:a(f,W)}else q={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=q,g=f):C=C.next=q,Lt.lanes|=W,Ws|=W;B=B.next}while(B!==null&&B!==n);if(C===null?g=f:C.next=E,!xn(f,e.memoizedState)&&(Pe=!0,X&&(a=Ga,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Cf(e){var n=Oe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);xn(f,n.memoizedState)||(Pe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Eg(e,n,a){var o=Lt,h=Oe(),f=Qt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!xn((he||h).memoizedState,a);if(g&&(h.memoizedState=a,Pe=!0),h=h.queue,Of(Ag.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ue!==null&&Ue.memoizedState.tag&1){if(o.flags|=2048,$a(9,{destroy:void 0},Sg.bind(null,o,h,a,n),null),me===null)throw Error(r(349));f||(rs&127)!==0||Tg(o,n,a)}return a}function Tg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Lt.updateQueue,n===null?(n=nc(),Lt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Sg(e,n,a,o){n.value=a,n.getSnapshot=o,bg(n)&&wg(e)}function Ag(e,n,a){return a(function(){bg(n)&&wg(e)})}function bg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!xn(e,a)}catch{return!0}}function wg(e){var n=Kr(e,2);n!==null&&Rn(n,e,2)}function Nf(e){var n=vn();if(typeof e=="function"){var a=e;if(e=a(),na){gn(!0);try{a()}finally{gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},n}function Rg(e,n,a,o){return e.baseState=a,If(e,he,typeof o=="function"?o:as)}function GS(e,n,a,o,h){if(oc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ig(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ig(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=K.T,g={};K.T=g;try{var E=a(h,o),C=K.S;C!==null&&C(g,E),Cg(e,n,E)}catch(B){Df(e,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),K.T=f}}else try{f=a(h,o),Cg(e,n,f)}catch(B){Df(e,n,B)}}function Cg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ng(e,n,o)},function(o){return Df(e,n,o)}):Ng(e,n,a)}function Ng(e,n,a){n.status="fulfilled",n.value=a,Dg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ig(e,a)))}function Df(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Dg(n),n=n.next;while(n!==o)}e.action=null}function Dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Og(e,n){return n}function Mg(e,n){if(Qt){var a=me.formState;if(a!==null){t:{var o=Lt;if(Qt){if(ge){e:{for(var h=ge,f=ti;h.nodeType!==8;){if(!f){h=null;break e}if(h=ni(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ge=ni(h.nextSibling),o=h.data==="F!";break t}}Fs(o)}o=!1}o&&(n=a[0])}}return a=vn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:n},a.queue=o,a=$g.bind(null,Lt,o),o.dispatch=a,o=Nf(!1),f=kf.bind(null,Lt,!1,o.queue),o=vn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=GS.bind(null,Lt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Vg(e){var n=Oe();return xg(n,he,e)}function xg(e,n,a){if(n=If(e,n,Og)[0],e=sc(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=gl(n)}catch(g){throw g===Ya?Qu:g}else o=n;n=Oe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Lt.flags|=2048,$a(9,{destroy:void 0},YS.bind(null,h,a),null)),[o,f,e]}function YS(e,n){e.action=n}function Lg(e){var n=Oe(),a=he;if(a!==null)return xg(n,a,e);Oe(),n=n.memoizedState,a=Oe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function $a(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Lt.updateQueue,n===null&&(n=nc(),Lt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function kg(){return Oe().memoizedState}function rc(e,n,a,o){var h=vn();Lt.flags|=e,h.memoizedState=$a(1|n,{destroy:void 0},a,o===void 0?null:o)}function ac(e,n,a,o){var h=Oe();o=o===void 0?null:o;var f=h.memoizedState.inst;he!==null&&o!==null&&Tf(o,he.memoizedState.deps)?h.memoizedState=$a(n,f,a,o):(Lt.flags|=e,h.memoizedState=$a(1|n,f,a,o))}function Ug(e,n){rc(8390656,8,e,n)}function Of(e,n){ac(2048,8,e,n)}function KS(e){Lt.flags|=4;var n=Lt.updateQueue;if(n===null)n=nc(),Lt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Pg(e){var n=Oe().memoizedState;return KS({ref:n,nextImpl:e}),function(){if((ee&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function jg(e,n){return ac(4,2,e,n)}function zg(e,n){return ac(4,4,e,n)}function Bg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qg(e,n,a){a=a!=null?a.concat([e]):null,ac(4,4,Bg.bind(null,n,e),a)}function Mf(){}function Hg(e,n){var a=Oe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Fg(e,n){var a=Oe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=e(),na){gn(!0);try{e()}finally{gn(!1)}}return a.memoizedState=[o,n],o}function Vf(e,n,a){return a===void 0||(rs&1073741824)!==0&&(Ht&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Gy(),Lt.lanes|=e,Ws|=e,a)}function Gg(e,n,a,o){return xn(a,n)?a:Qa.current!==null?(e=Vf(e,a,o),xn(e,n)||(Pe=!0),e):(rs&42)===0||(rs&1073741824)!==0&&(Ht&261930)===0?(Pe=!0,e.memoizedState=a):(e=Gy(),Lt.lanes|=e,Ws|=e,n)}function Yg(e,n,a,o,h){var f=lt.p;lt.p=f!==0&&8>f?f:8;var g=K.T,E={};K.T=E,kf(e,!1,n,a);try{var C=h(),B=K.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=qS(C,o);yl(e,n,X,zn(e))}else yl(e,n,o,zn(e))}catch(W){yl(e,n,{then:function(){},status:"rejected",reason:W},zn())}finally{lt.p=f,g!==null&&E.types!==null&&(g.types=E.types),K.T=g}}function QS(){}function xf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Kg(e).queue;Yg(e,h,n,yt,a===null?QS:function(){return Qg(e),a(o)})}function Kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:yt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qg(e){var n=Kg(e);n.next===null&&(n=e.alternate.memoizedState),yl(e,n.next.queue,{},zn())}function Lf(){return tn(xl)}function Xg(){return Oe().memoizedState}function Jg(){return Oe().memoizedState}function XS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=zn();e=Ks(a);var o=Qs(n,e,a);o!==null&&(Rn(o,n,a),fl(o,n,a)),n={cache:cf()},e.payload=n;return}n=n.return}}function JS(e,n,a){var o=zn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(e)?Zg(n,a):(a=Zh(e,n,a,o),a!==null&&(Rn(a,e,o),Wg(a,n,o)))}function $g(e,n,a){var o=zn();yl(e,n,a,o)}function yl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(e))Zg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,xn(E,g))return Bu(e,n,h,0),me===null&&zu(),!1}catch{}if(a=Zh(e,n,h,o),a!==null)return Rn(a,e,o),Wg(a,n,o),!0}return!1}function kf(e,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(n)throw Error(r(479))}else n=Zh(e,a,o,2),n!==null&&Rn(n,e,2)}function oc(e){var n=e.alternate;return e===Lt||n!==null&&n===Lt}function Zg(e,n){Xa=tc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Wg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,U(e,a)}}var _l={readContext:tn,use:ic,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};_l.useEffectEvent=Re;var ty={readContext:tn,use:ic,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:tn,useEffect:Ug,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,rc(4194308,4,Bg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return rc(4194308,4,e,n)},useInsertionEffect:function(e,n){rc(4,2,e,n)},useMemo:function(e,n){var a=vn();n=n===void 0?null:n;var o=e();if(na){gn(!0);try{e()}finally{gn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=vn();if(a!==void 0){var h=a(n);if(na){gn(!0);try{a(n)}finally{gn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=JS.bind(null,Lt,e),[o.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:function(e){e=Nf(e);var n=e.queue,a=$g.bind(null,Lt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(e,n){var a=vn();return Vf(a,e,n)},useTransition:function(){var e=Nf(!1);return e=Yg.bind(null,Lt,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Lt,h=vn();if(Qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),me===null)throw Error(r(349));(Ht&127)!==0||Tg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ug(Ag.bind(null,o,f,e),[e]),o.flags|=2048,$a(9,{destroy:void 0},Sg.bind(null,o,f,a,n),null),a},useId:function(){var e=vn(),n=me.identifierPrefix;if(Qt){var a=ki,o=Li;a=(o&~(1<<32-Ae(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ec++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=HS++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Lf,useFormState:Mg,useActionState:Mg,useOptimistic:function(e){var n=vn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kf.bind(null,Lt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return vn().memoizedState=XS.bind(null,Lt)},useEffectEvent:function(e){var n=vn(),a={impl:e};return n.memoizedState=a,function(){if((ee&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Uf={readContext:tn,use:ic,useCallback:Hg,useContext:tn,useEffect:Of,useImperativeHandle:qg,useInsertionEffect:jg,useLayoutEffect:zg,useMemo:Fg,useReducer:sc,useRef:kg,useState:function(){return sc(as)},useDebugValue:Mf,useDeferredValue:function(e,n){var a=Oe();return Gg(a,he.memoizedState,e,n)},useTransition:function(){var e=sc(as)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:gl(e),n]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Lf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,n){var a=Oe();return Rg(a,he,e,n)},useMemoCache:Rf,useCacheRefresh:Jg};Uf.useEffectEvent=Pg;var ey={readContext:tn,use:ic,useCallback:Hg,useContext:tn,useEffect:Of,useImperativeHandle:qg,useInsertionEffect:jg,useLayoutEffect:zg,useMemo:Fg,useReducer:Cf,useRef:kg,useState:function(){return Cf(as)},useDebugValue:Mf,useDeferredValue:function(e,n){var a=Oe();return he===null?Vf(a,e,n):Gg(a,he.memoizedState,e,n)},useTransition:function(){var e=Cf(as)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:gl(e),n]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Lf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,n){var a=Oe();return he!==null?Rg(a,he,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Jg};ey.useEffectEvent=Pg;function Pf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var jf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=zn(),h=Ks(o);h.payload=n,a!=null&&(h.callback=a),n=Qs(e,h,o),n!==null&&(Rn(n,e,o),fl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=zn(),h=Ks(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Qs(e,h,o),n!==null&&(Rn(n,e,o),fl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=zn(),o=Ks(a);o.tag=2,n!=null&&(o.callback=n),n=Qs(e,o,a),n!==null&&(Rn(n,e,a),fl(n,e,a))}};function ny(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!sl(a,o)||!sl(h,f):!0}function iy(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&jf.enqueueReplaceState(n,n.state,null)}function ia(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function sy(e){ju(e)}function ry(e){console.error(e)}function ay(e){ju(e)}function lc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function oy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(e,n,a){return a=Ks(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(e,n)},a}function ly(e){return e=Ks(e),e.tag=3,e}function uy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){oy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){oy(n,a,o),typeof h!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function $S(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ha(n,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return ei===null?Ec():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(e,o,h)),!1;case 22:return a.flags|=65536,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(e,o,h)),!1}throw Error(r(435,a.tag))}return hd(e,o,h),Ec(),!1}if(Qt)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(e=Error(r(422),{cause:o}),ol($n(e,a)))):(o!==rf&&(n=Error(r(423),{cause:o}),ol($n(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=$n(o,a),h=zf(e.stateNode,o,h),gf(e,h),Ie!==4&&(Ie=2)),!1;var f=Error(r(520),{cause:o});if(f=$n(f,a),Rl===null?Rl=[f]:Rl.push(f),Ie!==4&&(Ie=2),n===null)return!0;o=$n(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=zf(a.stateNode,o,e),gf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ly(h),uy(h,e,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(r(461)),Pe=!1;function en(e,n,a,o){n.child=e===null?dg(n,null,a,o):ea(n,e.child,a,o)}function cy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return $r(n),o=Sf(e,n,a,g,f,h),E=Af(),e!==null&&!Pe?(bf(e,n,h),os(e,n,h)):(Qt&&E&&nf(n),n.flags|=1,en(e,n,o,h),n.child)}function hy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,fy(e,n,f,o,h)):(e=Hu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(g,o)&&e.ref===n.ref)return os(e,n,h)}return n.flags|=1,e=es(f,o),e.ref=n.ref,e.return=n,n.child=e}function fy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(sl(f,o)&&e.ref===n.ref)if(Pe=!1,n.pendingProps=o=f,Xf(e,h))(e.flags&131072)!==0&&(Pe=!0);else return n.lanes=e.lanes,os(e,n,h)}return qf(e,n,a,o,h)}function dy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return my(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ku(n,f!==null?f.cachePool:null),f!==null?gg(n,f):_f(),yg(n);else return o=n.lanes=536870912,my(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ku(n,f.cachePool),gg(n,f),Js(),n.memoizedState=null):(e!==null&&Ku(n,null),_f(),Js());return en(e,n,h,a),n.child}function vl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function my(e,n,a,o,h){var f=ff();return f=f===null?null:{parent:ke._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Ku(n,null),_f(),yg(n),e!==null&&Ha(e,n,o,!0),n.childLanes=h,null}function uc(e,n){return n=hc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function py(e,n,a){return ea(n,e.child,null,a),e=uc(n,n.pendingProps),e.flags|=2,Un(n),n.memoizedState=null,e}function ZS(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qt){if(o.mode==="hidden")return e=uc(n,o),n.lanes=536870912,vl(null,e);if(Ef(n),(e=ge)?(e=I_(e,ti),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qs!==null?{id:Li,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Zp(e),a.return=n,n.child=a,We=n,ge=null)):e=null,e===null)throw Fs(n);return n.lanes=536870912,null}return uc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=py(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Pe||Ha(e,n,a,!1),h=(a&e.childLanes)!==0,Pe||h){if(o=me,o!==null&&(g=F(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Kr(e,g),Rn(o,e,g),Bf;Ec(),n=py(e,n,a)}else e=f.treeContext,ge=ni(g.nextSibling),We=n,Qt=!0,Hs=null,ti=!1,e!==null&&eg(n,e),n=uc(n,o),n.flags|=4096;return n}return e=es(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function cc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function qf(e,n,a,o,h){return $r(n),a=Sf(e,n,a,o,void 0,h),o=Af(),e!==null&&!Pe?(bf(e,n,h),os(e,n,h)):(Qt&&o&&nf(n),n.flags|=1,en(e,n,a,h),n.child)}function gy(e,n,a,o,h,f){return $r(n),n.updateQueue=null,a=vg(n,o,a,h),_g(e),o=Af(),e!==null&&!Pe?(bf(e,n,f),os(e,n,f)):(Qt&&o&&nf(n),n.flags|=1,en(e,n,a,f),n.child)}function yy(e,n,a,o,h){if($r(n),n.stateNode===null){var f=ja,g=a.contextType;typeof g=="object"&&g!==null&&(f=tn(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?tn(g):ja,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Pf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&jf.enqueueReplaceState(f,f.state,null),ml(n,o,f,h),dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=ia(a,E);f.props=C;var B=f.context,X=a.contextType;g=ja,typeof X=="object"&&X!==null&&(g=tn(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&iy(n,f,o,g),Ys=!1;var q=n.memoizedState;f.state=q,ml(n,o,f,h),dl(),B=n.memoizedState,E||q!==B||Ys?(typeof W=="function"&&(Pf(n,a,W,o),B=n.memoizedState),(C=Ys||ny(n,a,C,o,q,B,g))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,pf(e,n),g=n.memoizedProps,X=ia(a,g),f.props=X,W=n.pendingProps,q=f.context,B=a.contextType,C=ja,typeof B=="object"&&B!==null&&(C=tn(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==W||q!==C)&&iy(n,f,o,C),Ys=!1,q=n.memoizedState,f.state=q,ml(n,o,f,h),dl();var G=n.memoizedState;g!==W||q!==G||Ys||e!==null&&e.dependencies!==null&&Gu(e.dependencies)?(typeof E=="function"&&(Pf(n,a,E,o),G=n.memoizedState),(X=Ys||ny(n,a,X,o,q,G,C)||e!==null&&e.dependencies!==null&&Gu(e.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),f.props=o,f.state=G,f.context=C,o=X):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,cc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ea(n,e.child,null,h),n.child=ea(n,null,a,h)):en(e,n,a,h),n.memoizedState=f.state,e=n.child):e=os(e,n,h),e}function _y(e,n,a,o){return Xr(),n.flags|=256,en(e,n,a,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:og()}}function Gf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=jn),e}function vy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(h?Xs(n):Js(),(e=ge)?(e=I_(e,ti),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qs!==null?{id:Li,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Zp(e),a.return=n,n.child=a,We=n,ge=null)):e=null,e===null)throw Fs(n);return Id(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Js(),h=n.mode,E=hc({mode:"hidden",children:E},h),o=Qr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,g,a),n.memoizedState=Hf,vl(null,o)):(Xs(n),Yf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Xs(n),n.flags&=-257,n=Kf(e,n,a)):n.memoizedState!==null?(Js(),n.child=e.child,n.flags|=128,n=null):(Js(),E=o.fallback,h=n.mode,o=hc({mode:"visible",children:o.children},h),E=Qr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ea(n,e.child,null,a),o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,g,a),n.memoizedState=Hf,n=vl(null,o));else if(Xs(n),Id(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,o=Error(r(419)),o.stack="",o.digest=g,ol({value:o,source:null,stack:null}),n=Kf(e,n,a)}else if(Pe||Ha(e,n,a,!1),g=(a&e.childLanes)!==0,Pe||g){if(g=me,g!==null&&(o=F(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Kr(e,o),Rn(g,e,o),Bf;Rd(E)||Ec(),n=Kf(e,n,a)}else Rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ge=ni(E.nextSibling),We=n,Qt=!0,Hs=null,ti=!1,e!==null&&eg(n,e),n=Yf(n,o.children),n.flags|=4096);return n}return h?(Js(),E=o.fallback,h=n.mode,C=e.child,B=C.sibling,o=es(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=es(B,E):(E=Qr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,vl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(C=ke._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=og(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(e,g,a),n.memoizedState=Hf,vl(e.child,o)):(Xs(n),a=e.child,e=a.sibling,a=es(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Yf(e,n){return n=hc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function hc(e,n){return e=Ln(22,e,null,n),e.lanes=0,e}function Kf(e,n,a){return ea(n,e.child,null,a),e=Yf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ey(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),lf(e.return,n,a)}function Qf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ty(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=De.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,at(De,g),en(e,n,o,a),o=Qt?al:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,a,n);else if(e.tag===19)Ey(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Wu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Wu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qf(n,!0,a,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ws|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ha(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=es(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=es(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Gu(e)))}function WS(e,n,a){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),Gs(n,ke,e.memoizedState.cache),Xr();break;case 27:case 5:Bn(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:Gs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Xs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?vy(e,n,a):(Xs(n),e=os(e,n,a),e!==null?e.sibling:null);Xs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ha(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ty(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(De,De.current),o)break;return null;case 22:return n.lanes=0,dy(e,n,a,n.pendingProps);case 24:Gs(n,ke,e.memoizedState.cache)}return os(e,n,a)}function Sy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Pe=!0;else{if(!Xf(e,a)&&(n.flags&128)===0)return Pe=!1,WS(e,n,a);Pe=(e.flags&131072)!==0}else Pe=!1,Qt&&(n.flags&1048576)!==0&&tg(n,al,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Wr(n.elementType),n.type=e,typeof e=="function")Wh(e)?(o=ia(e,o),n.tag=1,n=yy(null,n,e,o,a)):(n.tag=0,n=qf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ut){n.tag=11,n=cy(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=hy(null,n,e,o,a);break t}}throw n=le(e)||e,Error(r(306,n,""))}}return n;case 0:return qf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ia(o,n.pendingProps),yy(e,n,o,h,a);case 3:t:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,pf(e,n),ml(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Gs(n,ke,o),o!==f.cache&&uf(n,[ke],a,!0),dl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_y(e,n,o,a);break t}else if(o!==h){h=$n(Error(r(424)),n),ol(h),n=_y(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ge=ni(e.firstChild),We=n,Qt=!0,Hs=null,ti=!0,a=dg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xr(),o===h){n=os(e,n,a);break t}en(e,n,o,a)}n=n.child}return n;case 26:return cc(e,n),e===null?(a=V_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Qt||(a=n.type,e=n.pendingProps,o=Ic(Ct.current).createElement(a),o[Nt]=n,o[Vt]=e,nn(o,a,e),xe(o),n.stateNode=o):n.memoizedState=V_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Bn(n),e===null&&Qt&&(o=n.stateNode=D_(n.type,n.pendingProps,Ct.current),We=n,ti=!0,h=ge,sr(n.type)?(Cd=h,ge=ni(o.firstChild)):ge=h),en(e,n,n.pendingProps.children,a),cc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((h=o=ge)&&(o=NA(o,n.type,n.pendingProps,ti),o!==null?(n.stateNode=o,We=n,ge=ni(o.firstChild),ti=!1,h=!0):h=!1),h||Fs(n)),Bn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Ad(h,f)?o=null:g!==null&&Ad(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Sf(e,n,FS,null,null,a),xl._currentValue=h),cc(e,n),en(e,n,o,a),n.child;case 6:return e===null&&Qt&&((e=a=ge)&&(a=DA(a,n.pendingProps,ti),a!==null?(n.stateNode=a,We=n,ge=null,e=!0):e=!1),e||Fs(n)),null;case 13:return vy(e,n,a);case 4:return Te(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ea(n,null,o,a):en(e,n,o,a),n.child;case 11:return cy(e,n,n.type,n.pendingProps,a);case 7:return en(e,n,n.pendingProps,a),n.child;case 8:return en(e,n,n.pendingProps.children,a),n.child;case 12:return en(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Gs(n,n.type,o.value),en(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,$r(n),h=tn(h),o=o(h),n.flags|=1,en(e,n,o,a),n.child;case 14:return hy(e,n,n.type,n.pendingProps,a);case 15:return fy(e,n,n.type,n.pendingProps,a);case 19:return Ty(e,n,a);case 31:return ZS(e,n,a);case 22:return dy(e,n,a,n.pendingProps);case 24:return $r(n),o=tn(ke),e===null?(h=ff(),h===null&&(h=me,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},mf(n),Gs(n,ke,h)):((e.lanes&a)!==0&&(pf(e,n),ml(n,null,null,a),dl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Gs(n,ke,o)):(o=f.cache,Gs(n,ke,o),o!==h.cache&&uf(n,[ke],a,!0))),en(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ls(e){e.flags|=4}function Jf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Xy())e.flags|=8192;else throw ta=Xu,df}else e.flags&=-16777217}function Ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P_(n))if(Xy())e.flags|=8192;else throw ta=Xu,df}function fc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ba():536870912,e.lanes|=n,eo|=n)}function El(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function tA(e,n,a){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(n),null;case 1:return ye(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ss(ke),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(qa(n)?ls(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),ye(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ls(n),f!==null?(ye(n),Ay(n,f)):(ye(n),Jf(n,h,null,o,a))):f?f!==e.memoizedState?(ls(n),ye(n),Ay(n,f)):(ye(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ls(n),ye(n),Jf(n,h,e,o,a)),null;case 27:if(Ki(n),a=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ye(n),null}e=ht.current,qa(n)?ng(n):(e=D_(h,o,a),n.stateNode=e,ls(n))}return ye(n),null;case 5:if(Ki(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ye(n),null}if(f=ht.current,qa(n))ng(n);else{var g=Ic(Ct.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Nt]=n,f[Vt]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(nn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ls(n)}}return ye(n),Jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Ct.current,qa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Nt]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||v_(e.nodeValue,a)),e||Fs(n,!0)}else e=Ic(e).createTextNode(o),e[Nt]=n,n.stateNode=e}return ye(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=qa(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Nt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ye(n),e=!1}else a=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Un(n),n):(Un(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ye(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=qa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Nt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ye(n),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Un(n),n):(Un(n),null)}return Un(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),fc(n,n.updateQueue),ye(n),null);case 4:return ue(),e===null&&_d(n.stateNode.containerInfo),ye(n),null;case 10:return ss(n.type),ye(n),null;case 19:if($(De),o=n.memoizedState,o===null)return ye(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)El(o,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Wu(e),f!==null){for(n.flags|=128,El(o,!1),e=f.updateQueue,n.updateQueue=e,fc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)$p(a,e),a=a.sibling;return at(De,De.current&1|2),Qt&&ns(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>yc&&(n.flags|=128,h=!0,El(o,!1),n.lanes=4194304)}else{if(!h)if(e=Wu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,fc(n,e),El(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qt)return ye(n),null}else 2*Je()-o.renderingStartTime>yc&&a!==536870912&&(n.flags|=128,h=!0,El(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,a=De.current,at(De,h?a&1|2:a&1),Qt&&ns(n,o.treeForkCount),e):(ye(n),null);case 22:case 23:return Un(n),vf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ye(n),n.subtreeFlags&6&&(n.flags|=8192)):ye(n),a=n.updateQueue,a!==null&&fc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&$(Zr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ss(ke),ye(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function eA(e,n){switch(sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ss(ke),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ki(n),null;case 31:if(n.memoizedState!==null){if(Un(n),n.alternate===null)throw Error(r(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Un(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(De),null;case 4:return ue(),null;case 10:return ss(n.type),null;case 22:case 23:return Un(n),vf(),e!==null&&$(Zr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ss(ke),null;case 25:return null;default:return null}}function by(e,n){switch(sf(n),n.tag){case 3:ss(ke),ue();break;case 26:case 27:case 5:Ki(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&Un(n);break;case 13:Un(n);break;case 19:$(De);break;case 10:ss(n.type);break;case 22:case 23:Un(n),vf(),e!==null&&$(Zr);break;case 24:ss(ke)}}function Tl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){oe(n,n.return,E)}}function $s(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,B=E;try{B()}catch(X){oe(h,C,X)}}}o=o.next}while(o!==f)}}catch(X){oe(n,n.return,X)}}function wy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{pg(n,a)}catch(o){oe(e,e.return,o)}}}function Ry(e,n,a){a.props=ia(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){oe(e,n,o)}}function Sl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){oe(e,n,h)}}function Ui(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){oe(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){oe(e,n,h)}else a.current=null}function Iy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){oe(e,e.return,h)}}function $f(e,n,a){try{var o=e.stateNode;AA(o,e.type,a,n),o[Vt]=n}catch(h){oe(e,e.return,h)}}function Cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sr(e.type)||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=li));else if(o!==4&&(o===27&&sr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Wf(e,n,a),e=e.sibling;e!==null;)Wf(e,n,a),e=e.sibling}function dc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&sr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dc(e,n,a),e=e.sibling;e!==null;)dc(e,n,a),e=e.sibling}function Ny(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,o,a),n[Nt]=e,n[Vt]=a}catch(f){oe(e,e.return,f)}}var us=!1,je=!1,td=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function nA(e,n){if(e=e.containerInfo,Td=xc,e=qp(e),Yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,B=0,X=0,W=e,q=null;e:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(E=g+h),W!==f||o!==0&&W.nodeType!==3||(C=g+o),W.nodeType===3&&(g+=W.nodeValue.length),(G=W.firstChild)!==null;)q=W,W=G;for(;;){if(W===e)break e;if(q===a&&++B===h&&(E=g),q===f&&++X===o&&(C=g),(G=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=G}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:e,selectionRange:a},xc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var dt=ia(a.type,h);e=o.getSnapshotBeforeUpdate(dt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(At){oe(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Oy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hs(e,a),o&4&&Tl(5,a);break;case 1:if(hs(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){oe(a,a.return,g)}else{var h=ia(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){oe(a,a.return,g)}}o&64&&wy(a),o&512&&Sl(a,a.return);break;case 3:if(hs(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{pg(e,n)}catch(g){oe(a,a.return,g)}}break;case 27:n===null&&o&4&&Ny(a);case 26:case 5:hs(e,a),n===null&&o&4&&Iy(a),o&512&&Sl(a,a.return);break;case 12:hs(e,a);break;case 31:hs(e,a),o&4&&xy(e,a);break;case 13:hs(e,a),o&4&&Ly(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hA.bind(null,a),OA(e,a))));break;case 22:if(o=a.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||je,h=us;var f=je;us=o,(je=n)&&!f?fs(e,a,(a.subtreeFlags&8772)!==0):hs(e,a),us=h,je=f}break;case 30:break;default:hs(e,a)}}function My(e){var n=e.alternate;n!==null&&(e.alternate=null,My(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&wa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,Sn=!1;function cs(e,n,a){for(a=a.child;a!==null;)Vy(e,n,a),a=a.sibling}function Vy(e,n,a){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(pn,a)}catch{}switch(a.tag){case 26:je||Ui(a,n),cs(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||Ui(a,n);var o=Ee,h=Sn;sr(a.type)&&(Ee=a.stateNode,Sn=!1),cs(e,n,a),Ol(a.stateNode),Ee=o,Sn=h;break;case 5:je||Ui(a,n);case 6:if(o=Ee,h=Sn,Ee=null,cs(e,n,a),Ee=o,Sn=h,Ee!==null)if(Sn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(f){oe(a,n,f)}else try{Ee.removeChild(a.stateNode)}catch(f){oe(a,n,f)}break;case 18:Ee!==null&&(Sn?(e=Ee,w_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),uo(e)):w_(Ee,a.stateNode));break;case 4:o=Ee,h=Sn,Ee=a.stateNode.containerInfo,Sn=!0,cs(e,n,a),Ee=o,Sn=h;break;case 0:case 11:case 14:case 15:$s(2,a,n),je||$s(4,a,n),cs(e,n,a);break;case 1:je||(Ui(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ry(a,n,o)),cs(e,n,a);break;case 21:cs(e,n,a);break;case 22:je=(o=je)||a.memoizedState!==null,cs(e,n,a),je=o;break;default:cs(e,n,a)}}function xy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{uo(e)}catch(a){oe(n,n.return,a)}}}function Ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{uo(e)}catch(a){oe(n,n.return,a)}}function iA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dy),n;default:throw Error(r(435,e.tag))}}function mc(e,n){var a=iA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=fA.bind(null,e,o);o.then(h,h)}})}function An(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(sr(E.type)){Ee=E.stateNode,Sn=!1;break t}break;case 5:Ee=E.stateNode,Sn=!1;break t;case 3:case 4:Ee=E.stateNode.containerInfo,Sn=!0;break t}E=E.return}if(Ee===null)throw Error(r(160));Vy(f,g,h),Ee=null,Sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,e),n=n.sibling}var mi=null;function ky(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(n,e),bn(e),o&4&&($s(3,e,e.return),Tl(3,e),$s(5,e,e.return));break;case 1:An(n,e),bn(e),o&512&&(je||a===null||Ui(a,a.return)),o&64&&us&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=mi;if(An(n,e),bn(e),o&512&&(je||a===null||Ui(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[On]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),nn(f,o,a),f[Nt]=e,xe(f),o=f;break t;case"link":var g=k_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),nn(f,o,a),h.head.appendChild(f);break;case"meta":if(g=k_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),nn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Nt]=e,xe(f),o=f}e.stateNode=o}else U_(h,e.type,e.stateNode);else e.stateNode=L_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?U_(h,e.type,e.stateNode):L_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&$f(e,e.memoizedProps,a.memoizedProps)}break;case 27:An(n,e),bn(e),o&512&&(je||a===null||Ui(a,a.return)),a!==null&&o&4&&$f(e,e.memoizedProps,a.memoizedProps);break;case 5:if(An(n,e),bn(e),o&512&&(je||a===null||Ui(a,a.return)),e.flags&32){h=e.stateNode;try{Tn(h,"")}catch(dt){oe(e,e.return,dt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,$f(e,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(An(n,e),bn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(dt){oe(e,e.return,dt)}}break;case 3:if(Dc=null,h=mi,mi=Cc(n.containerInfo),An(n,e),mi=h,bn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(n.containerInfo)}catch(dt){oe(e,e.return,dt)}td&&(td=!1,Uy(e));break;case 4:o=mi,mi=Cc(e.stateNode.containerInfo),An(n,e),bn(e),mi=o;break;case 12:An(n,e),bn(e);break;case 31:An(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 13:An(n,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=us,X=je;if(us=B||h,je=X||C,An(n,e),je=X,us=B,bn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||us||je||sa(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var W=C.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(dt){oe(C,C.return,dt)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(dt){oe(C,C.return,dt)}}}else if(n.tag===18){if(a===null){C=n;try{var G=C.stateNode;h?R_(G,!0):R_(C.stateNode,!1)}catch(dt){oe(C,C.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mc(e,a))));break;case 19:An(n,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 30:break;case 21:break;default:An(n,e),bn(e)}}function bn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Cy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(e);dc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(Tn(g,""),a.flags&=-33);var E=Zf(e);dc(e,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Zf(e);Wf(e,B,C);break;default:throw Error(r(161))}}catch(X){oe(e,e.return,X)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function hs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Oy(e,n.alternate,n),n=n.sibling}function sa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:$s(4,n,n.return),sa(n);break;case 1:Ui(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ry(n,n.return,a),sa(n);break;case 27:Ol(n.stateNode);case 26:case 5:Ui(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}e=e.sibling}}function fs(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,a),Tl(4,f);break;case 1:if(fs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){oe(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)mg(C[h],E)}catch(B){oe(o,o.return,B)}}a&&g&64&&wy(f),Sl(f,f.return);break;case 27:Ny(f);case 26:case 5:fs(h,f,a),a&&o===null&&g&4&&Iy(f),Sl(f,f.return);break;case 12:fs(h,f,a);break;case 31:fs(h,f,a),a&&g&4&&xy(h,f);break;case 13:fs(h,f,a),a&&g&4&&Ly(h,f);break;case 22:f.memoizedState===null&&fs(h,f,a),Sl(f,f.return);break;case 30:break;default:fs(h,f,a)}n=n.sibling}}function ed(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ll(a))}function nd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ll(e))}function pi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(e,n,a,o),n=n.sibling}function Py(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,a,o),h&2048&&Tl(9,n);break;case 1:pi(e,n,a,o);break;case 3:pi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ll(e)));break;case 12:if(h&2048){pi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){oe(n,n.return,C)}}else pi(e,n,a,o);break;case 31:pi(e,n,a,o);break;case 13:pi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?pi(e,n,a,o):Al(e,n):f._visibility&2?pi(e,n,a,o):(f._visibility|=2,Za(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:pi(e,n,a,o),h&2048&&nd(n.alternate,n);break;default:pi(e,n,a,o)}}function Za(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,C=o,B=g.flags;switch(g.tag){case 0:case 11:case 15:Za(f,g,E,C,h),Tl(8,g);break;case 23:break;case 22:var X=g.stateNode;g.memoizedState!==null?X._visibility&2?Za(f,g,E,C,h):Al(f,g):(X._visibility|=2,Za(f,g,E,C,h)),h&&B&2048&&ed(g.alternate,g);break;case 24:Za(f,g,E,C,h),h&&B&2048&&nd(g.alternate,g);break;default:Za(f,g,E,C,h)}n=n.sibling}}function Al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Al(a,o),h&2048&&ed(o.alternate,o);break;case 24:Al(a,o),h&2048&&nd(o.alternate,o);break;default:Al(a,o)}n=n.sibling}}var bl=8192;function Wa(e,n,a){if(e.subtreeFlags&bl)for(e=e.child;e!==null;)jy(e,n,a),e=e.sibling}function jy(e,n,a){switch(e.tag){case 26:Wa(e,n,a),e.flags&bl&&e.memoizedState!==null&&HA(a,mi,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,n,a);break;case 3:case 4:var o=mi;mi=Cc(e.stateNode.containerInfo),Wa(e,n,a),mi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=bl,bl=16777216,Wa(e,n,a),bl=o):Wa(e,n,a));break;default:Wa(e,n,a)}}function zy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qe=o,qy(o,e)}zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)By(e),e=e.sibling}function By(e){switch(e.tag){case 0:case 11:case 15:wl(e),e.flags&2048&&$s(9,e,e.return);break;case 3:wl(e);break;case 12:wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,pc(e)):wl(e);break;default:wl(e)}}function pc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qe=o,qy(o,e)}zy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:$s(8,n,n.return),pc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,pc(n));break;default:pc(n)}e=e.sibling}}function qy(e,n){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:$s(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ll(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Qe=o;else t:for(a=e;Qe!==null;){o=Qe;var h=o.sibling,f=o.return;if(My(o),o===a){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var sA={getCacheForType:function(e){var n=tn(ke),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return tn(ke).controller.signal}},rA=typeof WeakMap=="function"?WeakMap:Map,ee=0,me=null,Bt=null,Ht=0,ae=0,Pn=null,Zs=!1,to=!1,id=!1,ds=0,Ie=0,Ws=0,ra=0,sd=0,jn=0,eo=0,Rl=null,wn=null,rd=!1,gc=0,Hy=0,yc=1/0,_c=null,tr=null,Fe=0,er=null,no=null,ms=0,ad=0,od=null,Fy=null,Il=0,ld=null;function zn(){return(ee&2)!==0&&Ht!==0?Ht&-Ht:K.T!==null?md():it()}function Gy(){if(jn===0)if((Ht&536870912)===0||Qt){var e=yn;yn<<=1,(yn&3932160)===0&&(yn=262144),jn=e}else jn=536870912;return e=kn.current,e!==null&&(e.flags|=32),jn}function Rn(e,n,a){(e===me&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(io(e,0),nr(e,Ht,jn,!1)),Ai(e,a),((ee&2)===0||e!==me)&&(e===me&&((ee&2)===0&&(ra|=a),Ie===4&&nr(e,Ht,jn,!1)),Pi(e))}function Yy(e,n,a){if((ee&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||zt(e,n),h=o?lA(e,n):cd(e,n,!0),f=o;do{if(h===0){to&&!o&&nr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!aA(a)){h=cd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Rl;var C=E.current.memoizedState.isDehydrated;if(C&&(io(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(id&&!C){E.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break t}f=wn,wn=h,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){io(e,0),nr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:nr(o,n,jn,!Zs);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=gc+300-Je(),10<h)){if(nr(o,n,jn,!Zs),Fn(o,0,!0)!==0)break t;ms=n,o.timeoutHandle=A_(Ky.bind(null,o,a,wn,_c,rd,n,jn,ra,eo,Zs,f,"Throttled",-0,0),h);break t}Ky(o,a,wn,_c,rd,n,jn,ra,eo,Zs,f,null,-0,0)}}break}while(!0);Pi(e)}function Ky(e,n,a,o,h,f,g,E,C,B,X,W,q,G){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},jy(n,f,W);var dt=(f&62914560)===f?gc-Je():(f&4194048)===f?Hy-Je():0;if(dt=FA(W,dt),dt!==null){ms=f,e.cancelPendingCommit=dt(e_.bind(null,e,n,f,a,o,h,g,E,C,X,W,null,q,G)),nr(e,f,g,!B);return}}e_(e,n,f,a,o,h,g,E,C)}function aA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!xn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(e,n,a,o){n&=~sd,n&=~ra,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&b(e,a,n)}function vc(){return(ee&6)===0?(Cl(0),!1):!0}function ud(){if(Bt!==null){if(ae===0)var e=Bt.return;else e=Bt,is=Jr=null,wf(e),Ka=null,cl=0,e=Bt;for(;e!==null;)by(e.alternate,e),e=e.return;Bt=null}}function io(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,RA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ms=0,ud(),me=e,Bt=a=es(e.current,null),Ht=n,ae=0,Pn=null,Zs=!1,to=zt(e,n),id=!1,eo=jn=sd=ra=Ws=Ie=0,wn=Rl=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ae(o),f=1<<h;n|=e[h],o&=~f}return ds=n,zu(),a}function Qy(e,n){Lt=null,K.H=_l,n===Ya||n===Qu?(n=cg(),ae=3):n===df?(n=cg(),ae=4):ae=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,Bt===null&&(Ie=1,lc(e,$n(n,e.current)))}function Xy(){var e=kn.current;return e===null?!0:(Ht&4194048)===Ht?ei===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?e===ei:!1}function Jy(){var e=K.H;return K.H=_l,e===null?_l:e}function $y(){var e=K.A;return K.A=sA,e}function Ec(){Ie=4,Zs||(Ht&4194048)!==Ht&&kn.current!==null||(to=!0),(Ws&134217727)===0&&(ra&134217727)===0||me===null||nr(me,Ht,jn,!1)}function cd(e,n,a){var o=ee;ee|=2;var h=Jy(),f=$y();(me!==e||Ht!==n)&&(_c=null,io(e,n)),n=!1;var g=Ie;t:do try{if(ae!==0&&Bt!==null){var E=Bt,C=Pn;switch(ae){case 8:ud(),g=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var B=ae;if(ae=0,Pn=null,so(e,E,C,B),a&&to){g=0;break t}break;default:B=ae,ae=0,Pn=null,so(e,E,C,B)}}oA(),g=Ie;break}catch(X){Qy(e,X)}while(!0);return n&&e.shellSuspendCounter++,is=Jr=null,ee=o,K.H=h,K.A=f,Bt===null&&(me=null,Ht=0,zu()),g}function oA(){for(;Bt!==null;)Zy(Bt)}function lA(e,n){var a=ee;ee|=2;var o=Jy(),h=$y();me!==e||Ht!==n?(_c=null,yc=Je()+500,io(e,n)):to=zt(e,n);t:do try{if(ae!==0&&Bt!==null){n=Bt;var f=Pn;e:switch(ae){case 1:ae=0,Pn=null,so(e,n,f,1);break;case 2:case 9:if(lg(f)){ae=0,Pn=null,Wy(n);break}n=function(){ae!==2&&ae!==9||me!==e||(ae=7),Pi(e)},f.then(n,n);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:lg(f)?(ae=0,Pn=null,Wy(n)):(ae=0,Pn=null,so(e,n,f,7));break;case 5:var g=null;switch(Bt.tag){case 26:g=Bt.memoizedState;case 5:case 27:var E=Bt;if(g?P_(g):E.stateNode.complete){ae=0,Pn=null;var C=E.sibling;if(C!==null)Bt=C;else{var B=E.return;B!==null?(Bt=B,Tc(B)):Bt=null}break e}}ae=0,Pn=null,so(e,n,f,5);break;case 6:ae=0,Pn=null,so(e,n,f,6);break;case 8:ud(),Ie=6;break t;default:throw Error(r(462))}}uA();break}catch(X){Qy(e,X)}while(!0);return is=Jr=null,K.H=o,K.A=h,ee=a,Bt!==null?0:(me=null,Ht=0,zu(),Ie)}function uA(){for(;Bt!==null&&!jo();)Zy(Bt)}function Zy(e){var n=Sy(e.alternate,e,ds);e.memoizedProps=e.pendingProps,n===null?Tc(e):Bt=n}function Wy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=gy(a,n,n.pendingProps,n.type,void 0,Ht);break;case 11:n=gy(a,n,n.pendingProps,n.type.render,n.ref,Ht);break;case 5:wf(n);default:by(a,n),n=Bt=$p(n,ds),n=Sy(a,n,ds)}e.memoizedProps=e.pendingProps,n===null?Tc(e):Bt=n}function so(e,n,a,o){is=Jr=null,wf(n),Ka=null,cl=0;var h=n.return;try{if($S(e,h,n,a,Ht)){Ie=1,lc(e,$n(a,e.current)),Bt=null;return}}catch(f){if(h!==null)throw Bt=h,f;Ie=1,lc(e,$n(a,e.current)),Bt=null;return}n.flags&32768?(Qt||o===1?e=!0:to||(Ht&536870912)!==0?e=!1:(Zs=e=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),t_(n,e)):Tc(n)}function Tc(e){var n=e;do{if((n.flags&32768)!==0){t_(n,Zs);return}e=n.return;var a=tA(n.alternate,n,ds);if(a!==null){Bt=a;return}if(n=n.sibling,n!==null){Bt=n;return}Bt=n=e}while(n!==null);Ie===0&&(Ie=5)}function t_(e,n){do{var a=eA(e.alternate,e);if(a!==null){a.flags&=32767,Bt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Bt=e;return}Bt=e=a}while(e!==null);Ie=6,Bt=null}function e_(e,n,a,o,h,f,g,E,C){e.cancelPendingCommit=null;do Sc();while(Fe!==0);if((ee&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=$h,zo(e,a,f,g,E,C),e===me&&(Bt=me=null,Ht=0),no=n,er=e,ms=a,ad=f,od=h,Fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dA(on,function(){return a_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=lt.p,lt.p=2,g=ee,ee|=4;try{nA(e,n,a)}finally{ee=g,lt.p=h,K.T=o}}Fe=1,n_(),i_(),s_()}}function n_(){if(Fe===1){Fe=0;var e=er,n=no,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=lt.p;lt.p=2;var h=ee;ee|=4;try{ky(n,e);var f=Sd,g=qp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Bp(E.ownerDocument.documentElement,E)){if(C!==null&&Yh(E)){var B=C.start,X=C.end;if(X===void 0&&(X=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(X,E.value.length);else{var W=E.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var G=q.getSelection(),dt=E.textContent.length,At=Math.min(C.start,dt),de=C.end===void 0?At:Math.min(C.end,dt);!G.extend&&At>de&&(g=de,de=At,At=g);var P=zp(E,At),x=zp(E,de);if(P&&x&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var z=W.createRange();z.setStart(P.node,P.offset),G.removeAllRanges(),At>de?(G.addRange(z),G.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),G.addRange(z))}}}}for(W=[],G=E;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<W.length;E++){var Z=W[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}xc=!!Td,Sd=Td=null}finally{ee=h,lt.p=o,K.T=a}}e.current=n,Fe=2}}function i_(){if(Fe===2){Fe=0;var e=er,n=no,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=lt.p;lt.p=2;var h=ee;ee|=4;try{Oy(e,n.alternate,n)}finally{ee=h,lt.p=o,K.T=a}}Fe=3}}function s_(){if(Fe===4||Fe===3){Fe=0,Sa();var e=er,n=no,a=ms,o=Fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Fe=5:(Fe=0,no=er=null,r_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(tr=null),tt(a),n=n.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=lt.p,lt.p=2,K.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{K.T=n,lt.p=h}}(ms&3)!==0&&Sc(),Pi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ld?Il++:(Il=0,ld=e):Il=0,Cl(0)}}function r_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ll(n)))}function Sc(){return n_(),i_(),s_(),a_()}function a_(){if(Fe!==5)return!1;var e=er,n=ad;ad=0;var a=tt(ms),o=K.T,h=lt.p;try{lt.p=32>a?32:a,K.T=null,a=od,od=null;var f=er,g=ms;if(Fe=0,no=er=null,ms=0,(ee&6)!==0)throw Error(r(331));var E=ee;if(ee|=4,By(f.current),Py(f,f.current,g,a),ee=E,Cl(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(pn,f)}catch{}return!0}finally{lt.p=h,K.T=o,r_(e,n)}}function o_(e,n,a){n=$n(a,n),n=zf(e.stateNode,n,2),e=Qs(e,n,2),e!==null&&(Ai(e,2),Pi(e))}function oe(e,n,a){if(e.tag===3)o_(e,e,a);else for(;n!==null;){if(n.tag===3){o_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(tr===null||!tr.has(o))){e=$n(a,e),a=ly(2),o=Qs(n,a,2),o!==null&&(uy(a,o,n,e),Ai(o,2),Pi(o));break}}n=n.return}}function hd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new rA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),e=cA.bind(null,e,n,a),n.then(e,e))}function cA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,me===e&&(Ht&a)===a&&(Ie===4||Ie===3&&(Ht&62914560)===Ht&&300>Je()-gc?(ee&2)===0&&io(e,0):sd|=a,eo===Ht&&(eo=0)),Pi(e)}function l_(e,n){n===0&&(n=ba()),e=Kr(e,n),e!==null&&(Ai(e,n),Pi(e))}function hA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),l_(e,a)}function fA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),l_(e,a)}function dA(e,n){return Se(e,n)}var Ac=null,ro=null,fd=!1,bc=!1,dd=!1,ir=0;function Pi(e){e!==ro&&e.next===null&&(ro===null?Ac=ro=e:ro=ro.next=e),bc=!0,fd||(fd=!0,pA())}function Cl(e,n){if(!dd&&bc){dd=!0;do for(var a=!1,o=Ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,f_(o,f))}else f=Ht,f=Fn(o,o===me?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zt(o,f)||(a=!0,f_(o,f));o=o.next}while(a);dd=!1}}function mA(){u_()}function u_(){bc=fd=!1;var e=0;ir!==0&&wA()&&(e=ir);for(var n=Je(),a=null,o=Ac;o!==null;){var h=o.next,f=c_(o,n);f===0?(o.next=null,a===null?Ac=h:a.next=h,h===null&&(ro=a)):(a=o,(e!==0||(f&3)!==0)&&(bc=!0)),o=h}Fe!==0&&Fe!==5||Cl(e),ir!==0&&(ir=0)}function c_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ae(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=$e(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=me,a=Ht,a=Fn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ti(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zt(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Ti(o),tt(a)){case 2:case 8:a=Or;break;case 32:a=on;break;case 268435456:a=Aa;break;default:a=on}return o=h_.bind(null,e),a=Se(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Ti(o),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,n){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Sc()&&e.callbackNode!==a)return null;var o=Ht;return o=Fn(e,e===me?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Yy(e,o,n),c_(e,Je()),e.callbackNode!=null&&e.callbackNode===a?h_.bind(null,e):null)}function f_(e,n){if(Sc())return null;Yy(e,n,!0)}function pA(){IA(function(){(ee&6)!==0?Se(Dr,mA):u_()})}function md(){if(ir===0){var e=Fa;e===0&&(e=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),ir=e}return ir}function d_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Na(""+e)}function m_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function gA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=d_((h[Vt]||null).action),g=o.submitter;g&&(n=(n=g[Vt]||null)?d_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Oi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ir!==0){var C=g?m_(h,g):new FormData(h);xf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?m_(h,g):new FormData(h),xf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var pd=0;pd<Jh.length;pd++){var gd=Jh[pd],yA=gd.toLowerCase(),_A=gd[0].toUpperCase()+gd.slice(1);di(yA,"on"+_A)}di(Gp,"onAnimationEnd"),di(Yp,"onAnimationIteration"),di(Kp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(xS,"onTransitionRun"),di(LS,"onTransitionStart"),di(kS,"onTransitionCancel"),di(Qp,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function p_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(X){ju(X)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,B=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(X){ju(X)}h.currentTarget=null,f=C}}}}function qt(e,n){var a=n[Dn];a===void 0&&(a=n[Dn]=new Set);var o=e+"__bubble";a.has(o)||(g_(n,e,2,!1),a.add(o))}function yd(e,n,a){var o=0;n&&(o|=4),g_(a,e,o,n)}var wc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[wc]){e[wc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(vA.has(a)||yd(a,!1,e),yd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wc]||(n[wc]=!0,yd("selectionchange",!1,n))}}function g_(e,n,a,o){switch(G_(n)){case 2:var h=KA;break;case 8:h=QA;break;default:h=Vd}a=h.bind(null,n,a,e),h=void 0,!jr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function vd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=bi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ps(function(){var B=f,X=Kn(a),W=[];t:{var q=Xp.get(e);if(q!==void 0){var G=Oi,dt=e;switch(e){case"keypress":if(Br(a)===0)break t;case"keydown":case"keyup":G=ku;break;case"focusin":dt="focus",G=Hr;break;case"focusout":dt="blur",G=Hr;break;case"beforeblur":case"afterblur":G=Hr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Gp:case Yp:case Kp:G=Nu;break;case Qp:G=S;break;case"scroll":case"scrollend":G=Wo;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ts;break;case"toggle":case"beforetoggle":G=xt}var At=(n&4)!==0,de=!At&&(e==="scroll"||e==="scrollend"),P=At?q!==null?q+"Capture":null:q;At=[];for(var x=B,z;x!==null;){var Z=x;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||P===null||(Z=ui(x,P),Z!=null&&At.push(Dl(x,Z,z))),de)break;x=x.return}0<At.length&&(q=new G(q,dt,null,a,X),W.push({event:q,listeners:At}))}}if((n&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&a!==Jo&&(dt=a.relatedTarget||a.fromElement)&&(bi(dt)||dt[Wt]))break t;if((G||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,G?(dt=a.relatedTarget||a.toElement,G=B,dt=dt?bi(dt):null,dt!==null&&(de=c(dt),At=dt.tag,dt!==de||At!==5&&At!==27&&At!==6)&&(dt=null)):(G=null,dt=B),G!==dt)){if(At=tl,Z="onMouseLeave",P="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(At=ts,Z="onPointerLeave",P="onPointerEnter",x="pointer"),de=G==null?q:Mn(G),z=dt==null?q:Mn(dt),q=new At(Z,x+"leave",G,a,X),q.target=de,q.relatedTarget=z,Z=null,bi(X)===B&&(At=new At(P,x+"enter",dt,a,X),At.target=z,At.relatedTarget=de,Z=At),de=Z,G&&dt)e:{for(At=EA,P=G,x=dt,z=0,Z=P;Z;Z=At(Z))z++;Z=0;for(var vt=x;vt;vt=At(vt))Z++;for(;0<z-Z;)P=At(P),z--;for(;0<Z-z;)x=At(x),Z--;for(;z--;){if(P===x||x!==null&&P===x.alternate){At=P;break e}P=At(P),x=At(x)}At=null}else At=null;G!==null&&y_(W,q,G,At,!1),dt!==null&&de!==null&&y_(W,de,dt,At,!0)}}t:{if(q=B?Mn(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var $t=xp;else if(Mp(q))if(Lp)$t=OS;else{$t=NS;var mt=CS}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ca(B.elementType)&&($t=xp):$t=DS;if($t&&($t=$t(e,B))){Vp(W,$t,a,X);break t}mt&&mt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ko(q,"number",q.value)}switch(mt=B?Mn(B):window,e){case"focusin":(Mp(mt)||mt.contentEditable==="true")&&(ka=mt,Kh=B,rl=null);break;case"focusout":rl=Kh=ka=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Hp(W,a,X);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Hp(W,a,X)}var kt;if(te)t:{switch(e){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else La?Fr(e,a)&&(Ft="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ft="onCompositionStart");Ft&&(xi&&a.locale!=="ko"&&(La||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&La&&(kt=Zo()):(Di=X,$o="value"in Di?Di.value:Di.textContent,La=!0)),mt=Rc(B,Ft),0<mt.length&&(Ft=new Vi(Ft,e,null,a,X),W.push({event:Ft,listeners:mt}),kt?Ft.data=kt:(kt=xa(a),kt!==null&&(Ft.data=kt)))),(kt=Xn?bS(e,a):wS(e,a))&&(Ft=Rc(B,"onBeforeInput"),0<Ft.length&&(mt=new Vi("onBeforeInput","beforeinput",null,a,X),W.push({event:mt,listeners:Ft}),mt.data=kt)),gA(W,e,B,a,X)}p_(W,n)})}function Dl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Rc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(e,a),h!=null&&o.unshift(Dl(e,h,f)),h=ui(e,n),h!=null&&o.push(Dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function EA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function y_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||B===null||(C=B,h?(B=ui(a,f),B!=null&&g.unshift(Dl(a,B,C))):h||(B=ui(a,f),B!=null&&g.push(Dl(a,B,C)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var TA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function __(e){return(typeof e=="string"?e:""+e).replace(TA,`
`).replace(SA,"")}function v_(e,n){return n=__(n),__(e)===n}function fe(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Tn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Tn(e,""+o);break;case"className":Vn(e,"class",o);break;case"tabIndex":Vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(e,a,o);break;case"style":Xo(e,o,f);break;case"data":if(n!=="object"){Vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Na(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&fe(e,n,"name",h.name,h,null),fe(e,n,"formEncType",h.formEncType,h,null),fe(e,n,"formMethod",h.formMethod,h,null),fe(e,n,"formTarget",h.formTarget,h,null)):(fe(e,n,"encType",h.encType,h,null),fe(e,n,"method",h.method,h,null),fe(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Na(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=li);break;case"onScroll":o!=null&&qt("scroll",e);break;case"onScrollEnd":o!=null&&qt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":qt("beforetoggle",e),qt("toggle",e),Ra(e,"popover",o);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,Ra(e,a,o))}}function Ed(e,n,a,o,h,f){switch(a){case"style":Xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Tn(e,o):(typeof o=="number"||typeof o=="bigint")&&Tn(e,""+o);break;case"onScroll":o!=null&&qt("scroll",e);break;case"onScrollEnd":o!=null&&qt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ra(e,a,o)}}}function nn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",e),qt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:fe(e,n,f,g,a,null)}}h&&fe(e,n,"srcSet",a.srcSet,a,null),o&&fe(e,n,"src",a.src,a,null);return;case"input":qt("invalid",e);var E=f=g=h=null,C=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var X=a[o];if(X!=null)switch(o){case"name":h=X;break;case"type":g=X;break;case"checked":C=X;break;case"defaultChecked":B=X;break;case"value":f=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:fe(e,n,o,X,a,null)}}Au(e,f,E,C,B,g,h,!1);return;case"select":qt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:fe(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?xs(e,!!o,n,!1):a!=null&&xs(e,!!o,a,!0);return;case"textarea":qt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:fe(e,n,g,E,a,null)}Ls(e,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":fe(e,n,C,o,a,null));return;case"dialog":qt("beforetoggle",e),qt("toggle",e),qt("cancel",e),qt("close",e);break;case"iframe":case"object":qt("load",e);break;case"video":case"audio":for(o=0;o<Nl.length;o++)qt(Nl[o],e);break;case"image":qt("error",e),qt("load",e);break;case"details":qt("toggle",e);break;case"embed":case"source":case"link":qt("error",e),qt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:fe(e,n,B,o,a,null)}return;default:if(Ca(n)){for(X in a)a.hasOwnProperty(X)&&(o=a[X],o!==void 0&&Ed(e,n,X,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&fe(e,n,E,o,a,null))}function AA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,B=null,X=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=W;default:o.hasOwnProperty(G)||fe(e,n,G,null,o,W)}}for(var q in o){var G=o[q];if(W=a[q],o.hasOwnProperty(q)&&(G!=null||W!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":X=G;break;case"value":g=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==W&&fe(e,n,q,G,o,W)}}Ia(e,g,E,C,B,X,f,h);return;case"select":G=g=E=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(f)||fe(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&fe(e,n,h,f,o,C)}n=E,a=g,o=G,q!=null?xs(e,!!a,q,!1):!!o!=!!a&&(n!=null?xs(e,!!a,n,!0):xs(e,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:fe(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&fe(e,n,g,h,o,f)}bu(e,q,G);return;case"option":for(var dt in a)q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!o.hasOwnProperty(dt)&&(dt==="selected"?e.selected=!1:fe(e,n,dt,null,o,q));for(C in o)q=o[C],G=a[C],o.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null)&&(C==="selected"?e.selected=q&&typeof q!="function"&&typeof q!="symbol":fe(e,n,C,q,o,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)q=a[At],a.hasOwnProperty(At)&&q!=null&&!o.hasOwnProperty(At)&&fe(e,n,At,null,o,q);for(B in o)if(q=o[B],G=a[B],o.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:fe(e,n,B,q,o,G)}return;default:if(Ca(n)){for(var de in a)q=a[de],a.hasOwnProperty(de)&&q!==void 0&&!o.hasOwnProperty(de)&&Ed(e,n,de,void 0,o,q);for(X in o)q=o[X],G=a[X],!o.hasOwnProperty(X)||q===G||q===void 0&&G===void 0||Ed(e,n,X,q,o,G);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!o.hasOwnProperty(P)&&fe(e,n,P,null,o,q);for(W in o)q=o[W],G=a[W],!o.hasOwnProperty(W)||q===G||q==null&&G==null||fe(e,n,W,q,o,G)}function E_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&E_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],B=C.startTime;if(B>E)break;var X=C.transferSize,W=C.initiatorType;X&&E_(W)&&(C=C.responseEnd,g+=X*(C<E?1:(E-B)/(C-B)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,Sd=null;function Ic(e){return e.nodeType===9?e:e.ownerDocument}function T_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function wA(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,IA=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(CA)}:A_;function CA(e){setTimeout(function(){throw e})}function sr(e){return e==="head"}function w_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),uo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ol(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ol(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[On]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ol(e.ownerDocument.body);a=h}while(a);uo(n)}function R_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function NA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[On])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ni(e.nextSibling),e===null)break}return null}function DA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ni(e.nextSibling),e===null))return null;return e}function I_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ni(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function OA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ni(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Cd=null;function C_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return ni(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function N_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function D_(e,n,a){switch(n=Ic(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);wa(e)}var ii=new Map,O_=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ps=lt.d;lt.d={f:MA,r:VA,D:xA,C:LA,L:kA,m:UA,X:jA,S:PA,M:zA};function MA(){var e=ps.f(),n=vc();return e||n}function VA(e){var n=Yn(e);n!==null&&n.tag===5&&n.type==="form"?Qg(n):ps.r(e)}var ao=typeof document>"u"?null:document;function M_(e,n,a){var o=ao;if(o&&typeof n=="string"&&n){var h=En(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O_.has(h)||(O_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),nn(n,"link",e),xe(n),o.head.appendChild(n)))}}function xA(e){ps.D(e),M_("dns-prefetch",e,null)}function LA(e,n){ps.C(e,n),M_("preconnect",e,n)}function kA(e,n,a){ps.L(e,n,a);var o=ao;if(o&&e&&n){var h='link[rel="preload"][as="'+En(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+En(a.imageSizes)+'"]')):h+='[href="'+En(e)+'"]';var f=h;switch(n){case"style":f=oo(e);break;case"script":f=lo(e)}ii.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),ii.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ml(f))||n==="script"&&o.querySelector(Vl(f))||(n=o.createElement("link"),nn(n,"link",e),xe(n),o.head.appendChild(n)))}}function UA(e,n){ps.m(e,n);var a=ao;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+En(o)+'"][href="'+En(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=lo(e)}if(!ii.has(f)&&(e=A({rel:"modulepreload",href:e},n),ii.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(f)))return}o=a.createElement("link"),nn(o,"link",e),xe(o),a.head.appendChild(o)}}}function PA(e,n,a){ps.S(e,n,a);var o=ao;if(o&&e){var h=wi(o).hoistableStyles,f=oo(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Ml(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=ii.get(f))&&Nd(e,a);var C=g=o.createElement("link");xe(C),nn(C,"link",e),C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function jA(e,n){ps.X(e,n);var a=ao;if(a&&e){var o=wi(a).hoistableScripts,h=lo(e),f=o.get(h);f||(f=a.querySelector(Vl(h)),f||(e=A({src:e,async:!0},n),(n=ii.get(h))&&Dd(e,n),f=a.createElement("script"),xe(f),nn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zA(e,n){ps.M(e,n);var a=ao;if(a&&e){var o=wi(a).hoistableScripts,h=lo(e),f=o.get(h);f||(f=a.querySelector(Vl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=ii.get(h))&&Dd(e,n),f=a.createElement("script"),xe(f),nn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function V_(e,n,a,o){var h=(h=Ct.current)?Cc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=oo(a.href),a=wi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=oo(a.href);var f=wi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Ml(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ii.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(e,a),f||BA(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=lo(a),a=wi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function oo(e){return'href="'+En(e)+'"'}function Ml(e){return'link[rel="stylesheet"]['+e+"]"}function x_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function BA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),nn(n,"link",a),xe(n),e.head.appendChild(n))}function lo(e){return'[src="'+En(e)+'"]'}function Vl(e){return"script[async]"+e}function L_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+En(a.href)+'"]');if(o)return n.instance=o,xe(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),xe(o),nn(o,"style",h),Nc(o,a.precedence,e),n.instance=o;case"stylesheet":h=oo(a.href);var f=e.querySelector(Ml(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;o=x_(a),(h=ii.get(h))&&Nd(o,h),f=(e.ownerDocument||e).createElement("link"),xe(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),nn(f,"link",o),n.state.loading|=4,Nc(f,a.precedence,e),n.instance=f;case"script":return f=lo(a.src),(h=e.querySelector(Vl(f)))?(n.instance=h,xe(h),h):(o=a,(h=ii.get(f))&&(o=A({},a),Dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),nn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,a.precedence,e));return n.instance}function Nc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Dc=null;function k_(e,n,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[On]||f[Nt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function U_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function qA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function HA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=oo(o.href),f=n.querySelector(Ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Oc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,xe(f);return}f=n.ownerDocument||n,o=x_(o),(h=ii.get(h))&&Nd(o,h),f=f.createElement("link"),xe(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),nn(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Oc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Od=0;function FA(e,n){return e.stylesheets&&e.count===0&&Vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Od===0&&(Od=62500*bA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Od?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mc=null;function Vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mc=new Map,n.forEach(GA,e),Mc=null,Oc.call(e))}function GA(e,n){if(!(n.state.loading&4)){var a=Mc.get(e);if(a)var o=a.get(null);else{a=new Map,Mc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var xl={$$typeof:bt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function YA(e,n,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function j_(e,n,a,o,h,f,g,E,C,B,X,W){return e=new YA(e,n,a,g,C,B,X,W,E),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),e.current=f,f.stateNode=e,n=cf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},mf(f),e}function z_(e){return e?(e=ja,e):ja}function B_(e,n,a,o,h,f){h=z_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ks(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Qs(e,o,n),a!==null&&(Rn(a,e,n),fl(a,e,n))}function q_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Md(e,n){q_(e,n),(e=e.alternate)&&q_(e,n)}function H_(e){if(e.tag===13||e.tag===31){var n=Kr(e,67108864);n!==null&&Rn(n,e,67108864),Md(e,67108864)}}function F_(e){if(e.tag===13||e.tag===31){var n=zn();n=Q(n);var a=Kr(e,n);a!==null&&Rn(a,e,n),Md(e,n)}}var xc=!0;function KA(e,n,a,o){var h=K.T;K.T=null;var f=lt.p;try{lt.p=2,Vd(e,n,a,o)}finally{lt.p=f,K.T=h}}function QA(e,n,a,o){var h=K.T;K.T=null;var f=lt.p;try{lt.p=8,Vd(e,n,a,o)}finally{lt.p=f,K.T=h}}function Vd(e,n,a,o){if(xc){var h=xd(o);if(h===null)vd(e,n,o,Lc,a),Y_(e,o);else if(JA(h,e,n,a,o))o.stopPropagation();else if(Y_(e,o),n&4&&-1<XA.indexOf(e)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Nn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-Ae(g);E.entanglements[1]|=C,g&=~C}Pi(f),(ee&6)===0&&(yc=Je()+500,Cl(0))}}break;case 31:case 13:E=Kr(f,2),E!==null&&Rn(E,f,2),vc(),Md(f,2)}if(f=xd(o),f===null&&vd(e,n,o,Lc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(e,n,o,null,a)}}function xd(e){return e=Kn(e),Ld(e)}var Lc=null;function Ld(e){if(Lc=null,e=bi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Lc=e,null}function G_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Si()){case Dr:return 2;case Or:return 8;case on:case Mr:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var kd=!1,rr=null,ar=null,or=null,Ll=new Map,kl=new Map,lr=[],XA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(e,n){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Ul(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Yn(n),n!==null&&H_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function JA(e,n,a,o,h){switch(n){case"focusin":return rr=Ul(rr,e,n,a,o,h),!0;case"dragenter":return ar=Ul(ar,e,n,a,o,h),!0;case"mouseover":return or=Ul(or,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Ll.set(f,Ul(Ll.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,kl.set(f,Ul(kl.get(f)||null,e,n,a,o,h)),!0}return!1}function K_(e){var n=bi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,wt(e.priority,function(){F_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,wt(e.priority,function(){F_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Jo=o,a.target.dispatchEvent(o),Jo=null}else return n=Yn(a),n!==null&&H_(n),e.blockedOn=a,!1;n.shift()}return!0}function Q_(e,n,a){kc(e)&&a.delete(n)}function $A(){kd=!1,rr!==null&&kc(rr)&&(rr=null),ar!==null&&kc(ar)&&(ar=null),or!==null&&kc(or)&&(or=null),Ll.forEach(Q_),kl.forEach(Q_)}function Uc(e,n){e.blockedOn===n&&(e.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$A)))}var Pc=null;function X_(e){Pc!==e&&(Pc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pc===e&&(Pc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ld(o||a)===null)continue;break}var f=Yn(a);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function uo(e){function n(C){return Uc(C,e)}rr!==null&&Uc(rr,e),ar!==null&&Uc(ar,e),or!==null&&Uc(or,e),Ll.forEach(n),kl.forEach(n);for(var a=0;a<lr.length;a++){var o=lr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<lr.length&&(a=lr[0],a.blockedOn===null);)K_(a),a.blockedOn===null&&lr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Vt]||null;if(typeof f=="function")g||X_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Vt]||null)E=g.formAction;else if(Ld(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),X_(a)}}}function J_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(e){this._internalRoot=e}jc.prototype.render=Ud.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=zn();B_(a,o,e,n,null,null)},jc.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;B_(e.current,2,null,e,null,null),vc(),n[Wt]=null}};function jc(e){this._internalRoot=e}jc.prototype.unstable_scheduleHydration=function(e){if(e){var n=it();e={blockedOn:null,target:e,priority:n};for(var a=0;a<lr.length&&n!==0&&n<lr[a].priority;a++);lr.splice(a,0,e),a===0&&K_(e)}};var $_=t.version;if($_!=="19.2.3")throw Error(r(527,$_,"19.2.3"));lt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var ZA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{pn=zc.inject(ZA),Ve=zc}catch{}}return jl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=sy,f=ry,g=ay;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=j_(e,1,!1,null,null,a,o,null,h,f,g,J_),e[Wt]=n.current,_d(e),new Ud(n)},jl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=sy,g=ry,E=ay,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=j_(e,1,!0,n,a??null,o,h,C,f,g,E,J_),n.context=z_(null),a=n.current,o=zn(),o=Q(o),h=Ks(o),h.callback=null,Qs(a,h,o),a=o,n.current.lanes=a,Ai(n,a),Pi(n),e[Wt]=n.current,_d(e),new jc(n)},jl.version="19.2.3",jl}var ov;function l1(){if(ov)return zd.exports;ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zd.exports=o1(),zd.exports}var u1=l1();const c1=JE(u1),h1="modulepreload",f1=function(s){return"/suplementos-planner/"+s},lv={},d1=function(t,i,r){let l=Promise.resolve();if(i&&i.length>0){let _=function(T){return Promise.all(T.map(A=>Promise.resolve(A).then(D=>({status:"fulfilled",value:D}),D=>({status:"rejected",reason:D}))))};var d=_;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=p?.nonce||p?.getAttribute("nonce");l=_(i.map(T=>{if(T=f1(T),T in lv)return;lv[T]=!0;const A=T.endsWith(".css"),D=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${D}`))return;const Y=document.createElement("link");if(Y.rel=A?"stylesheet":h1,A||(Y.as="script"),Y.crossOrigin="",Y.href=T,y&&Y.setAttribute("nonce",y),document.head.appendChild(Y),A)return new Promise((nt,st)=>{Y.addEventListener("load",nt),Y.addEventListener("error",()=>st(new Error(`Unable to preload CSS for ${T}`)))})}))}function c(p){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=p,window.dispatchEvent(y),!y.defaultPrevented)throw p}return l.then(p=>{for(const y of p||[])y.status==="rejected"&&c(y.reason);return t().catch(c)})},Fd=864e5;function m1(s,t,i){return Math.max(t,Math.min(i,s))}function co(s,t){try{const i=JSON.parse(s);return i&&typeof i=="object"?i:t}catch{return t}}function un(s){const t=s instanceof Date?s:new Date(s),i=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${i}-${r}-${l}`}function gs(s){if(!s)return null;const t=String(s).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!t)return null;const i=new Date(Number(t[1]),Number(t[2])-1,Number(t[3]));return Number.isNaN(i.getTime())?null:i}function aa(s,t){return new Date(s.getFullYear(),s.getMonth(),s.getDate()+t)}function Gd(s){const t=new Date(s.getFullYear(),s.getMonth(),s.getDate()),i=(t.getDay()+6)%7;return aa(t,-i)}function uv(s){const t=s.getDay();return t===0?7:t}function cv(s){return new Date(s.getFullYear(),s.getMonth(),1)}function p1(s){return new Date(s.getFullYear(),s.getMonth()+1,0)}function Ql(s){return String(s||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g," ").trim().replace(/\s+/g,"-")}function hv(...s){const t=s.map(c=>String(c||"")).join(" ").toLowerCase(),i=new Map([["lun",1],["lunes",1],["mon",1],["monday",1],["mar",2],["martes",2],["tue",2],["tues",2],["tuesday",2],["mie",3],["mi",3],["mier",3],["mircoles",3],["weds",3],["wed",3],["wednesday",3],["jue",4],["jueves",4],["thu",4],["thurs",4],["thursday",4],["vie",5],["viernes",5],["fri",5],["friday",5],["sab",6],["sb",6],["sbado",6],["sat",6],["saturday",6],["dom",7],["domingo",7],["sun",7],["sunday",7]]),r=t.replace(/[.,;()|]+/g," ").replace(/\//g," ").split(/\s+/).filter(Boolean),l=new Set;for(const c of r)i.has(c)&&l.add(i.get(c));return l.size?l:null}function fv(...s){const t=s.map(c=>String(c||"")).join(" ").toLowerCase();if(t.includes("every other day")||t.includes("un dia si")&&t.includes("un dia no"))return 2;const i=t.match(/cada\s+(\d+)\s+d[i]as?/);if(i)return Number(i[1]);const r=t.match(/every\s+(\d+)\s+days?/);return r?Number(r[1]):t.match(/cada\s+d[i]a/)?1:t.match(/cada\s+dos\s+d[i]as?/)?2:null}function g1(s){const t=String(s||"").toLowerCase(),i=c=>{const d=t.match(c);if(!d)return null;const p=Number(String(d[1]).replace(",","."));return Number.isFinite(p)?p:null},r=i(/(\d+(?:[.,]\d+)?)\s*(c[a]psula|c[a]psulas|caps?|tablet|tablets|tab|tabs)\b/);if(r!=null)return{qty:r,unit:"caps"};const l=i(/(\d+(?:[.,]\d+)?)\s*(g|gr|gramo|gramos|grams)\b/);return l!=null?{qty:l,unit:"g"}:{qty:null,unit:null}}function om(s){const t=String(s||"").toLowerCase(),r=["al levantar","ayunas","desayuno","media maana","comida","merienda","cena","antes de dormir","noche"].findIndex(l=>t.includes(l));return r>=0?r:99}function dv(s){const t=String(s||"").toLowerCase().trim(),i=(...r)=>r.some(l=>t.includes(l));return i("hierro","iron")?{mode:"none",onDays:0,offDays:0,pauseDays:0,label:"Fijo (sin ciclo) por defecto"}:i("cobre","copper")?{mode:"none",onDays:0,offDays:0,pauseDays:0,label:"Fijo (sin ciclo) por defecto"}:i("ashwagandha")?{mode:"calendar",onDays:56,offDays:14,pauseDays:0,label:"8 semanas ON / 2 semanas OFF"}:i("rhodiola")?{mode:"calendar",onDays:42,offDays:14,pauseDays:0,label:"6 semanas ON / 2 semanas OFF"}:i("berber")?{mode:"calendar",onDays:84,offDays:14,pauseDays:0,label:"12 semanas ON / 2 semanas OFF"}:i("phosphatidylserine","fosfatidilserina")?{mode:"calendar",onDays:90,offDays:30,pauseDays:0,label:"90 ON / 30 OFF (plantilla)"}:i("uc-ii","uc ii","ucii")?{mode:"none",onDays:0,offDays:0,pauseDays:0,label:"Continuo (plantilla)"}:null}const y1=()=>{};var mv={};const $E=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},_1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let D=(p&15)<<2|_>>6,Y=_&63;y||(Y=64,d||(D=64)),r.push(i[T],i[A],i[D],i[Y])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray($E(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):_1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new v1;const D=c<<2|p>>4;if(r.push(D),_!==64){const Y=p<<4&240|_>>2;if(r.push(Y),A!==64){const nt=_<<6&192|A;r.push(nt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class v1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E1=function(s){const t=$E(s);return ZE.encodeByteArray(t,!0)},sh=function(s){return E1(s).replace(/\./g,"")},WE=function(s){try{return ZE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function T1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const S1=()=>T1().__FIREBASE_DEFAULTS__,A1=()=>{if(typeof process>"u"||typeof mv>"u")return;const s=mv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},b1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&WE(s[1]);return t&&JSON.parse(t)},Ah=()=>{try{return y1()||S1()||A1()||b1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},tT=s=>Ah()?.emulatorHosts?.[s],w1=s=>{const t=tT(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},eT=()=>Ah()?.config,nT=s=>Ah()?.[`_${s}`];class R1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iT(s){return(await fetch(s,{credentials:"include"})).ok}function I1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const Xl={};function C1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?s.emulator.push(t):s.prod.push(t);return s}function N1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let pv=!1;function sT(s,t){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||Xl[s]===t||Xl[s]||pv)return;Xl[s]=t;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=C1().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,Y){D.setAttribute("width","24"),D.setAttribute("id",Y),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{pv=!0,d()},D}function T(D,Y){D.setAttribute("id",Y),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=N1(r),Y=i("text"),nt=document.getElementById(Y)||document.createElement("span"),st=i("learnmore"),rt=document.getElementById(st)||document.createElement("a"),ct=i("preprendIcon"),Et=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const bt=D.element;p(bt),T(rt,st);const Ut=_();y(Et,ct),bt.append(Et,nt,rt,Ut),document.body.appendChild(bt)}c?(nt.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function O1(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function x1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L1(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function k1(){return!O1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U1(){try{return typeof indexedDB=="object"}catch{return!1}}function P1(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const j1="FirebaseError";class Is extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=j1,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?z1(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Is(l,p,r)}}function z1(s,t){return s.replace(B1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const B1=/\{\$([^}]+)}/g;function q1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ca(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(gv(c)&&gv(d)){if(!ca(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function gv(s){return s!==null&&typeof s=="object"}function fu(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ql(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Hl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function H1(s,t){const i=new F1(s,t);return i.subscribe.bind(i)}class F1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");G1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Yd),l.error===void 0&&(l.error=Yd),l.complete===void 0&&(l.complete=Yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Yd(){}function mn(s){return s&&s._delegate?s._delegate:s}class ha{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const oa="[DEFAULT]";class Y1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new R1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Q1(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K1(s){return s===oa?void 0:s}function Q1(s){return s.instantiationMode==="EAGER"}class X1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Y1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Gt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Gt||(Gt={}));const J1={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},$1=Gt.INFO,Z1={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},W1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=Z1[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class km{constructor(t){this.name=t,this._logLevel=$1,this._logHandler=W1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?J1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const tb=(s,t)=>t.some(i=>s instanceof i);let yv,_v;function eb(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nb(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,lm=new WeakMap,aT=new WeakMap,Kd=new WeakMap,Um=new WeakMap;function ib(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(gr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&rT.set(i,s)}).catch(()=>{}),Um.set(t,s),t}function sb(s){if(lm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});lm.set(s,t)}let um={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return lm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||aT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function rb(s){um=s(um)}function ab(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Qd(this),t,...i);return aT.set(r,t.sort?t.sort():[t]),gr(r)}:nb().includes(s)?function(...t){return s.apply(Qd(this),t),gr(rT.get(this))}:function(...t){return gr(s.apply(Qd(this),t))}}function ob(s){return typeof s=="function"?ab(s):(s instanceof IDBTransaction&&sb(s),tb(s,eb())?new Proxy(s,um):s)}function gr(s){if(s instanceof IDBRequest)return ib(s);if(Kd.has(s))return Kd.get(s);const t=ob(s);return t!==s&&(Kd.set(s,t),Um.set(t,s)),t}const Qd=s=>Um.get(s);function lb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=gr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(gr(d.result),y.oldVersion,y.newVersion,gr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const ub=["get","getKey","getAll","getAllKeys","count"],cb=["put","add","delete","clear"],Xd=new Map;function vv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Xd.get(t))return Xd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=cb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||ub.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Xd.set(t,c),c}rb(s=>({...s,get:(t,i,r)=>vv(t,i)||s.get(t,i,r),has:(t,i)=>!!vv(t,i)||s.has(t,i)}));class hb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function fb(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",Ev="0.14.7";const As=new km("@firebase/app"),db="@firebase/app-compat",mb="@firebase/analytics-compat",pb="@firebase/analytics",gb="@firebase/app-check-compat",yb="@firebase/app-check",_b="@firebase/auth",vb="@firebase/auth-compat",Eb="@firebase/database",Tb="@firebase/data-connect",Sb="@firebase/database-compat",Ab="@firebase/functions",bb="@firebase/functions-compat",wb="@firebase/installations",Rb="@firebase/installations-compat",Ib="@firebase/messaging",Cb="@firebase/messaging-compat",Nb="@firebase/performance",Db="@firebase/performance-compat",Ob="@firebase/remote-config",Mb="@firebase/remote-config-compat",Vb="@firebase/storage",xb="@firebase/storage-compat",Lb="@firebase/firestore",kb="@firebase/ai",Ub="@firebase/firestore-compat",Pb="firebase",jb="12.8.0";const hm="[DEFAULT]",zb={[cm]:"fire-core",[db]:"fire-core-compat",[pb]:"fire-analytics",[mb]:"fire-analytics-compat",[yb]:"fire-app-check",[gb]:"fire-app-check-compat",[_b]:"fire-auth",[vb]:"fire-auth-compat",[Eb]:"fire-rtdb",[Tb]:"fire-data-connect",[Sb]:"fire-rtdb-compat",[Ab]:"fire-fn",[bb]:"fire-fn-compat",[wb]:"fire-iid",[Rb]:"fire-iid-compat",[Ib]:"fire-fcm",[Cb]:"fire-fcm-compat",[Nb]:"fire-perf",[Db]:"fire-perf-compat",[Ob]:"fire-rc",[Mb]:"fire-rc-compat",[Vb]:"fire-gcs",[xb]:"fire-gcs-compat",[Lb]:"fire-fst",[Ub]:"fire-fst-compat",[kb]:"fire-vertex","fire-js":"fire-js",[Pb]:"fire-js-all"};const rh=new Map,Bb=new Map,fm=new Map;function Tv(s,t){try{s.container.addComponent(t)}catch(i){As.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function bo(s){const t=s.name;if(fm.has(t))return As.debug(`There were multiple attempts to register component ${t}.`),!1;fm.set(t,s);for(const i of rh.values())Tv(i,s);for(const i of Bb.values())Tv(i,s);return!0}function Pm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function si(s){return s==null?!1:s.settings!==void 0}const qb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new hu("app","Firebase",qb);class Hb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Vo=jb;function oT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:hm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw yr.create("bad-app-name",{appName:String(l)});if(i||(i=eT()),!i)throw yr.create("no-options");const c=rh.get(l);if(c){if(ca(i,c.options)&&ca(r,c.config))return c;throw yr.create("duplicate-app",{appName:l})}const d=new X1(l);for(const y of fm.values())d.addComponent(y);const p=new Hb(i,r,d);return rh.set(l,p),p}function lT(s=hm){const t=rh.get(s);if(!t&&s===hm&&eT())return oT();if(!t)throw yr.create("no-app",{appName:s});return t}function _r(s,t,i){let r=zb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),As.warn(d.join(" "));return}bo(new ha(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Fb="firebase-heartbeat-database",Gb=1,tu="firebase-heartbeat-store";let Jd=null;function uT(){return Jd||(Jd=lb(Fb,Gb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(tu)}catch(i){console.warn(i)}}}}).catch(s=>{throw yr.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function Yb(s){try{const i=(await uT()).transaction(tu),r=await i.objectStore(tu).get(cT(s));return await i.done,r}catch(t){if(t instanceof Is)As.warn(t.message);else{const i=yr.create("idb-get",{originalErrorMessage:t?.message});As.warn(i.message)}}}async function Sv(s,t){try{const r=(await uT()).transaction(tu,"readwrite");await r.objectStore(tu).put(t,cT(s)),await r.done}catch(i){if(i instanceof Is)As.warn(i.message);else{const r=yr.create("idb-set",{originalErrorMessage:i?.message});As.warn(r.message)}}}function cT(s){return`${s.name}!${s.options.appId}`}const Kb=1024,Qb=30;class Xb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $b(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Qb){const l=Zb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){As.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Av(),{heartbeatsToSend:i,unsentEntries:r}=Jb(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return As.warn(t),""}}}function Av(){return new Date().toISOString().substring(0,10)}function Jb(s,t=Kb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),bv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),bv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $b{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U1()?P1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Yb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function bv(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function Zb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function Wb(s){bo(new ha("platform-logger",t=>new hb(t),"PRIVATE")),bo(new ha("heartbeat",t=>new Xb(t),"PRIVATE")),_r(cm,Ev,s),_r(cm,Ev,"esm2020"),_r("fire-js","")}Wb("");function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tw=hT,fT=new hu("auth","Firebase",hT());const ah=new km("@firebase/auth");function ew(s,...t){ah.logLevel<=Gt.WARN&&ah.warn(`Auth (${Vo}): ${s}`,...t)}function Qc(s,...t){ah.logLevel<=Gt.ERROR&&ah.error(`Auth (${Vo}): ${s}`,...t)}function vi(s,...t){throw jm(s,...t)}function Bi(s,...t){return jm(s,...t)}function dT(s,t,i){const r={...tw(),[t]:i};return new hu("auth","Firebase",r).create(t,{appName:s.name})}function Es(s){return dT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return fT.create(s,...t)}function Rt(s,t,...i){if(!s)throw jm(t,...i)}function _s(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Qc(t),new Error(t)}function bs(s,t){s||_s(t)}function dm(){return typeof self<"u"&&self.location?.href||""}function nw(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function iw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nw()||V1()||"connection"in navigator)?navigator.onLine:!0}function sw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class du{constructor(t,i){this.shortDelay=t,this.longDelay=i,bs(i>t,"Short delay should be less than long delay!"),this.isMobile=D1()||x1()}get(){return iw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zm(s,t){bs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class mT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ow=new du(3e4,6e4);function Ir(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Cr(s,t,i,r,l={}){return pT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=fu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return M1()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Mo(s.emulatorConfig.host)&&(_.credentials="include"),mT.fetch()(await gT(s,s.config.apiHost,i,p),_)})}async function pT(s,t,i){s._canInitEmulator=!1;const r={...rw,...t};try{const l=new uw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Bc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Bc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Bc(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw dT(s,T,_);vi(s,T)}}catch(l){if(l instanceof Is)throw l;vi(s,"network-request-failed",{message:String(l)})}}async function mu(s,t,i,r,l={}){const c=await Cr(s,t,i,r,l);return"mfaPendingCredential"in c&&vi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function gT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?zm(s.config,l):`${s.config.apiScheme}://${l}`;return aw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function lw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),ow.get())})}}function Bc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Bi(s,t,r);return l.customData._tokenResponse=i,l}function Rv(s){return s!==void 0&&s.enterprise!==void 0}class cw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return lw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hw(s,t){return Cr(s,"GET","/v2/recaptchaConfig",Ir(s,t))}async function fw(s,t){return Cr(s,"POST","/v1/accounts:delete",t)}async function oh(s,t){return Cr(s,"POST","/v1/accounts:lookup",t)}function Jl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dw(s,t=!1){const i=mn(s),r=await i.getIdToken(t),l=Bm(r);Rt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Jl($d(l.auth_time)),issuedAtTime:Jl($d(l.iat)),expirationTime:Jl($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function Bm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=WE(i);return l?JSON.parse(l):(Qc("Failed to decode base64 JWT payload"),null)}catch(l){return Qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Iv(s){const t=Bm(s);return Rt(t,"internal-error"),Rt(typeof t.exp<"u","internal-error"),Rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function eu(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Is&&mw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function mw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class pw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const t=s.auth,i=await s.getIdToken(),r=await eu(s,oh(t,{idToken:i}));Rt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?yT(l.providerUserInfo):[],d=yw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function gw(s){const t=mn(s);await lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function yT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function _w(s,t){const i=await pT(s,{},async()=>{const r=fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await gT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&Mo(s.emulatorConfig.host)&&(y.credentials="include"),mT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function vw(s,t){return Cr(s,"POST","/v2/accounts:revokeToken",Ir(s,t))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rt(t.idToken,"internal-error"),Rt(typeof t.idToken<"u","internal-error"),Rt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Rt(t.length!==0,"internal-error");const i=Iv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await _w(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new yo;return r&&(Rt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Rt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Rt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return _s("not implemented")}}function cr(s,t){Rt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new pw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await eu(this,this.stsTokenManager.getToken(this.auth,t));return Rt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return dw(this,t)}reload(){return gw(this)}_assign(t){this!==t&&(Rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await eu(this,fw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:Y,providerData:nt,stsTokenManager:st}=i;Rt(A&&st,t,"internal-error");const rt=yo.fromJSON(this.name,st);Rt(typeof A=="string",t,"internal-error"),cr(r,t.name),cr(l,t.name),Rt(typeof D=="boolean",t,"internal-error"),Rt(typeof Y=="boolean",t,"internal-error"),cr(c,t.name),cr(d,t.name),cr(p,t.name),cr(y,t.name),cr(_,t.name),cr(T,t.name);const ct=new gi({uid:A,auth:t,email:l,emailVerified:D,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:rt,createdAt:_,lastLoginAt:T});return nt&&Array.isArray(nt)&&(ct.providerData=nt.map(Et=>({...Et}))),y&&(ct._redirectEventId=y),ct}static async _fromIdTokenResponse(t,i,r=!1){const l=new yo;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await lh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Rt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?yT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new yo;p.updateFromIdToken(r);const y=new gi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const Cv=new Map;function vs(s){bs(s instanceof Function,"Expected a class definition");let t=Cv.get(s);return t?(bs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Cv.set(s,t),t)}class _T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}_T.type="NONE";const Nv=_T;function Xc(s,t,i){return`firebase:${s}:${t}:${i}`}class _o{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Xc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Xc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await oh(this.auth,{idToken:t}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new _o(vs(Nv),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||vs(Nv);const d=Xc(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const D=await oh(t,{idToken:T}).catch(()=>{});if(!D)break;A=await gi._fromGetAccountInfoResponse(t,D,T)}else A=gi._fromJSON(t,T);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new _o(c,t,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new _o(c,t,r))}}function Dv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ST(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bT(t))return"Blackberry";if(wT(t))return"Webos";if(ET(t))return"Safari";if((t.includes("chrome/")||TT(t))&&!t.includes("edge/"))return"Chrome";if(AT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function vT(s=dn()){return/firefox\//i.test(s)}function ET(s=dn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TT(s=dn()){return/crios\//i.test(s)}function ST(s=dn()){return/iemobile/i.test(s)}function AT(s=dn()){return/android/i.test(s)}function bT(s=dn()){return/blackberry/i.test(s)}function wT(s=dn()){return/webos/i.test(s)}function qm(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ew(s=dn()){return qm(s)&&!!window.navigator?.standalone}function Tw(){return L1()&&document.documentMode===10}function RT(s=dn()){return qm(s)||AT(s)||wT(s)||bT(s)||/windows phone/i.test(s)||ST(s)}function IT(s,t=[]){let i;switch(s){case"Browser":i=Dv(dn());break;case"Worker":i=`${Dv(dn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Vo}/${r}`}class Sw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Aw(s,t={}){return Cr(s,"GET","/v2/passwordPolicy",Ir(s,t))}const bw=6;class ww{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??bw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Rw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new Sw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await oh(this,{idToken:t}),r=await gi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await lh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(Es(this));const i=t?mn(t):null;return i&&Rt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Aw(this),i=new ww(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await vw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&vs(t)||this._popupRedirectResolver;Rt(i,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=IT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ew(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ya(s){return mn(s)}class Ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=H1(i=>this.observer=i)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Iw(s){bh=s}function CT(s){return bh.loadJS(s)}function Cw(){return bh.recaptchaEnterpriseScript}function Nw(){return bh.gapiScript}function Dw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Ow{constructor(){this.enterprise=new Mw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Mw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Vw="recaptcha-enterprise",NT="NO_RECAPTCHA";class xw{constructor(t){this.type=Vw,this.auth=ya(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{hw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new cw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;Rv(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(NT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ow().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&Rv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Cw();y.length!==0&&(y+=p),CT(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function Mv(s,t,i,r=!1,l=!1){const c=new xw(s);let d;if(l)d=NT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function pm(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Mv(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Mv(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Lw(s,t){const i=Pm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ca(c,t??{}))return l;vi(l,"already-initialized")}return i.initialize({options:t})}function kw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(vs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Uw(s,t,i){const r=ya(s);Rt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=DT(t),{host:d,port:p}=Pw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Rt(ca(_,r.config.emulator)&&ca(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Mo(d)?(iT(`${c}//${d}${y}`),sT("Auth",!0)):jw()}function DT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Pw(s){const t=DT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Vv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Vv(d)}}}function Vv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function jw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Hm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(t){return _s("not implemented")}_linkToIdToken(t,i){return _s("not implemented")}_getReauthenticationResolver(t){return _s("not implemented")}}async function zw(s,t){return Cr(s,"POST","/v1/accounts:signUp",t)}async function Bw(s,t){return mu(s,"POST","/v1/accounts:signInWithPassword",Ir(s,t))}async function qw(s,t){return mu(s,"POST","/v1/accounts:signInWithEmailLink",Ir(s,t))}async function Hw(s,t){return mu(s,"POST","/v1/accounts:signInWithEmailLink",Ir(s,t))}class nu extends Hm{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new nu(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new nu(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,i,"signInWithPassword",Bw);case"emailLink":return qw(t,{email:this._email,oobCode:this._password});default:vi(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,r,"signUpPassword",zw);case"emailLink":return Hw(t,{idToken:i,email:this._email,oobCode:this._password});default:vi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function vo(s,t){return mu(s,"POST","/v1/accounts:signInWithIdp",Ir(s,t))}const Fw="http://localhost";class fa extends Hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):vi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new fa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return vo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,vo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,vo(t,i)}buildRequest(){const t={requestUri:Fw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=fu(i)}return t}}function Gw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yw(s){const t=ql(Hl(s)).link,i=t?ql(Hl(t)).deep_link_id:null,r=ql(Hl(s)).deep_link_id;return(r?ql(Hl(r)).link:null)||r||i||t||s}class Fm{constructor(t){const i=ql(Hl(t)),r=i.apiKey??null,l=i.oobCode??null,c=Gw(i.mode??null);Rt(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Yw(t);try{return new Fm(i)}catch{return null}}}class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(t,i){return nu._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Fm.parseLink(i);return Rt(r,"argument-error"),nu._fromEmailAndCode(t,r.code,r.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class OT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class pu extends OT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class hr extends pu{constructor(){super("facebook.com")}static credential(t){return fa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";class fr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return fa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return fr.credential(i,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";class dr extends pu{constructor(){super("github.com")}static credential(t){return fa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";class mr extends pu{constructor(){super("twitter.com")}static credential(t,i){return fa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return mr.credential(i,r)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";async function Kw(s,t){return mu(s,"POST","/v1/accounts:signUp",Ir(s,t))}class da{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await gi._fromIdTokenResponse(t,r,l),d=xv(r);return new da({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=xv(r);return new da({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function xv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends Is{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new uh(t,i,r,l)}}function MT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,t,r):c})}async function Qw(s,t,i=!1){const r=await eu(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return da._forOperation(s,"link",r)}async function Xw(s,t,i=!1){const{auth:r}=s;if(si(r.app))return Promise.reject(Es(r));const l="reauthenticate";try{const c=await eu(s,MT(r,l,t,s),i);Rt(c.idToken,r,"internal-error");const d=Bm(c.idToken);Rt(d,r,"internal-error");const{sub:p}=d;return Rt(s.uid===p,r,"user-mismatch"),da._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&vi(r,"user-mismatch"),c}}async function VT(s,t,i=!1){if(si(s.app))return Promise.reject(Es(s));const r="signIn",l=await MT(s,r,t),c=await da._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function Jw(s,t){return VT(ya(s),t)}async function xT(s){const t=ya(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function $w(s,t,i){if(si(s.app))return Promise.reject(Es(s));const r=ya(s),d=await pm(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kw).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&xT(s),y}),p=await da._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function Zw(s,t,i){return si(s.app)?Promise.reject(Es(s)):Jw(mn(s),xo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xT(s),r})}function Ww(s,t,i,r){return mn(s).onIdTokenChanged(t,i,r)}function tR(s,t,i){return mn(s).beforeAuthStateChanged(t,i)}function eR(s,t,i,r){return mn(s).onAuthStateChanged(t,i,r)}function nR(s){return mn(s).signOut()}const ch="__sak";class LT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const iR=1e3,sR=10;class kT extends LT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Tw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,sR):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},iR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}kT.type="LOCAL";const rR=kT;class UT extends LT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}UT.type="SESSION";const PT=UT;function aR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new wh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await aR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function Gm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class oR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Gm("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function lR(s){qi().location.href=s}function jT(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function uR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cR(){return navigator?.serviceWorker?.controller||null}function hR(){return jT()?self:null}const zT="firebaseLocalStorageDb",fR=1,hh="firebaseLocalStorage",BT="fbase_key";class gu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(s,t){return s.transaction([hh],t?"readwrite":"readonly").objectStore(hh)}function dR(){const s=indexedDB.deleteDatabase(zT);return new gu(s).toPromise()}function gm(){const s=indexedDB.open(zT,fR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:BT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?t(r):(r.close(),await dR(),t(await gm()))})})}async function Lv(s,t,i){const r=Rh(s,!0).put({[BT]:t,value:i});return new gu(r).toPromise()}async function mR(s,t){const i=Rh(s,!1).get(t),r=await new gu(i).toPromise();return r===void 0?null:r.value}function kv(s,t){const i=Rh(s,!0).delete(t);return new gu(i).toPromise()}const pR=800,gR=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>gR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(hR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uR(),!this.activeServiceWorker)return;this.sender=new oR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await Lv(t,ch,"1"),await kv(t,ch),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>mR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>kv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Rh(l,!1).getAll();return new gu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const yR=qT;new du(3e4,6e4);function _R(s,t){return t?vs(t):(Rt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends Hm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return vo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return vo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function vR(s){return VT(s.auth,new Ym(s),s.bypassAuthState)}function ER(s){const{auth:t,user:i}=s;return Rt(i,t,"internal-error"),Xw(i,new Ym(s),s.bypassAuthState)}async function TR(s){const{auth:t,user:i}=s;return Rt(i,t,"internal-error"),Qw(i,new Ym(s),s.bypassAuthState)}class HT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vR;case"linkViaPopup":case"linkViaRedirect":return TR;case"reauthViaPopup":case"reauthViaRedirect":return ER;default:vi(this.auth,"internal-error")}}resolve(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SR=new du(2e3,1e4);class go extends HT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rt(t,this.auth,"internal-error"),t}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const t=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,SR.get())};t()}}go.currentPopupAction=null;const AR="pendingRedirect",Jc=new Map;class bR extends HT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Jc.get(this.auth._key());if(!t){try{const r=await wR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Jc.set(this.auth._key(),t)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wR(s,t){const i=CR(t),r=IR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function RR(s,t){Jc.set(s._key(),t)}function IR(s){return vs(s._redirectPersistence)}function CR(s){return Xc(AR,s.config.apiKey,s.name)}async function NR(s,t,i=!1){if(si(s.app))return Promise.reject(Es(s));const r=ya(s),l=_R(r,t),d=await new bR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const DR=600*1e3;class OR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!FT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(t))}saveEventToCache(t){this.cachedEventUids.add(Uv(t)),this.lastProcessedEventTime=Date.now()}}function Uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function FT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function MR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(s);default:return!1}}async function VR(s,t={}){return Cr(s,"GET","/v1/projects",t)}const xR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LR=/^https?/;async function kR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await VR(s);for(const i of t)try{if(UR(i))return}catch{}vi(s,"unauthorized-domain")}function UR(s){const t=dm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!LR.test(i))return!1;if(xR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const PR=new du(3e4,6e4);function Pv(){const s=qi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function jR(s){return new Promise((t,i)=>{function r(){Pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Pv(),i(Bi(s,"network-request-failed"))},timeout:PR.get()})}if(qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const l=Dw("iframefcb");return qi()[l]=()=>{gapi.load?r():i(Bi(s,"network-request-failed"))},CT(`${Nw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw $c=null,t})}let $c=null;function zR(s){return $c=$c||jR(s),$c}const BR=new du(5e3,15e3),qR="__/auth/iframe",HR="emulator/auth/iframe",FR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YR(s){const t=s.config;Rt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?zm(t,HR):`https://${s.config.authDomain}/${qR}`,r={apiKey:t.apiKey,appName:s.name,v:Vo},l=GR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${fu(r).slice(1)}`}async function KR(s){const t=await zR(s),i=qi().gapi;return Rt(i,s,"internal-error"),t.open({where:document.body,url:YR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),p=qi().setTimeout(()=>{c(d)},BR.get());function y(){qi().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const QR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XR=500,JR=600,$R="_blank",ZR="http://localhost";class jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WR(s,t,i,r=XR,l=JR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...QR,width:r.toString(),height:l.toString(),top:c,left:d},_=dn().toLowerCase();i&&(p=TT(_)?$R:i),vT(_)&&(t=t||ZR,y.scrollbars="yes");const T=Object.entries(y).reduce((D,[Y,nt])=>`${D}${Y}=${nt},`,"");if(Ew(_)&&p!=="_self")return tI(t||"",p),new jv(null);const A=window.open(t||"",p,T);Rt(A,s,"popup-blocked");try{A.focus()}catch{}return new jv(A)}function tI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const eI="__/auth/handler",nI="emulator/auth/handler",iI=encodeURIComponent("fac");async function zv(s,t,i,r,l,c){Rt(s.config.authDomain,s,"auth-domain-config-required"),Rt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Vo,eventId:l};if(t instanceof OT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",q1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof pu){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await s._getAppCheckToken(),_=y?`#${iI}=${encodeURIComponent(y)}`:"";return`${sI(s)}?${fu(p).slice(1)}${_}`}function sI({config:s}){return s.emulator?zm(s,nI):`https://${s.authDomain}/${eI}`}const Zd="webStorageSupport";class rI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=NR,this._overrideRedirectResult=RR}async _openPopup(t,i,r,l){bs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await zv(t,i,r,dm(),l);return WR(t,c,Gm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await zv(t,i,r,dm(),l);return lR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(bs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await KR(t),r=new OR(t);return i.register("authEvent",l=>(Rt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zd,{type:Zd},l=>{const c=l?.[0]?.[Zd];c!==void 0&&i(!!c),vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=kR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return RT()||ET()||qm()}}const aI=rI;var Bv="@firebase/auth",qv="1.12.0";class oI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uI(s){bo(new ha("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Rt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IT(s)},_=new Rw(r,l,c,y);return kw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),bo(new ha("auth-internal",t=>{const i=ya(t.getProvider("auth").getImmediate());return(r=>new oI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(Bv,qv,lI(s)),_r(Bv,qv,"esm2020")}const cI=300,hI=nT("authIdTokenMaxAge")||cI;let Hv=null;const fI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>hI)return;const l=i?.token;Hv!==l&&(Hv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function dI(s=lT()){const t=Pm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Lw(s,{popupRedirectResolver:aI,persistence:[yR,rR,PT]}),r=nT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=fI(c.toString());tR(i,d,()=>d(i.currentUser)),Ww(i,p=>d(p))}}const l=tT("auth");return l&&Uw(i,`http://${l}`),i}function mI(){return document.getElementsByTagName("head")?.[0]??document}Iw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Bi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",mI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uI("Browser");var pI="firebase",gI="12.8.0";_r(pI,gI,"app");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vr,GT;(function(){var s;function t(N,R){function O(){}O.prototype=R.prototype,N.F=R.prototype,N.prototype=new O,N.prototype.constructor=N,N.D=function(L,V,k){for(var I=Array(arguments.length-2),le=2;le<arguments.length;le++)I[le-2]=arguments[le];return R.prototype[V].apply(L,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,R,O){O||(O=0);const L=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)L[V]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(V=0;V<16;++V)L[V]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=N.g[0],O=N.g[1],V=N.g[2];let k=N.g[3],I;I=R+(k^O&(V^k))+L[0]+3614090360&4294967295,R=O+(I<<7&4294967295|I>>>25),I=k+(V^R&(O^V))+L[1]+3905402710&4294967295,k=R+(I<<12&4294967295|I>>>20),I=V+(O^k&(R^O))+L[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=O+(R^V&(k^R))+L[3]+3250441966&4294967295,O=V+(I<<22&4294967295|I>>>10),I=R+(k^O&(V^k))+L[4]+4118548399&4294967295,R=O+(I<<7&4294967295|I>>>25),I=k+(V^R&(O^V))+L[5]+1200080426&4294967295,k=R+(I<<12&4294967295|I>>>20),I=V+(O^k&(R^O))+L[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=O+(R^V&(k^R))+L[7]+4249261313&4294967295,O=V+(I<<22&4294967295|I>>>10),I=R+(k^O&(V^k))+L[8]+1770035416&4294967295,R=O+(I<<7&4294967295|I>>>25),I=k+(V^R&(O^V))+L[9]+2336552879&4294967295,k=R+(I<<12&4294967295|I>>>20),I=V+(O^k&(R^O))+L[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=O+(R^V&(k^R))+L[11]+2304563134&4294967295,O=V+(I<<22&4294967295|I>>>10),I=R+(k^O&(V^k))+L[12]+1804603682&4294967295,R=O+(I<<7&4294967295|I>>>25),I=k+(V^R&(O^V))+L[13]+4254626195&4294967295,k=R+(I<<12&4294967295|I>>>20),I=V+(O^k&(R^O))+L[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=O+(R^V&(k^R))+L[15]+1236535329&4294967295,O=V+(I<<22&4294967295|I>>>10),I=R+(V^k&(O^V))+L[1]+4129170786&4294967295,R=O+(I<<5&4294967295|I>>>27),I=k+(O^V&(R^O))+L[6]+3225465664&4294967295,k=R+(I<<9&4294967295|I>>>23),I=V+(R^O&(k^R))+L[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=O+(k^R&(V^k))+L[0]+3921069994&4294967295,O=V+(I<<20&4294967295|I>>>12),I=R+(V^k&(O^V))+L[5]+3593408605&4294967295,R=O+(I<<5&4294967295|I>>>27),I=k+(O^V&(R^O))+L[10]+38016083&4294967295,k=R+(I<<9&4294967295|I>>>23),I=V+(R^O&(k^R))+L[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=O+(k^R&(V^k))+L[4]+3889429448&4294967295,O=V+(I<<20&4294967295|I>>>12),I=R+(V^k&(O^V))+L[9]+568446438&4294967295,R=O+(I<<5&4294967295|I>>>27),I=k+(O^V&(R^O))+L[14]+3275163606&4294967295,k=R+(I<<9&4294967295|I>>>23),I=V+(R^O&(k^R))+L[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=O+(k^R&(V^k))+L[8]+1163531501&4294967295,O=V+(I<<20&4294967295|I>>>12),I=R+(V^k&(O^V))+L[13]+2850285829&4294967295,R=O+(I<<5&4294967295|I>>>27),I=k+(O^V&(R^O))+L[2]+4243563512&4294967295,k=R+(I<<9&4294967295|I>>>23),I=V+(R^O&(k^R))+L[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=O+(k^R&(V^k))+L[12]+2368359562&4294967295,O=V+(I<<20&4294967295|I>>>12),I=R+(O^V^k)+L[5]+4294588738&4294967295,R=O+(I<<4&4294967295|I>>>28),I=k+(R^O^V)+L[8]+2272392833&4294967295,k=R+(I<<11&4294967295|I>>>21),I=V+(k^R^O)+L[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=O+(V^k^R)+L[14]+4259657740&4294967295,O=V+(I<<23&4294967295|I>>>9),I=R+(O^V^k)+L[1]+2763975236&4294967295,R=O+(I<<4&4294967295|I>>>28),I=k+(R^O^V)+L[4]+1272893353&4294967295,k=R+(I<<11&4294967295|I>>>21),I=V+(k^R^O)+L[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=O+(V^k^R)+L[10]+3200236656&4294967295,O=V+(I<<23&4294967295|I>>>9),I=R+(O^V^k)+L[13]+681279174&4294967295,R=O+(I<<4&4294967295|I>>>28),I=k+(R^O^V)+L[0]+3936430074&4294967295,k=R+(I<<11&4294967295|I>>>21),I=V+(k^R^O)+L[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=O+(V^k^R)+L[6]+76029189&4294967295,O=V+(I<<23&4294967295|I>>>9),I=R+(O^V^k)+L[9]+3654602809&4294967295,R=O+(I<<4&4294967295|I>>>28),I=k+(R^O^V)+L[12]+3873151461&4294967295,k=R+(I<<11&4294967295|I>>>21),I=V+(k^R^O)+L[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=O+(V^k^R)+L[2]+3299628645&4294967295,O=V+(I<<23&4294967295|I>>>9),I=R+(V^(O|~k))+L[0]+4096336452&4294967295,R=O+(I<<6&4294967295|I>>>26),I=k+(O^(R|~V))+L[7]+1126891415&4294967295,k=R+(I<<10&4294967295|I>>>22),I=V+(R^(k|~O))+L[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=O+(k^(V|~R))+L[5]+4237533241&4294967295,O=V+(I<<21&4294967295|I>>>11),I=R+(V^(O|~k))+L[12]+1700485571&4294967295,R=O+(I<<6&4294967295|I>>>26),I=k+(O^(R|~V))+L[3]+2399980690&4294967295,k=R+(I<<10&4294967295|I>>>22),I=V+(R^(k|~O))+L[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=O+(k^(V|~R))+L[1]+2240044497&4294967295,O=V+(I<<21&4294967295|I>>>11),I=R+(V^(O|~k))+L[8]+1873313359&4294967295,R=O+(I<<6&4294967295|I>>>26),I=k+(O^(R|~V))+L[15]+4264355552&4294967295,k=R+(I<<10&4294967295|I>>>22),I=V+(R^(k|~O))+L[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=O+(k^(V|~R))+L[13]+1309151649&4294967295,O=V+(I<<21&4294967295|I>>>11),I=R+(V^(O|~k))+L[4]+4149444226&4294967295,R=O+(I<<6&4294967295|I>>>26),I=k+(O^(R|~V))+L[11]+3174756917&4294967295,k=R+(I<<10&4294967295|I>>>22),I=V+(R^(k|~O))+L[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=O+(k^(V|~R))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const O=R-this.blockSize,L=this.C;let V=this.h,k=0;for(;k<R;){if(V==0)for(;k<=O;)l(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<R;)if(L[V++]=N.charCodeAt(k++),V==this.blockSize){l(this,L),V=0;break}}else for(;k<R;)if(L[V++]=N[k++],V==this.blockSize){l(this,L),V=0;break}}this.h=V,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var O=N.length-8;O<N.length;++O)N[O]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,O=0;O<4;++O)for(let L=0;L<32;L+=8)N[R++]=this.g[O]>>>L&255;return N};function c(N,R){var O=p;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=R(N)}function d(N,R){this.h=R;const O=[];let L=!0;for(let V=N.length-1;V>=0;V--){const k=N[V]|0;L&&k==R||(O[V]=k,L=!1)}this.g=O}var p={};function y(N){return-128<=N&&N<128?c(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return rt(_(-N));const R=[];let O=1;for(let L=0;N>=O;L++)R[L]=N/O|0,O*=4294967296;return new d(R,0)}function T(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return rt(T(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=_(Math.pow(R,8));let L=A;for(let k=0;k<N.length;k+=8){var V=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+V),R);V<8?(V=_(Math.pow(R,V)),L=L.j(V).add(_(I))):(L=L.j(O),L=L.add(_(I)))}return L}var A=y(0),D=y(1),Y=y(16777216);s=d.prototype,s.m=function(){if(st(this))return-rt(this).m();let N=0,R=1;for(let O=0;O<this.g.length;O++){const L=this.i(O);N+=(L>=0?L:4294967296+L)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(nt(this))return"0";if(st(this))return"-"+rt(this).toString(N);const R=_(Math.pow(N,6));var O=this;let L="";for(;;){const V=Ut(O,R).g;O=ct(O,V.j(R));let k=((O.g.length>0?O.g[0]:O.h)>>>0).toString(N);if(O=V,nt(O))return k+L;for(;k.length<6;)k="0"+k;L=k+L}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function nt(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function st(N){return N.h==-1}s.l=function(N){return N=ct(this,N),st(N)?-1:nt(N)?0:1};function rt(N){const R=N.g.length,O=[];for(let L=0;L<R;L++)O[L]=~N.g[L];return new d(O,~N.h).add(D)}s.abs=function(){return st(this)?rt(this):this},s.add=function(N){const R=Math.max(this.g.length,N.g.length),O=[];let L=0;for(let V=0;V<=R;V++){let k=L+(this.i(V)&65535)+(N.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);L=I>>>16,k&=65535,I&=65535,O[V]=I<<16|k}return new d(O,O[O.length-1]&-2147483648?-1:0)};function ct(N,R){return N.add(rt(R))}s.j=function(N){if(nt(this)||nt(N))return A;if(st(this))return st(N)?rt(this).j(rt(N)):rt(rt(this).j(N));if(st(N))return rt(this.j(rt(N)));if(this.l(Y)<0&&N.l(Y)<0)return _(this.m()*N.m());const R=this.g.length+N.g.length,O=[];for(var L=0;L<2*R;L++)O[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<N.g.length;V++){const k=this.i(L)>>>16,I=this.i(L)&65535,le=N.i(V)>>>16,Ce=N.i(V)&65535;O[2*L+2*V]+=I*Ce,Et(O,2*L+2*V),O[2*L+2*V+1]+=k*Ce,Et(O,2*L+2*V+1),O[2*L+2*V+1]+=I*le,Et(O,2*L+2*V+1),O[2*L+2*V+2]+=k*le,Et(O,2*L+2*V+2)}for(N=0;N<R;N++)O[N]=O[2*N+1]<<16|O[2*N];for(N=R;N<2*R;N++)O[N]=0;return new d(O,0)};function Et(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function bt(N,R){this.g=N,this.h=R}function Ut(N,R){if(nt(R))throw Error("division by zero");if(nt(N))return new bt(A,A);if(st(N))return R=Ut(rt(N),R),new bt(rt(R.g),rt(R.h));if(st(R))return R=Ut(N,rt(R)),new bt(rt(R.g),R.h);if(N.g.length>30){if(st(N)||st(R))throw Error("slowDivide_ only works with positive integers.");for(var O=D,L=R;L.l(N)<=0;)O=ne(O),L=ne(L);var V=gt(O,1),k=gt(L,1);for(L=gt(L,2),O=gt(O,2);!nt(L);){var I=k.add(L);I.l(N)<=0&&(V=V.add(O),k=I),L=gt(L,1),O=gt(O,1)}return R=ct(N,V.j(R)),new bt(V,R)}for(V=A;N.l(R)>=0;){for(O=Math.max(1,Math.floor(N.m()/R.m())),L=Math.ceil(Math.log(O)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),k=_(O),I=k.j(R);st(I)||I.l(N)>0;)O-=L,k=_(O),I=k.j(R);nt(k)&&(k=D),V=V.add(k),N=ct(N,I)}return new bt(V,N)}s.B=function(N){return Ut(this,N).h},s.and=function(N){const R=Math.max(this.g.length,N.g.length),O=[];for(let L=0;L<R;L++)O[L]=this.i(L)&N.i(L);return new d(O,this.h&N.h)},s.or=function(N){const R=Math.max(this.g.length,N.g.length),O=[];for(let L=0;L<R;L++)O[L]=this.i(L)|N.i(L);return new d(O,this.h|N.h)},s.xor=function(N){const R=Math.max(this.g.length,N.g.length),O=[];for(let L=0;L<R;L++)O[L]=this.i(L)^N.i(L);return new d(O,this.h^N.h)};function ne(N){const R=N.g.length+1,O=[];for(let L=0;L<R;L++)O[L]=N.i(L)<<1|N.i(L-1)>>>31;return new d(O,N.h)}function gt(N,R){const O=R>>5;R%=32;const L=N.g.length-O,V=[];for(let k=0;k<L;k++)V[k]=R>0?N.i(k+O)>>>R|N.i(k+O+1)<<32-R:N.i(k+O);return new d(V,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,GT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,vr=d}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YT,Fl,KT,Zc,ym,QT,XT,JT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var j=u[S];if(!(j in v))break t;v=v[j]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,j,H){for(var ot=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ot[xt-2]=arguments[xt];return m.prototype[j].apply(S,ot)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function nt(u,m){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const H=j.length||0;u.length=v+H;for(let ot=0;ot<H;ot++)u[v+ot]=j[ot]}else u.push(j)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const S=bt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var bt=new st(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,gt=!1,N=new Et,R=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(O)}};function O(){for(var u;u=ct();){try{u.h.call(u.g)}catch(v){rt(v)}var m=bt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}gt=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(le,V),le.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),K=0;function lt(u,m,v,S,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=j,this.key=++K,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)u[v]=S[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function ht(u){this.src=u,this.g={},this.h=0}ht.prototype.add=function(u,m,v,S,j){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ot=Ct(u,m,S,j);return ot>-1?(m=u[ot],v||(m.fa=!1)):(m=new lt(m,this.src,H,!!S,j),m.fa=v,u.push(m)),m};function St(u,m){const v=m.type;if(v in u.g){var S=u.g[v],j=Array.prototype.indexOf.call(S,m,void 0),H;(H=j>=0)&&Array.prototype.splice.call(S,j,1),H&&(yt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ct(u,m,v,S){for(let j=0;j<u.length;++j){const H=u[j];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==S)return j}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Te={};function ue(u,m,v,S,j){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ue(u,m[H],v,S,j);return null}return v=Ji(v),u&&u[Ce]?u.J(m,v,p(S)?!!S.capture:!1,j):Bn(u,m,v,!1,S,j)}function Bn(u,m,v,S,j,H){if(!m)throw Error("Invalid event type");const ot=p(j)?!!j.capture:!!j;let xt=Ye(u);if(xt||(u[jt]=xt=new ht(u)),v=xt.add(m,v,S,ot,H),v.proxy)return v;if(S=Ki(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)k||(j=ot),j===void 0&&(j=!1),u.addEventListener(m.toString(),S,j);else if(u.attachEvent)u.attachEvent(Cn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ki(){function u(v){return m.call(u.src,u.listener,v)}const m=Qi;return u}function oi(u,m,v,S,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)oi(u,m[H],v,S,j);else S=p(S)?!!S.capture:!!S,v=Ji(v),u&&u[Ce]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ct(m,v,S,j),v>-1&&(yt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ye(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,v,S,j)),(v=u>-1?m[u]:null)&&qn(v))}function qn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])St(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Cn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Ye(m))?(St(v,u),v.h==0&&(v.src=null,m[jt]=null)):yt(u)}}}function Cn(u){return u in Te?Te[u]:Te[u]="on"+u}function Qi(u,m){if(u.da)u=!0;else{m=new le(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&qn(u),u=v.call(S,m)}return u}function Ye(u){return u=u[jt],u instanceof ht?u:null}var Xi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ji(u){return typeof u=="function"?u:(u[Xi]||(u[Xi]=function(m){return u.handleEvent(m)}),u[Xi])}function se(){L.call(this),this.i=new ht(this),this.M=this,this.G=null}A(se,L),se.prototype[Ce]=!0,se.prototype.removeEventListener=function(u,m,v,S){oi(this,u,m,v,S)};function Se(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var j=m;m=new V(S,u),at(m,j)}j=!0;let H,ot;if(v)for(ot=v.length-1;ot>=0;ot--)H=m.g=v[ot],j=Ti(H,S,!0,m)&&j;if(H=m.g=u,j=Ti(H,S,!0,m)&&j,j=Ti(H,S,!1,m)&&j,v)for(ot=0;ot<v.length;ot++)H=m.g=v[ot],j=Ti(H,S,!1,m)&&j}se.prototype.N=function(){if(se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)yt(v[S]);delete u.g[m],u.h--}}this.G=null},se.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},se.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Ti(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let H=0;H<m.length;++H){const ot=m[H];if(ot&&!ot.da&&ot.capture==v){const xt=ot.listener,Ne=ot.ha||ot.src;ot.fa&&St(u.i,ot),j=xt.call(Ne,S)!==!1&&j}}return j&&!S.defaultPrevented}function jo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Sa(u){u.g=jo(()=>{u.g=null,u.i&&(u.i=!1,Sa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends L{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Sa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(u){L.call(this),this.h=u,this.g={}}A(Si,L);var Dr=[];function Or(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&qn(m)},u),u.g={}}Si.prototype.N=function(){Si.Z.N.call(this),Or(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var on=d.JSON.stringify,Mr=d.JSON.parse,Aa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Vr(){}function Ns(){}var pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ve(){V.call(this,"d")}A(Ve,V);function gn(){V.call(this,"c")}A(gn,V);var Ae={},Ds=null;function $i(){return Ds=Ds||new se}Ae.Ia="serverreachability";function xr(u){V.call(this,Ae.Ia,u)}A(xr,V);function Hn(u){const m=$i();Se(m,new xr(m))}Ae.STAT_EVENT="statevent";function yn(u,m){V.call(this,Ae.STAT_EVENT,u),this.stat=m}A(yn,V);function we(u){const m=$i();Se(m,new yn(m,u))}Ae.Ja="timingevent";function Nn(u,m){V.call(this,Ae.Ja,u),this.size=m}A(Nn,V);function Fn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zt(){this.g=!0}zt.prototype.ua=function(){this.g=!1};function $e(u,m,v,S,j,H){u.info(function(){if(u.g)if(H){var ot="",xt=H.split("&");for(let te=0;te<xt.length;te++){var Ne=xt[te].split("=");if(Ne.length>1){const ve=Ne[0];Ne=Ne[1];const Xn=ve.split("_");ot=Xn.length>=2&&Xn[1]=="type"?ot+(ve+"="+Ne+"&"):ot+(ve+"=redacted&")}}}else ot=null;else ot=H;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+v+`
`+ot})}function ba(u,m,v,S,j,H,ot){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+v+`
`+H+" "+ot})}function Gn(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zo(u,v)+(S?" "+S:"")})}function Ai(u,m){u.info(function(){return"TIMEOUT: "+m})}zt.prototype.info=function(){};function zo(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ot=1;ot<S.length;ot++)S[ot]=""}}}}return on(H)}catch{return m}}var b={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},U={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},F;function Q(){}A(Q,Vr),Q.prototype.g=function(){return new XMLHttpRequest},F=new Q;function tt(u){return encodeURIComponent(String(u))}function it(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function wt(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new Si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var Nt={},Vt={};function Wt(u,m,v){u.M=1,u.A=kr(Le(m)),u.u=v,u.R=!0,Dn(u,null)}function Dn(u,m){u.F=Date.now(),On(u),u.B=Le(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ca(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Tt,u.g=xu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Dr[0]=j.toString()),j=Dr);for(let H=0;H<j.length;H++){const ot=ue(v,j[H],S||m.handleEvent,!1,m.h||m);if(!ot)break;m.g[ot.key]=ot}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Hn(),$e(u.i,u.v,u.B,u.l,u.S,u.u)}wt.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},wt.prototype.Y=function(u){try{if(u==this.g)t:{const xt=ci(this.g),Ne=this.g.ya(),te=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Ze(this.g)))){this.K||xt!=4||Ne==7||(Ne==8||te<=0?Hn(3):Hn(2)),bi(this);var m=this.g.ca();this.X=m;var v=Os(this);if(this.o=m==200,ba(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var H=S;break e}}H=null}if(u=H)Gn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,we(12),Mn(this),Yn(this);break t}}if(this.R){u=!0;let ve;for(;!this.K&&this.C<v.length;)if(ve=Lr(this,v),ve==Vt){xt==4&&(this.m=4,we(14),u=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Nt){this.m=4,we(15),Gn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Gn(this.i,this.l,ve,null),wi(this,ve);if(Ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)Gn(this.i,this.l,v,"[Invalid Chunked Response]"),Mn(this),Yn(this);else if(v.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),el(ot),ot.P=!0,we(11))}}else Gn(this.i,this.l,v,null),wi(this,v);xt==4&&Mn(this),this.o&&!this.K&&(xt==4?Du(this.j,this):(this.o=!1,On(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Mn(this),Yn(this)}}}catch{}};function Os(u){if(!Ms(u))return u.g.la();const m=Ze(u.g);if(m==="")return"";let v="";const S=m.length,j=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),Yn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(j&&H==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Ms(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Lr(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Vt:(v=Number(m.substring(v,S)),isNaN(v)?Nt:(S+=1,S+v>m.length?Vt:(m=m.slice(S,S+v),u.C=S+v,m)))}wt.prototype.cancel=function(){this.K=!0,Mn(this)};function On(u){u.T=Date.now()+u.H,wa(u,u.H)}function wa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Fn(_(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}wt.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ai(this.i,this.B),this.M!=2&&(Hn(),we(17)),Mn(this),this.m=2,Yn(this)):wa(this,this.T-u)};function Yn(u){u.j.I==0||u.K||Du(u.j,u)}function Mn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Or(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Va(v),zs(v);else break t;Hr(v),we(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Fn(_(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Vi(v,11)}else if((u.L||v.g==u)&&Va(v),!I(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let te=j[m];const ve=te[0];if(!(ve<=v.K))if(v.K=ve,te=te[1],v.I==2)if(te[0]=="c"){v.M=te[1],v.ba=te[2];const Xn=te[3];Xn!=null&&(v.ka=Xn,v.j.info("VER="+v.ka));const xi=te[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const hi=te[5];hi!=null&&typeof hi=="number"&&hi>0&&(S=1.5*hi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const fi=u.g;if(fi){const Fr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var H=S.h;H.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ho(H,H.h),H.h=null))}if(S.G){const xa=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(S.wa=xa,re(S.J,S.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ot=u;if(S.na=Vu(S,S.L?S.ba:null,S.W),ot.L){Fo(S.h,ot);var xt=ot,Ne=S.O;Ne&&(xt.H=Ne),xt.D&&(bi(xt),On(xt)),S.g=ot}else Cu(S);v.i.length>0&&Mi(v)}else te[0]!="stop"&&te[0]!="close"||Vi(v,7);else v.I==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?Vi(v,7):Wo(v):te[0]!="noop"&&v.l&&v.l.qa(te),v.A=0)}}Hn(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function Bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ho(u,m){u.g?u.g.add(m):u.h=m}function Fo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Go(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let j,H=null;S>=0?(j=u[v].substring(0,S),H=u[v].substring(S+1)):j=u[v],m(j,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,Ke(this,u.j),this.o=u.o,this.g=u.g,Vs(this,u.u),this.h=u.h,Yo(this,Ru(u.i)),this.m=u.m):u&&(m=String(u).match(Su))?(this.l=!1,Ke(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),Vs(this,m[4]),this.h=Ci(m[5]||"",!0),Yo(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,Ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,Ia,!0),"@"),u.push(tt(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ur(v,v.charAt(0)=="/"?Ko:Au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ur(v,bu)),u.join("")},Vn.prototype.resolve=function(u){const m=Le(this);let v=!!u.j;v?Ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)Vs(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=m.h.lastIndexOf("/");j!=-1&&(S=m.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const H=[];for(let ot=0;ot<j.length;){const xt=j[ot++];xt=="."?S&&ot==j.length&&H.push(""):xt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&ot==j.length&&H.push("")):(H.push(xt),S=!0)}S=H.join("/")}else S=j}return v?m.h=S:v=u.i.toString()!=="",v?Yo(m,Ru(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Le(u){return new Vn(u)}function Ke(u,m,v){u.j=v?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yo(u,m,v){m instanceof Ls?(u.i=m,Na(u.i,u.l)):(v||(m=Ur(m,xs)),u.i=new Ls(m,u.l))}function re(u,m,v){u.i.set(m,v)}function kr(u){return re(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,En),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function En(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ia=/[#\/\?@]/g,Au=/[#\?:]/g,Ko=/[#\?]/g,xs=/[#\?@]/g,bu=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ls.prototype,s.add=function(u,m){Tn(this),this.i=null,u=ks(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function wu(u,m){Tn(u),m=ks(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Qo(u,m){return Tn(u),m=ks(u,m),u.g.has(m)}s.forEach=function(u,m){Tn(this),this.g.forEach(function(v,S){v.forEach(function(j){u.call(m,j,S,this)},this)},this)};function Xo(u,m){Tn(u);let v=[];if(typeof m=="string")Qo(u,m)&&(v=v.concat(u.g.get(ks(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Tn(this),this.i=null,u=ks(this,u),Qo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Xo(this,u),u.length>0?String(u[0]):m):m};function Ca(u,m,v){wu(u,m),v.length>0&&(u.i=null,u.g.set(ks(u,m),Y(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const j=tt(v);v=Xo(this,v);for(let H=0;H<v.length;H++){let ot=j;v[H]!==""&&(ot+="="+tt(v[H])),u.push(ot)}}return this.i=u.join("&")};function Ru(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ks(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Na(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&(wu(this,S),Ca(this,j,v))},u)),u.j=m}function li(u,m){const v=new zt;if(d.Image){const S=new Image;S.onload=T(Kn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Kn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(Kn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Kn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Jo(u,m){const v=new zt,S=new AbortController,j=setTimeout(()=>{S.abort(),Kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(j),H.ok?Kn(v,"TestPingServer: ok",!0,m):Kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Kn(v,"TestPingServer: error",!1,m)})}function Kn(u,m,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Us(){this.g=new Aa}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ni,Vr),Ni.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(u,m){se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Pr,se),s=Pr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ps(this):ui(this),this.readyState==3&&Da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ps(this))},s.Na=function(u){this.g&&(this.response=u,Ps(this))},s.ga=function(){this.g&&Ps(this)};function Ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return Pt(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function jr(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Qn(v),typeof u=="string"?v!=null&&tt(v):re(u,m,v))}function ce(u){se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ce,se);var Di=/^https?$/i,$o=["POST","PUT"];s=ce.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():F.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){zr(this,H);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call($o,m,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ot]of v)this.g.setRequestHeader(H,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){zr(this,H)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Zo(u),Zi(u)}function Zo(u){u.A||(u.A=!0,Se(u,"complete"),Se(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Se(this,"complete"),Se(this,"abort"),Zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),ce.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},s.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(Se(u,"readystatechange"),ci(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=H===0){let ot=String(u.D).match(Su)[1]||null;!ot&&d.self&&d.self.location&&(ot=d.self.location.protocol.slice(0,-1)),S=!Di.test(ot?ot.toLowerCase():"")}v=S}if(v)Se(u,"complete"),Se(u,"success");else{u.o=6;try{var j=ci(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Zo(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Se(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mr(m)}};function Ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(I(u[S]))continue;var v=it(u[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[j]||[];m[j]=H,H.push(v)}Jt(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function js(u){this.za=0,this.i=[],this.j=new zt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(u&&u.concurrentRequestLimit),this.Ba=new Us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=js.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){we(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Vu(this,null,this.W),Mi(this)};function Wo(u){if(Oa(u),u.I==3){var m=u.V++,v=Le(u.J);if(re(v,"SID",u.M),re(v,"RID",m),re(v,"TYPE","terminate"),qr(u,v),m=new wt(u,u.j,m),m.M=2,m.A=kr(Le(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),On(m)}Mu(u)}function zs(u){u.g&&(el(u),u.g.cancel(),u.g=null)}function Oa(u){zs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!qo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ne||R(),gt||(ne(),gt=!0),N.add(m,u),u.D=0}}function Ma(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Fn(_(u.Ea,u,m),Ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new wt(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),at(H,this.U)):H=this.U),this.u!==null||this.R||(j.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Iu(this,j,m),v=Le(this.J),re(v,"RID",u),re(v,"CVER",22),this.G&&re(v,"X-HTTP-Session-Id",this.G),qr(this,v),H&&(this.R?m="headers="+tt(Qn(H))+"&"+m:this.u&&jr(v,this.u,H)),Ho(this.h,j),this.Ra&&re(v,"TYPE","init"),this.S?(re(v,"$req",m),re(v,"SID","null"),j.U=!0,Wt(j,v,null)):Wt(j,v,m),this.I=2}}else this.I==3&&(u?tl(this,u):this.i.length==0||qo(this.h)||tl(this))};function tl(u,m){var v;m?v=m.l:v=u.V++;const S=Le(u.J);re(S,"SID",u.M),re(S,"RID",v),re(S,"AID",u.K),qr(u,S),u.u&&u.o&&jr(S,u.u,u.o),v=new wt(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ho(u.h,v),Wt(v,S,m)}function qr(u,m){u.H&&Pt(u.H,function(v,S){re(m,S,v)}),u.l&&Pt({},function(v,S){re(m,S,v)})}function Iu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var j=u.i;let xt=-1;for(;;){const Ne=["count="+v];xt==-1?v>0?(xt=j[0].g,Ne.push("ofs="+xt)):xt=0:Ne.push("ofs="+xt);let te=!0;for(let ve=0;ve<v;ve++){var H=j[ve].g;const Xn=j[ve].map;if(H-=xt,H<0)xt=Math.max(0,j[ve].g-100),te=!1;else try{H="req"+H+"_"||"";try{var ot=Xn instanceof Map?Xn:Object.entries(Xn);for(const[xi,hi]of ot){let fi=hi;p(hi)&&(fi=on(hi)),Ne.push(H+xi+"="+encodeURIComponent(fi))}}catch(xi){throw Ne.push(H+"type="+encodeURIComponent("_badmap")),xi}}catch{S&&S(Xn)}}if(te){ot=Ne.join("&");break t}}ot=void 0}return u=u.i.splice(0,v),m.G=u,ot}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ne||R(),gt||(ne(),gt=!0),N.add(m,u),u.A=0}}function Hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Fn(_(u.Da,u),Ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Fn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),zs(this),Nu(this))};function el(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Nu(u){u.g=new wt(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Le(u.na);re(m,"RID","rpc"),re(m,"SID",u.M),re(m,"AID",u.K),re(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&re(m,"TO",u.ia),re(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&jr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=kr(Le(m)),v.u=null,v.R=!0,Dn(v,u)}s.Va=function(){this.C!=null&&(this.C=null,zs(this),Hr(this),we(19))};function Va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var v=null;if(u.g==m){Va(u),el(u),u.g=null;var S=2}else if(Ii(u.h,m))v=m.G,Fo(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;S=$i(),Se(S,new Nn(S,v)),Mi(u)}else Cu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(S==1&&Ma(u,m)||S==2&&Hr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function Ou(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const j=!S;S=new Vn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ke(S,"https"),kr(S),j?li(S.toString(),v):Jo(S.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),Mu(u),Oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Mu(u){if(u.I=0,u.ja=[],u.l){const m=Go(u.h);(m.length!=0||u.i.length!=0)&&(nt(u.ja,m),nt(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,v){var S=v instanceof Vn?Le(v):new Vn(v);if(S.g!="")m&&(S.g=m+"."+S.g),Vs(S,S.u);else{var j=d.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const H=new Vn(null);S&&Ke(H,S),m&&(H.g=m),j&&Vs(H,j),v&&(H.h=v),S=H}return v=u.G,m=u.wa,v&&m&&re(S,v,m),re(S,"VER",u.ka),qr(u,S),S}function xu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ce(new Ni({ab:v})):new ce(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}s=Lu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Bs(){}Bs.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){se.call(this),this.g=new js(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}A(_n,se),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Wo(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=on(u),u=v);m.i.push(new xe(m.Ya++,u)),m.I==3&&Mi(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,_n.Z.N.call(this)};function ku(u){Ve.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(ku,Ve);function Uu(){gn.call(this),this.status=1}A(Uu,gn);function ts(u){this.g=u}A(ts,Lu),ts.prototype.ra=function(){Se(this.g,"a")},ts.prototype.qa=function(u){Se(this.g,new ku(u))},ts.prototype.pa=function(u){Se(this.g,new Uu)},ts.prototype.oa=function(){Se(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,JT=function(){return new Bs},XT=function(){return $i()},QT=Ae,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},b.NO_ERROR=0,b.TIMEOUT=8,b.HTTP_ERROR=6,Zc=b,U.COMPLETE="complete",KT=U,Ns.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",se.prototype.listen=se.prototype.J,Fl=Ns,ce.prototype.listenOnce=ce.prototype.K,ce.prototype.getLastError=ce.prototype.Ha,ce.prototype.getLastErrorCode=ce.prototype.ya,ce.prototype.getStatus=ce.prototype.ca,ce.prototype.getResponseJson=ce.prototype.La,ce.prototype.getResponseText=ce.prototype.la,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Fa,YT=ce}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let Lo="12.8.0";function yI(s){Lo=s}const ma=new km("@firebase/firestore");function ho(){return ma.logLevel}function ft(s,...t){if(ma.logLevel<=Gt.DEBUG){const i=t.map(Km);ma.debug(`Firestore (${Lo}): ${s}`,...i)}}function ws(s,...t){if(ma.logLevel<=Gt.ERROR){const i=t.map(Km);ma.error(`Firestore (${Lo}): ${s}`,...i)}}function wo(s,...t){if(ma.logLevel<=Gt.WARN){const i=t.map(Km);ma.warn(`Firestore (${Lo}): ${s}`,...i)}}function Km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function It(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,$T(s,r,i)}function $T(s,t,i){let r=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ws(r),new Error(r)}function ie(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||$T(t,l,r)}function Mt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ts{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class ZT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class vI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class EI{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ie(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ts,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ts)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie(typeof r.accessToken=="string",31837,{l:r}),new ZT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ie(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class TI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class SI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new TI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ie(this.o===void 0,3512);const r=c=>{c.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ft("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ie(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Qm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=bI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Yt(s,t){return s<t?-1:s>t?1:0}function _m(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Wd(l)===Wd(c)?Yt(l,c):Wd(l)?1:-1}return Yt(s.length,t.length)}const wI=55296,RI=57343;function Wd(s){const t=s.charCodeAt(0);return t>=wI&&t<=RI}function Ro(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Yv="__name__";class zi{constructor(t,i,r){i===void 0?i=0:i>t.length&&It(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&It(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return zi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof zi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=zi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Yt(t.length,i.length)}static compareSegments(t,i){const r=zi.isNumericId(t),l=zi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?zi.extractNumericId(t).compare(zi.extractNumericId(i)):_m(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return vr.fromString(t.substring(4,t.length-2))}}class pe extends zi{construct(t,i,r){return new pe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new pe(i)}static emptyPath(){return new pe([])}}const II=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends zi{construct(t,i,r){return new rn(t,i,r)}static isValidIdentifier(t){return II.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yv}static keyField(){return new rn([Yv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(i)}static emptyPath(){return new rn([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(pe.fromString(t))}static fromName(t){return new _t(pe.fromString(t).popFirst(5))}static empty(){return new _t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return pe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new pe(t.slice()))}}function WT(s,t,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function CI(s,t,i,r){if(t===!0&&r===!0)throw new ut(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Kv(s){if(!_t.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Qv(s){if(_t.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function t0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ih(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":It(12329,{type:typeof s})}function pa(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ih(s);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function qe(s,t){const i={typeString:s};return t&&(i.value=t),i}function yu(s,t){if(!t0(s))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}const Xv=-62135596800,Jv=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Jv);return new _e(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Xv)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(yu(t,_e._jsonSchema))return new _e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:qe("string",_e._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new _e(0,0))}static max(){return new Dt(new _e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function NI(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Dt.fromTimestamp(r===1e9?new _e(i+1,0):new _e(i,r));return new Tr(l,_t.empty(),t)}function DI(s){return new Tr(s.readTime,s.key,iu)}class Tr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Tr(Dt.min(),_t.empty(),iu)}static max(){return new Tr(Dt.max(),_t.empty(),iu)}}function OI(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=_t.comparator(s.documentKey,t.documentKey),i!==0?i:Yt(s.largestBatchId,t.largestBatchId))}const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ko(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==MI)throw s;ft("LocalStore","Unexpectedly lost primary lease")}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new et(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):et.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):et.reject(i)}static resolve(t){return new et(((i,r)=>{i(t)}))}static reject(t){return new et(((i,r)=>{r(t)}))}static waitFor(t){return new et(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=et.resolve(!1);for(const r of t)i=i.next((l=>l?et.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new et(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((T=>{d[_]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new et(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function xI(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Uo(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ch.ce=-1;const Xm=-1;function Nh(s){return s==null}function fh(s){return s===0&&1/s==-1/0}function LI(s){return typeof s=="number"&&Number.isInteger(s)&&!fh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const e0="";function kI(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=$v(t)),t=UI(s.get(i),t);return $v(t)}function UI(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case e0:i+="";break;default:i+=c}}return i}function $v(s){return s+e0+""}function Zv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function _a(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function n0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class be{constructor(t,i){this.comparator=t,this.root=i||sn.EMPTY}insert(t,i){return new be(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??sn.RED,this.left=l??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new sn(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw It(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new sn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(t){return new Wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ge(this.comparator);return i.data=t,i}}class Wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yi{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new yi([])}unionWith(t){let i=new Ge(rn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new yi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ro(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class i0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new i0("Invalid base64 string: "+c):c}})(t);return new an(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const PI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(s){if(ie(!!s,39018),typeof s=="string"){let t=0;const i=PI.exec(s);if(ie(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Me(s.seconds),nanos:Me(s.nanos)}}function Me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ar(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}const s0="server_timestamp",r0="__type__",a0="__previous_value__",o0="__local_write_time__";function Dh(s){return(s?.mapValue?.fields||{})[r0]?.stringValue===s0}function Oh(s){const t=s.mapValue.fields[a0];return Dh(t)?Oh(t):t}function su(s){const t=Sr(s.mapValue.fields[o0].timestampValue);return new _e(t.seconds,t.nanos)}class jI{constructor(t,i,r,l,c,d,p,y,_,T,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T,this.apiKey=A}}const dh="(default)";class ru{constructor(t,i){this.projectId=t,this.database=i||dh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===dh}isEqual(t){return t instanceof ru&&t.projectId===this.projectId&&t.database===this.database}}function zI(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(s.options.projectId,t)}const l0="__type__",BI="__max__",Fc={mapValue:{}},u0="__vector__",mh="value";function br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dh(s)?4:HI(s)?9007199254740991:qI(s)?10:11:It(28295,{value:s})}function Yi(s,t){if(s===t)return!0;const i=br(s);if(i!==br(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return su(s).isEqual(su(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Sr(l.timestampValue),p=Sr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Ar(l.bytesValue).isEqual(Ar(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Me(l.geoPointValue.latitude)===Me(c.geoPointValue.latitude)&&Me(l.geoPointValue.longitude)===Me(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Me(l.integerValue)===Me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Me(l.doubleValue),p=Me(c.doubleValue);return d===p?fh(d)===fh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ro(s.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Zv(d)!==Zv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Yi(d[y],p[y])))return!1;return!0})(s,t);default:return It(52216,{left:s})}}function au(s,t){return(s.values||[]).find((i=>Yi(i,t)))!==void 0}function Io(s,t){if(s===t)return 0;const i=br(s),r=br(t);if(i!==r)return Yt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Yt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Me(c.integerValue||c.doubleValue),y=Me(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return tE(s.timestampValue,t.timestampValue);case 4:return tE(su(s),su(t));case 5:return _m(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ar(c),y=Ar(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const T=Yt(p[_],y[_]);if(T!==0)return T}return Yt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Yt(Me(c.latitude),Me(d.latitude));return p!==0?p:Yt(Me(c.longitude),Me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return eE(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[mh]?.arrayValue,T=y[mh]?.arrayValue,A=Yt(_?.values?.length||0,T?.values?.length||0);return A!==0?A:eE(_,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Fc.mapValue&&d===Fc.mapValue)return 0;if(c===Fc.mapValue)return 1;if(d===Fc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let A=0;A<y.length&&A<T.length;++A){const D=_m(y[A],T[A]);if(D!==0)return D;const Y=Io(p[y[A]],_[T[A]]);if(Y!==0)return Y}return Yt(y.length,T.length)})(s.mapValue,t.mapValue);default:throw It(23264,{he:i})}}function tE(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Yt(s,t);const i=Sr(s),r=Sr(t),l=Yt(i.seconds,r.seconds);return l!==0?l:Yt(i.nanos,r.nanos)}function eE(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Io(i[l],r[l]);if(c)return c}return Yt(i.length,r.length)}function Co(s){return vm(s)}function vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Sr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _t.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=vm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${vm(i.fields[d])}`;return l+"}"})(s.mapValue):It(61005,{value:s})}function Wc(s){switch(br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Oh(s);return t?16+Wc(t):16;case 5:return 2*s.stringValue.length;case 6:return Ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Wc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return _a(r.fields,((c,d)=>{l+=c.length+Wc(d)})),l})(s.mapValue);default:throw It(13486,{value:s})}}function ph(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Em(s){return!!s&&"integerValue"in s}function Jm(s){return!!s&&"arrayValue"in s}function nE(s){return!!s&&"nullValue"in s}function iE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function th(s){return!!s&&"mapValue"in s}function qI(s){return(s?.mapValue?.fields||{})[l0]?.stringValue===u0}function $l(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return _a(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=$l(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=$l(s.arrayValue.values[i]);return t}return{...s}}function HI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===BI}class ri{constructor(t){this.value=t}static empty(){return new ri({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!th(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=$l(i)}setAll(t){let i=rn.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=$l(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());th(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];th(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){_a(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new ri($l(this.value))}}function c0(s){const t=[];return _a(s.fields,((i,r)=>{const l=new rn([i]);if(th(r)){const c=c0(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new yi(t)}class fn{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new fn(t,0,Dt.min(),Dt.min(),Dt.min(),ri.empty(),0)}static newFoundDocument(t,i,r,l){return new fn(t,1,i,Dt.min(),r,l,0)}static newNoDocument(t,i){return new fn(t,2,i,Dt.min(),Dt.min(),ri.empty(),0)}static newUnknownDocument(t,i){return new fn(t,3,i,Dt.min(),Dt.min(),ri.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class No{constructor(t,i){this.position=t,this.inclusive=i}}function sE(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=_t.comparator(_t.fromName(d.referenceValue),i.key):r=Io(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function rE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Yi(s.position[i],t.position[i]))return!1;return!0}class ou{constructor(t,i="asc"){this.field=t,this.dir=i}}function FI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class h0{}class Be extends h0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new YI(t,i,r):i==="array-contains"?new XI(t,r):i==="in"?new JI(t,r):i==="not-in"?new $I(t,r):i==="array-contains-any"?new ZI(t,r):new Be(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new KI(t,r):new QI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Io(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(Io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends h0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ei(t,i)}matches(t){return f0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f0(s){return s.op==="and"}function d0(s){return GI(s)&&f0(s)}function GI(s){for(const t of s.filters)if(t instanceof Ei)return!1;return!0}function Tm(s){if(s instanceof Be)return s.field.canonicalString()+s.op.toString()+Co(s.value);if(d0(s))return s.filters.map((t=>Tm(t))).join(",");{const t=s.filters.map((i=>Tm(i))).join(",");return`${s.op}(${t})`}}function m0(s,t){return s instanceof Be?(function(r,l){return l instanceof Be&&r.op===l.op&&r.field.isEqual(l.field)&&Yi(r.value,l.value)})(s,t):s instanceof Ei?(function(r,l){return l instanceof Ei&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&m0(d,l.filters[p])),!0):!1})(s,t):void It(19439)}function p0(s){return s instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Co(i.value)}`})(s):s instanceof Ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(p0).join(" ,")+"}"})(s):"Filter"}class YI extends Be{constructor(t,i,r){super(t,i,r),this.key=_t.fromName(r.referenceValue)}matches(t){const i=_t.comparator(t.key,this.key);return this.matchesComparison(i)}}class KI extends Be{constructor(t,i){super(t,"in",i),this.keys=g0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class QI extends Be{constructor(t,i){super(t,"not-in",i),this.keys=g0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function g0(s,t){return(t.arrayValue?.values||[]).map((i=>_t.fromName(i.referenceValue)))}class XI extends Be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Jm(i)&&au(i.arrayValue,this.value)}}class JI extends Be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class $I extends Be{constructor(t,i){super(t,"not-in",i)}matches(t){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class ZI extends Be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>au(this.value.arrayValue,r)))}}class WI{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function aE(s,t=null,i=[],r=[],l=null,c=null,d=null){return new WI(s,t,i,r,l,c,d)}function $m(s){const t=Mt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Tm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Nh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Co(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Co(r))).join(",")),t.Te=i}return t.Te}function Zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!FI(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!m0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!rE(s.startAt,t.startAt)&&rE(s.endAt,t.endAt)}function Sm(s){return _t.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Nr{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tC(s,t,i,r,l,c,d,p){return new Nr(s,t,i,r,l,c,d,p)}function Wm(s){return new Nr(s)}function oE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function eC(s){return _t.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function tp(s){return s.collectionGroup!==null}function Eo(s){const t=Mt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ge(rn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ou(c,r))})),i.has(rn.keyField().canonicalString())||t.Ie.push(new ou(rn.keyField(),r))}return t.Ie}function Hi(s){const t=Mt(s);return t.Ee||(t.Ee=nC(t,Eo(s))),t.Ee}function nC(s,t){if(s.limitType==="F")return aE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ou(l.field,c)}));const i=s.endAt?new No(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new No(s.startAt.position,s.startAt.inclusive):null;return aE(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Am(s,t){const i=s.filters.concat([t]);return new Nr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function iC(s,t){const i=s.explicitOrderBy.concat([t]);return new Nr(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function bm(s,t,i){return new Nr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function sC(s,t){return new Nr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,t,s.endAt)}function rC(s,t){return new Nr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,t)}function Mh(s,t){return Zm(Hi(s),Hi(t))&&s.limitType===t.limitType}function y0(s){return`${$m(Hi(s))}|lt:${s.limitType}`}function fo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>p0(l))).join(", ")}]`),Nh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Co(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Co(l))).join(",")),`Target(${r})`})(Hi(s))}; limitType=${s.limitType})`}function Vh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_t.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Eo(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=sE(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,Eo(r),l)||r.endAt&&!(function(d,p,y){const _=sE(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,Eo(r),l))})(s,t)}function aC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _0(s){return(t,i)=>{let r=!1;for(const l of Eo(s)){const c=oC(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function oC(s,t,i){const r=s.field.isKeyField()?_t.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Io(y,_):It(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return It(19790,{direction:s.dir})}}class va{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){_a(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return n0(this.inner)}size(){return this.innerSize}}const lC=new be(_t.comparator);function Rs(){return lC}const v0=new be(_t.comparator);function Gl(...s){let t=v0;for(const i of s)t=t.insert(i.key,i);return t}function E0(s){let t=v0;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function la(){return Zl()}function T0(){return Zl()}function Zl(){return new va((s=>s.toString()),((s,t)=>s.isEqual(t)))}const uC=new be(_t.comparator),cC=new Ge(_t.comparator);function Kt(...s){let t=cC;for(const i of s)t=t.add(i);return t}const hC=new Ge(Yt);function fC(){return hC}function ep(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(t)?"-0":t}}function S0(s){return{integerValue:""+s}}function dC(s,t){return LI(t)?S0(t):ep(s,t)}class xh{constructor(){this._=void 0}}function mC(s,t,i){return s instanceof lu?(function(l,c){const d={fields:{[r0]:{stringValue:s0},[o0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dh(c)&&(c=Oh(c)),c&&(d.fields[a0]=c),{mapValue:d}})(i,t):s instanceof uu?b0(s,t):s instanceof cu?w0(s,t):(function(l,c){const d=A0(l,c),p=lE(d)+lE(l.Ae);return Em(d)&&Em(l.Ae)?S0(p):ep(l.serializer,p)})(s,t)}function pC(s,t,i){return s instanceof uu?b0(s,t):s instanceof cu?w0(s,t):i}function A0(s,t){return s instanceof gh?(function(r){return Em(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class lu extends xh{}class uu extends xh{constructor(t){super(),this.elements=t}}function b0(s,t){const i=R0(t);for(const r of s.elements)i.some((l=>Yi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class cu extends xh{constructor(t){super(),this.elements=t}}function w0(s,t){let i=R0(t);for(const r of s.elements)i=i.filter((l=>!Yi(l,r)));return{arrayValue:{values:i}}}class gh extends xh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function lE(s){return Me(s.integerValue||s.doubleValue)}function R0(s){return Jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class gC{constructor(t,i){this.field=t,this.transform=i}}function yC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof uu&&l instanceof uu||r instanceof cu&&l instanceof cu?Ro(r.elements,l.elements,Yi):r instanceof gh&&l instanceof gh?Yi(r.Ae,l.Ae):r instanceof lu&&l instanceof lu})(s.transform,t.transform)}class _C{constructor(t,i){this.version=t,this.transformResults=i}}class Ss{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ss}static exists(t){return new Ss(void 0,t)}static updateTime(t){return new Ss(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function eh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Lh{}function I0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new N0(s.key,Ss.none()):new _u(s.key,s.data,Ss.none());{const i=s.data,r=ri.empty();let l=new Ge(rn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Ea(s.key,r,new yi(l.toArray()),Ss.none())}}function vC(s,t,i){s instanceof _u?(function(l,c,d){const p=l.value.clone(),y=cE(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Ea?(function(l,c,d){if(!eh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=cE(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(C0(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Wl(s,t,i,r){return s instanceof _u?(function(c,d,p,y){if(!eh(c.precondition,d))return p;const _=c.value.clone(),T=hE(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof Ea?(function(c,d,p,y){if(!eh(c.precondition,d))return p;const _=hE(c.fieldTransforms,y,d),T=d.data;return T.setAll(C0(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,d,p){return eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function EC(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=A0(r.transform,l||null);c!=null&&(i===null&&(i=ri.empty()),i.set(r.field,c))}return i||null}function uE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ro(r,l,((c,d)=>yC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class _u extends Lh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ea extends Lh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function C0(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function cE(s,t,i){const r=new Map;ie(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,pC(d,p,i[l]))}return r}function hE(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,mC(c,d,t))}return r}class N0 extends Lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends Lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&vC(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Wl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Wl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=T0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=I0(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Dt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Kt())}isEqual(t){return this.batchId===t.batchId&&Ro(this.mutations,t.mutations,((i,r)=>uE(i,r)))&&Ro(this.baseMutations,t.baseMutations,((i,r)=>uE(i,r)))}}class np{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){ie(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return uC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new np(t,i,r,l)}}class AC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bC{constructor(t,i){this.count=t,this.unchangedNames=i}}var ze,Xt;function wC(s){switch(s){case J.OK:return It(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return It(15467,{code:s})}}function D0(s){if(s===void 0)return ws("GRPC error has no .code"),J.UNKNOWN;switch(s){case ze.OK:return J.OK;case ze.CANCELLED:return J.CANCELLED;case ze.UNKNOWN:return J.UNKNOWN;case ze.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ze.INTERNAL:return J.INTERNAL;case ze.UNAVAILABLE:return J.UNAVAILABLE;case ze.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ze.NOT_FOUND:return J.NOT_FOUND;case ze.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ze.ABORTED:return J.ABORTED;case ze.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ze.DATA_LOSS:return J.DATA_LOSS;default:return It(39323,{code:s})}}(Xt=ze||(ze={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";function RC(){return new TextEncoder}const IC=new vr([4294967295,4294967295],0);function fE(s){const t=RC().encode(s),i=new GT;return i.update(t),new Uint8Array(i.digest())}function dE(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new vr([i,r],0),new vr([l,c],0)]}class ip{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=vr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(vr.fromNumber(r)));return l.compare(IC)===1&&(l=new vr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=fE(t),[r,l]=dE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ip(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=fE(t),[r,l]=dE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,vu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new kh(Dt.min(),l,new be(Yt),Rs(),Kt())}}class vu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new vu(r,i,Kt(),Kt(),Kt())}}class nh{constructor(t,i,r,l){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=l}}class O0{constructor(t,i){this.targetId=t,this.Ce=i}}class M0{constructor(t,i,r=an.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class mE{constructor(){this.ve=0,this.Fe=pE(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Kt(),i=Kt(),r=Kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:It(38017,{changeType:c})}})),new vu(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=pE()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class CC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rs(),this.He=Gc(),this.Je=Gc(),this.Ze=new be(Yt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:It(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Sm(c))if(r===0){const d=new _t(c.path);this.et(i,d,fn.newNoDocument(d,Dt.min()))}else ie(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ar(r).toUint8Array()}catch(y){if(y instanceof i0)return wo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new ip(d,l,c)}catch(y){return wo(y instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Sm(p.target)){const y=new _t(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,fn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Kt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new kh(t,i,this.Ze,this.je,r);return this.je=Rs(),this.He=Gc(),this.Je=Gc(),this.Ze=new be(Yt),l}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new mE,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ge(Yt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ge(Yt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Gc(){return new be(_t.comparator)}function pE(){return new be(_t.comparator)}const NC={asc:"ASCENDING",desc:"DESCENDING"},DC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OC={and:"AND",or:"OR"};class MC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function wm(s,t){return s.useProto3Json||Nh(t)?t:{value:t}}function yh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function V0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function VC(s,t){return yh(s,t.toTimestamp())}function Fi(s){return ie(!!s,49232),Dt.fromTimestamp((function(i){const r=Sr(i);return new _e(r.seconds,r.nanos)})(s))}function sp(s,t){return Rm(s,t).canonicalString()}function Rm(s,t){const i=(function(l){return new pe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function x0(s){const t=pe.fromString(s);return ie(j0(t),10190,{key:t.toString()}),t}function Im(s,t){return sp(s.databaseId,t.path)}function tm(s,t){const i=x0(t);if(i.get(1)!==s.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _t(k0(i))}function L0(s,t){return sp(s.databaseId,t)}function xC(s){const t=x0(s);return t.length===4?pe.emptyPath():k0(t)}function Cm(s){return new pe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function k0(s){return ie(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function gE(s,t,i){return{name:Im(s,t),fields:i.value.mapValue.fields}}function LC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:It(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(ie(T===void 0||typeof T=="string",58123),an.fromBase64String(T||"")):(ie(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),an.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?J.UNKNOWN:D0(_.code);return new ut(T,_.message||"")})(d);i=new M0(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=tm(s,r.document.name),c=Fi(r.document.updateTime),d=r.document.createTime?Fi(r.document.createTime):Dt.min(),p=new ri({mapValue:{fields:r.document.fields}}),y=fn.newFoundDocument(l,c,d,p),_=r.targetIds||[],T=r.removedTargetIds||[];i=new nh(_,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=tm(s,r.document),c=r.readTime?Fi(r.readTime):Dt.min(),d=fn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new nh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=tm(s,r.document),c=r.removedTargetIds||[];i=new nh([],c,l,null)}else{if(!("filter"in t))return It(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new bC(l,c),p=r.targetId;i=new O0(p,d)}}return i}function kC(s,t){let i;if(t instanceof _u)i={update:gE(s,t.key,t.value)};else if(t instanceof N0)i={delete:Im(s,t.key)};else if(t instanceof Ea)i={update:gE(s,t.key,t.data),updateMask:GC(t.fieldMask)};else{if(!(t instanceof TC))return It(16599,{dt:t.type});i={verify:Im(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof lu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof cu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw It(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:VC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:It(27497)})(s,t.precondition)),i}function UC(s,t){return s&&s.length>0?(ie(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Fi(l.updateTime):Fi(c);return d.isEqual(Dt.min())&&(d=Fi(c)),new _C(d,l.transformResults||[])})(i,t)))):[]}function PC(s,t){return{documents:[L0(s,t.path)]}}function jC(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=L0(s,l);const c=(function(_){if(_.length!==0)return P0(Ei.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(D){return{field:mo(D.field),direction:qC(D.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=wm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function zC(s){let t=xC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){ie(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const D=U0(A);return D instanceof Ei&&d0(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function(nt){return new ou(po(nt.field),(function(rt){switch(rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(nt.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let D;return D=typeof A=="object"?A.value:A,Nh(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(A){const D=!!A.before,Y=A.values||[];return new No(Y,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const D=!A.before,Y=A.values||[];return new No(Y,D)})(i.endAt)),tC(t,l,d,c,p,"F",y,_)}function BC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function U0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=po(i.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=po(i.unaryFilter.field);return Be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=po(i.unaryFilter.field);return Be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=po(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Be.create(po(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ei.create(i.compositeFilter.filters.map((r=>U0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return It(1026)}})(i.compositeFilter.op))})(s):It(30097,{filter:s})}function qC(s){return NC[s]}function HC(s){return DC[s]}function FC(s){return OC[s]}function mo(s){return{fieldPath:s.canonicalString()}}function po(s){return rn.fromServerFormat(s.fieldPath)}function P0(s){return s instanceof Be?(function(i){if(i.op==="=="){if(iE(i.value))return{unaryFilter:{field:mo(i.field),op:"IS_NAN"}};if(nE(i.value))return{unaryFilter:{field:mo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(iE(i.value))return{unaryFilter:{field:mo(i.field),op:"IS_NOT_NAN"}};if(nE(i.value))return{unaryFilter:{field:mo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(i.field),op:HC(i.op),value:i.value}}})(s):s instanceof Ei?(function(i){const r=i.getFilters().map((l=>P0(l)));return r.length===1?r[0]:{compositeFilter:{op:FC(i.op),filters:r}}})(s):It(54877,{filter:s})}function GC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function j0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function z0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class pr{constructor(t,i,r,l,c=Dt.min(),d=Dt.min(),p=an.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class YC{constructor(t){this.yt=t}}function KC(s){const t=zC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(t,t.limit,"L"):t}class QC{constructor(){this.Sn=new XC}addToCollectionParentIndex(t,i){return this.Sn.add(i),et.resolve()}getCollectionParents(t,i){return et.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return et.resolve()}deleteFieldIndex(t,i){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,i){return et.resolve()}getDocumentsMatchingTarget(t,i){return et.resolve(null)}getIndexType(t,i){return et.resolve(0)}getFieldIndexes(t,i){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,i){return et.resolve(Tr.min())}getMinOffsetFromCollectionGroup(t,i){return et.resolve(Tr.min())}updateCollectionGroup(t,i,r){return et.resolve()}updateIndexEntries(t,i){return et.resolve()}}class XC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ge(pe.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ge(pe.comparator)).toArray()}}const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B0=41943040;class In{static withCacheSize(t){return new In(t,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(B0,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Do{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Do(0)}static ar(){return new Do(-1)}}const _E="LruGarbageCollector",JC=1048576;function vE([s,t],[i,r]){const l=Yt(s,i);return l===0?Yt(t,r):l}class $C{constructor(t){this.Pr=t,this.buffer=new Ge(vE),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();vE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ft(_E,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Uo(i)?ft(_E,"Ignoring IndexedDB error during garbage collection: ",i):await ko(i)}await this.Ar(3e5)}))}}class WC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return et.resolve(Ch.ce);const r=new $C(i);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(yE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,l,c,d,p,y,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,p=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(_=Date.now(),ho()<=Gt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function tN(s,t){return new WC(s,t)}class eN{constructor(){this.changes=new va((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?et.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nN{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class iN{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Wl(r.mutation,l,yi.empty(),_e.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Kt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Kt()){const l=la();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Gl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=la();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Kt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=Rs();const d=Zl(),p=(function(){return Zl()})();return i.forEach(((y,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Ea)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Wl(T.mutation,_,T.mutation.getFieldMask(),_e.now())):d.set(_.key,yi.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>p.set(_,new nN(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Zl();let l=new be(((d,p)=>d-p)),c=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=r.get(y)||yi.empty();T=p.applyToLocalView(_,T),r.set(y,T);const A=(l.get(p.batchId)||Kt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,T=y.value,A=T0();T.forEach((D=>{if(!c.has(D)){const Y=I0(i.get(D),r.get(D));Y!==null&&A.set(D,Y),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return et.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return eC(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):tp(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):et.resolve(la());let p=iu,y=c;return d.next((_=>et.forEach(_,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?et.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{y=y.insert(T,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Kt()))).next((T=>({batchId:p,changes:E0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new _t(i)).next((r=>{let l=Gl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Gl();return this.indexManager.getCollectionParents(t,c).next((p=>et.forEach(p,(y=>{const _=(function(A,D){return new Nr(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((T=>{T.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,fn.newInvalidDocument(T)))}));let p=Gl();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&Wl(T.mutation,_,yi.empty(),_e.now()),Vh(i,_)&&(p=p.insert(y,_))})),p}))}}class sN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return et.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Fi(l.createTime)}})(i)),et.resolve()}getNamedQuery(t,i){return et.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:KC(l.bundledQuery),readTime:Fi(l.readTime)}})(i)),et.resolve()}}class rN{constructor(){this.overlays=new be(_t.comparator),this.Lr=new Map}getOverlay(t,i){return et.resolve(this.overlays.get(i))}getOverlays(t,i){const r=la();return et.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.bt(t,i,c)})),et.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),et.resolve()}getOverlaysForCollection(t,i,r){const l=la(),c=i.length+1,d=new _t(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return et.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new be(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=la(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=la(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return et.resolve(p)}bt(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new AC(i,r));let c=this.Lr.get(i);c===void 0&&(c=Kt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class aN{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,et.resolve()}}class rp{constructor(){this.kr=new Ge(Xe.Kr),this.qr=new Ge(Xe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Xe(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Xe(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new _t(new pe([])),r=new Xe(i,t),l=new Xe(i,t+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new _t(new pe([])),r=new Xe(i,t),l=new Xe(i,t+1);let c=Kt();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Xe(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Xe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return _t.comparator(t.key,i.key)||Yt(t.Hr,i.Hr)}static Ur(t,i){return Yt(t.Hr,i.Hr)||_t.comparator(t.key,i.key)}}class oN{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ge(Xe.Kr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SC(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Xe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return et.resolve(d)}lookupMutationBatch(t,i){return et.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Xm:this.Yn-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Xe(i,0),l=new Xe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ge(Yt);return i.forEach((l=>{const c=new Xe(l,0),d=new Xe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),et.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;_t.isDocumentKey(c)||(c=c.child(""));const d=new Xe(new _t(c),0);let p=new Ge(Yt);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Hr)),!0)}),d),et.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){ie(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return et.forEach(i.mutations,(l=>{const c=new Xe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Xe(i,0),l=this.Jr.firstAfterOrEqual(r);return et.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lN{constructor(t){this.ti=t,this.docs=(function(){return new be(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return et.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(t,i){let r=Rs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():fn.newInvalidDocument(l))})),et.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=Rs();const d=i.path,p=new _t(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||OI(DI(T),r)<=0||(l.has(T.key)||Vh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(t,i,r,l){It(9500)}ni(t,i){return et.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new uN(this)}getSize(t){return et.resolve(this.size)}}class uN extends eN{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),et.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class cN{constructor(t){this.persistence=t,this.ri=new va((i=>$m(i)),Zm),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.ii=0,this.si=new rp,this.targetCount=0,this.oi=Do._r()}forEachTarget(t,i){return this.ri.forEach(((r,l)=>i(l))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),et.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Do(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,et.resolve()}updateTargetData(t,i){return this.lr(i),et.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),et.waitFor(c).next((()=>l))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return et.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),et.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),et.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),et.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return et.resolve(r)}containsKey(t,i){return et.resolve(this.si.containsKey(i))}}class q0{constructor(t,i){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new aN,this.referenceDelegate=t(this),this.li=new cN(this),this.indexManager=new QC,this.remoteDocumentCache=(function(l){return new lN(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new YC(i),this.Pi=new sN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new oN(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){ft("MemoryPersistence","Starting transaction:",t);const l=new hN(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return et.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class hN extends VI{constructor(t){super(),this.currentSequenceNumber=t}}class ap{constructor(t){this.persistence=t,this.Ri=new rp,this.Ai=null}static Vi(t){return new ap(t)}get di(){if(this.Ai)return this.Ai;throw It(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),et.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),et.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),et.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.di,(r=>{const l=_t.fromPath(r);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Dt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return et.or([()=>et.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class _h{constructor(t,i){this.persistence=t,this.fi=new va((r=>kI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=tN(this,i)}static Vi(t,i){return new _h(t,i)}Ti(){}Ii(t){return et.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return et.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((c=>c?et.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(r++,c.removeEntry(d,Dt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),et.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),et.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),et.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Wc(t.data.value)),i}wr(t,i,r){return et.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return et.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class op{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=l}static Es(t,i){let r=Kt(),l=Kt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new op(t,i.fromCache,r,l)}}class fN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return k1()?8:xI(dn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new fN;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,r,l){return r.documentReadCount<this.Vs?(ho()<=Gt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",fo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(ho()<=Gt.DEBUG&&ft("QueryEngine","Query:",fo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(ho()<=Gt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",fo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hi(i))):et.resolve())}gs(t,i){if(oE(i))return et.resolve(null);let r=Hi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=bm(i,null,"F"),r=Hi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Kt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.bs(i,p);return this.Ss(i,_,d,y.readTime)?this.gs(t,bm(i,null,"F")):this.Ds(t,_,i,y)}))))})))))}ps(t,i,r,l){return oE(i)||l.isEqual(Dt.min())?et.resolve(null):this.fs.getDocuments(t,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?et.resolve(null):(ho()<=Gt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),fo(i)),this.Ds(t,d,i,NI(l,iu)).next((p=>p)))}))}bs(t,i){let r=new Ge(_0(t));return i.forEach(((l,c)=>{Vh(t,c)&&(r=r.add(c))})),r}Ss(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,r){return ho()<=Gt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",fo(i)),this.fs.getDocumentsMatchingQuery(t,i,Tr.min(),r)}Ds(t,i,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const lp="LocalStore",mN=3e8;class pN{constructor(t,i,r,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new be(Yt),this.Fs=new va((c=>$m(c)),Zm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function gN(s,t,i,r){return new pN(s,t,i,r)}async function H0(s,t){const i=Mt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Kt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){p.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function yN(s,t){const i=Mt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,T){const A=_.batch,D=A.keys();let Y=et.resolve();return D.forEach((nt=>{Y=Y.next((()=>T.getEntry(y,nt))).next((st=>{const rt=_.docVersions.get(nt);ie(rt!==null,48541),st.version.compareTo(rt)<0&&(A.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),T.addEntry(st)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Kt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function F0(s){const t=Mt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function _N(s,t){const i=Mt(s),r=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((T,A)=>{const D=l.get(A);if(!D)return;p.push(i.li.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,A))));let Y=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Y=Y.withResumeToken(an.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):T.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(T.resumeToken,r)),l=l.insert(A,Y),(function(st,rt,ct){return st.resumeToken.approximateByteSize()===0||rt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=mN?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(D,Y,T)&&p.push(i.li.updateTargetData(c,Y))}));let y=Rs(),_=Kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(vN(c,d,t.documentUpdates).next((T=>{y=T.Bs,_=T.Ls}))),!r.isEqual(Dt.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return et.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=l,c)))}function vN(s,t,i){let r=Kt(),l=Kt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=Rs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Dt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ft(lp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function EN(s,t){const i=Mt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function TN(s,t){const i=Mt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,t).next((c=>c?(l=c,et.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new pr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function Nm(s,t,i){const r=Mt(s),l=r.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Uo(d))throw d;ft(lp,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function EE(s,t,i){const r=Mt(s);let l=Dt.min(),c=Kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const A=Mt(y),D=A.Fs.get(T);return D!==void 0?et.resolve(A.vs.get(D)):A.li.getTargetData(_,T)})(r,d,Hi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,i?l:Dt.min(),i?c:Kt()))).next((p=>(SN(r,aC(t),p),{documents:p,ks:c})))))}function SN(s,t,i){let r=s.Ms.get(t)||Dt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(t,r)}class TE{constructor(){this.activeTargetIds=fC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AN{constructor(){this.vo=new TE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new TE,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bN{Mo(t){}shutdown(){}}const SE="ConnectivityMonitor";class AE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ft(SE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ft(SE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function Dm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const em="RestConnection",wN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,i,r,l,c){const d=Dm(),p=this.Qo(t,i.toUriEncodedString());ft(em,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,c);const{host:_}=new URL(p),T=Mo(_);return this.zo(t,p,y,r,T).then((A=>(ft(em,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw wo(em,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}jo(t,i,r,l,c,d){return this.Wo(t,i,r,l,c)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const r=wN[t];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class IN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const cn="WebChannelConnection",zl=(s,t,i)=>{s.listen(t,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class To extends RN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!To.c_){const t=XT();zl(t,QT.STAT_EVENT,(i=>{i.stat===ym.PROXY?ft(cn,"STAT_EVENT: detected buffering proxy"):i.stat===ym.NOPROXY&&ft(cn,"STAT_EVENT: detected no buffering proxy")})),To.c_=!0}}zo(t,i,r,l,c){const d=Dm();return new Promise(((p,y)=>{const _=new YT;_.setWithCredentials(!0),_.listenOnce(KT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Zc.NO_ERROR:const A=_.getResponseJson();ft(cn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Zc.TIMEOUT:ft(cn,`RPC '${t}' ${d} timed out`),y(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const D=_.getStatus();if(ft(cn,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const nt=Y?.error;if(nt&&nt.status&&nt.message){const st=(function(ct){const Et=ct.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Et)>=0?Et:J.UNKNOWN})(nt.status);y(new ut(st,nt.message))}else y(new ut(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut(J.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ft(cn,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);ft(cn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",T,r,15)}))}T_(t,i,r){const l=Dm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const _=c.join("");ft(cn,`Creating RPC '${t}' stream ${l}: ${_}`,p);const T=d.createWebChannel(_,p);this.I_(T);let A=!1,D=!1;const Y=new IN({Ho:nt=>{D?ft(cn,`Not sending because RPC '${t}' stream ${l} is closed:`,nt):(A||(ft(cn,`Opening RPC '${t}' stream ${l} transport.`),T.open(),A=!0),ft(cn,`RPC '${t}' stream ${l} sending:`,nt),T.send(nt))},Jo:()=>T.close()});return zl(T,Fl.EventType.OPEN,(()=>{D||(ft(cn,`RPC '${t}' stream ${l} transport opened.`),Y.i_())})),zl(T,Fl.EventType.CLOSE,(()=>{D||(D=!0,ft(cn,`RPC '${t}' stream ${l} transport closed`),Y.o_(),this.E_(T))})),zl(T,Fl.EventType.ERROR,(nt=>{D||(D=!0,wo(cn,`RPC '${t}' stream ${l} transport errored. Name:`,nt.name,"Message:",nt.message),Y.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),zl(T,Fl.EventType.MESSAGE,(nt=>{if(!D){const st=nt.data[0];ie(!!st,16349);const rt=st,ct=rt?.error||rt[0]?.error;if(ct){ft(cn,`RPC '${t}' stream ${l} received error:`,ct);const Et=ct.status;let bt=(function(gt){const N=ze[gt];if(N!==void 0)return D0(N)})(Et),Ut=ct.message;bt===void 0&&(bt=J.INTERNAL,Ut="Unknown error status: "+Et+" with message "+ct.message),D=!0,Y.o_(new ut(bt,Ut)),T.close()}else ft(cn,`RPC '${t}' stream ${l} received:`,st),Y.__(st)}})),To.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JT()}}function CN(s){return new To(s)}function nm(){return typeof document<"u"?document:null}function Uh(s){return new MC(s,!0)}To.c_=!1;class G0{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ft("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const bE="PersistentStream";class Y0{constructor(t,i,r,l,c,d,p,y){this.Ci=t,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ut(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(bE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ft(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NN extends Y0{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=LC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Dt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Dt.min():d.readTime?Fi(d.readTime):Dt.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=Cm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Sm(y)?{documents:PC(c,y)}:{query:jC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=V0(c,d.resumeToken);const _=wm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Dt.min())>0){p.readTime=yh(c,d.snapshotVersion.toTimestamp());const _=wm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=BC(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=Cm(this.serializer),i.removeTarget=t,this.K_(i)}}class DN extends Y0{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=UC(t.writeResults,t.commitTime),r=Fi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Cm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>kC(this.serializer,r)))};this.K_(i)}}class ON{}class MN extends ON{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Rm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}jo(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Rm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function VN(s,t,i,r){return new MN(s,t,i,r)}class xN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):ft("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class LN{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Ta(this)&&(ft(ga,"Restarting streams for network reachability change."),await(async function(y){const _=Mt(y);_.Ea.add(4),await Eu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ph(_)})(this))}))})),this.Va=new xN(r,l)}}async function Ph(s){if(Ta(s))for(const t of s.Ra)await t(!0)}async function Eu(s){for(const t of s.Ra)await t(!1)}function K0(s,t){const i=Mt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),fp(i)?hp(i):Po(i).O_()&&cp(i,t))}function up(s,t){const i=Mt(s),r=Po(i);i.Ia.delete(t),r.O_()&&Q0(i,t),i.Ia.size===0&&(r.O_()?r.L_():Ta(i)&&i.Va.set("Unknown"))}function cp(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Po(s).Z_(t)}function Q0(s,t){s.da.$e(t),Po(s).X_(t)}function hp(s){s.da=new CC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Po(s).start(),s.Va.ua()}function fp(s){return Ta(s)&&!Po(s).x_()&&s.Ia.size>0}function Ta(s){return Mt(s).Ea.size===0}function X0(s){s.da=void 0}async function kN(s){s.Va.set("Online")}async function UN(s){s.Ia.forEach(((t,i)=>{cp(s,t)}))}async function PN(s,t){X0(s),fp(s)?(s.Va.ha(t),hp(s)):s.Va.set("Unknown")}async function jN(s,t,i){if(s.Va.set("Online"),t instanceof M0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(r){ft(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await vh(s,r)}else if(t instanceof nh?s.da.Xe(t):t instanceof O0?s.da.st(t):s.da.tt(t),!i.isEqual(Dt.min()))try{const r=await F0(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(an.EMPTY_BYTE_STRING,T.snapshotVersion)),Q0(c,y);const A=new pr(T.target,y,_,T.sequenceNumber);cp(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ft(ga,"Failed to raise snapshot:",r),await vh(s,r)}}async function vh(s,t,i){if(!Uo(t))throw t;s.Ea.add(1),await Eu(s),s.Va.set("Offline"),i||(i=()=>F0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ft(ga,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ph(s)}))}function J0(s,t){return t().catch((i=>vh(s,i,t)))}async function jh(s){const t=Mt(s),i=wr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xm;for(;zN(t);)try{const l=await EN(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,BN(t,l)}catch(l){await vh(t,l)}$0(t)&&Z0(t)}function zN(s){return Ta(s)&&s.Ta.length<10}function BN(s,t){s.Ta.push(t);const i=wr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function $0(s){return Ta(s)&&!wr(s).x_()&&s.Ta.length>0}function Z0(s){wr(s).start()}async function qN(s){wr(s).ra()}async function HN(s){const t=wr(s);for(const i of s.Ta)t.ea(i.mutations)}async function FN(s,t,i){const r=s.Ta.shift(),l=np.from(r,t,i);await J0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await jh(s)}async function GN(s,t){t&&wr(s).Y_&&await(async function(r,l){if((function(d){return wC(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();wr(r).B_(),await J0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await jh(r)}})(s,t),$0(s)&&Z0(s)}async function wE(s,t){const i=Mt(s);i.asyncQueue.verifyOperationInProgress(),ft(ga,"RemoteStore received new credentials");const r=Ta(i);i.Ea.add(3),await Eu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ph(i)}async function YN(s,t){const i=Mt(s);t?(i.Ea.delete(2),await Ph(i)):t||(i.Ea.add(2),await Eu(i),i.Va.set("Unknown"))}function Po(s){return s.ma||(s.ma=(function(i,r,l){const c=Mt(i);return c.sa(),new NN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:kN.bind(null,s),Yo:UN.bind(null,s),t_:PN.bind(null,s),J_:jN.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),fp(s)?hp(s):s.Va.set("Unknown")):(await s.ma.stop(),X0(s))}))),s.ma}function wr(s){return s.fa||(s.fa=(function(i,r,l){const c=Mt(i);return c.sa(),new DN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:qN.bind(null,s),t_:GN.bind(null,s),ta:HN.bind(null,s),na:FN.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(ft(ga,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class dp{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new dp(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(s,t){if(ws("AsyncQueue",`${t}: ${s}`),Uo(s))return new ut(J.UNAVAILABLE,`${t}: ${s}`);throw s}class So{static emptySet(t){return new So(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||_t.comparator(i.key,r.key):(i,r)=>_t.comparator(i.key,r.key),this.keyedMap=Gl(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof So)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new So;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class RE{constructor(){this.ga=new be(_t.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):It(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Oo{constructor(t,i,r,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Oo(t,i,So.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class KN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class QN{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Mt(i),c=l.queries;l.queries=IE(),c.forEach(((d,p)=>{for(const y of p.ba)y.onError(r)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function IE(){return new va((s=>y0(s)),Mh)}async function W0(s,t){const i=Mt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(r=2):(c=new KN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=mp(d,`Initialization of query '${fo(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&pp(i)}async function tS(s,t){const i=Mt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function XN(s,t){const i=Mt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&pp(i)}function JN(s,t,i){const r=Mt(s),l=r.queries.get(t);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(t)}function pp(s){s.Ca.forEach((t=>{t.next()}))}var Om,CE;(CE=Om||(Om={})).Ma="default",CE.Cache="cache";class eS{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Om.Cache}}class nS{constructor(t){this.key=t}}class iS{constructor(t){this.key=t}}class $N{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Kt(),this.mutatedKeys=Kt(),this.eu=_0(t),this.tu=new So(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new RE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const D=l.get(T),Y=Vh(this.query,A)?A:null,nt=!!D&&this.mutatedKeys.has(D.key),st=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let rt=!1;D&&Y?D.data.isEqual(Y.data)?nt!==st&&(r.track({type:3,doc:Y}),rt=!0):this.su(D,Y)||(r.track({type:2,doc:Y}),rt=!0,(y&&this.eu(Y,y)>0||_&&this.eu(Y,_)<0)&&(p=!0)):!D&&Y?(r.track({type:0,doc:Y}),rt=!0):D&&!Y&&(r.track({type:1,doc:D}),rt=!0,(y||_)&&(p=!0)),rt&&(Y?(d=d.add(Y),c=st?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(Y,nt){const st=rt=>{switch(rt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Vt:rt})}};return st(Y)-st(nt)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new Oo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new iS(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new nS(r))})),i}cu(t){this.Za=t.ks,this.Ya=Kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gp="SyncEngine";class ZN{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class WN{constructor(t){this.key=t,this.hu=!1}}class t2{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new va((p=>y0(p)),Mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new be(_t.comparator),this.Au=new Map,this.Vu=new rp,this.du={},this.mu=new Map,this.fu=Do.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e2(s,t,i=!0){const r=uS(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await sS(r,t,i,!0),l}async function n2(s,t){const i=uS(s);await sS(i,t,!0,!1)}async function sS(s,t,i,r){const l=await TN(s.localStore,Hi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await i2(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&K0(s.remoteStore,l),p}async function i2(s,t,i,r,l){s.pu=(A,D,Y)=>(async function(st,rt,ct,Et){let bt=rt.view.ru(ct);bt.Ss&&(bt=await EE(st.localStore,rt.query,!1).then((({documents:N})=>rt.view.ru(N,bt))));const Ut=Et&&Et.targetChanges.get(rt.targetId),ne=Et&&Et.targetMismatches.get(rt.targetId)!=null,gt=rt.view.applyChanges(bt,st.isPrimaryClient,Ut,ne);return DE(st,rt.targetId,gt.au),gt.snapshot})(s,A,D,Y);const c=await EE(s.localStore,t,!0),d=new $N(t,c.ks),p=d.ru(c.documents),y=vu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);DE(s,i,_.au);const T=new ZN(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function s2(s,t,i){const r=Mt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Mh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Nm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&up(r.remoteStore,l.targetId),Mm(r,l.targetId)})).catch(ko)):(Mm(r,l.targetId),await Nm(r.localStore,l.targetId,!0))}async function r2(s,t){const i=Mt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),up(i.remoteStore,r.targetId))}async function a2(s,t,i){const r=d2(s);try{const l=await(function(d,p){const y=Mt(d),_=_e.now(),T=p.reduce(((Y,nt)=>Y.add(nt.key)),Kt());let A,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let nt=Rs(),st=Kt();return y.xs.getEntries(Y,T).next((rt=>{nt=rt,nt.forEach(((ct,Et)=>{Et.isValidDocument()||(st=st.add(ct))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Y,nt))).next((rt=>{A=rt;const ct=[];for(const Et of p){const bt=EC(Et,A.get(Et.key).overlayedDocument);bt!=null&&ct.push(new Ea(Et.key,bt,c0(bt.value.mapValue),Ss.exists(!0)))}return y.mutationQueue.addMutationBatch(Y,_,ct,p)})).next((rt=>{D=rt;const ct=rt.applyToLocalDocumentSet(A,st);return y.documentOverlayCache.saveOverlays(Y,rt.batchId,ct)}))})).then((()=>({batchId:D.batchId,changes:E0(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new be(Yt)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(r,l.batchId,i),await Tu(r,l.changes),await jh(r.remoteStore)}catch(l){const c=mp(l,"Failed to persist write");i.reject(c)}}async function rS(s,t){const i=Mt(s);try{const r=await _N(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ie(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ie(d.hu,14607):l.removedDocuments.size>0&&(ie(d.hu,42227),d.hu=!1))})),await Tu(i,r,t)}catch(r){await ko(r)}}function NE(s,t,i){const r=Mt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Mt(d);y.onlineState=p;let _=!1;y.queries.forEach(((T,A)=>{for(const D of A.ba)D.va(p)&&(_=!0)})),_&&pp(y)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function o2(s,t,i){const r=Mt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new be(_t.comparator);d=d.insert(c,fn.newNoDocument(c,Dt.min()));const p=Kt().add(c),y=new kh(Dt.min(),new Map,new be(Yt),d,p);await rS(r,y),r.Ru=r.Ru.remove(c),r.Au.delete(t),yp(r)}else await Nm(r.localStore,t,!1).then((()=>Mm(r,t,i))).catch(ko)}async function l2(s,t){const i=Mt(s),r=t.batch.batchId;try{const l=await yN(i.localStore,t);oS(i,r,null),aS(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(i,l)}catch(l){await ko(l)}}async function u2(s,t,i){const r=Mt(s);try{const l=await(function(d,p){const y=Mt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(ie(A!==null,37113),T=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(r.localStore,t);oS(r,t,i),aS(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Tu(r,l)}catch(l){await ko(l)}}function aS(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function oS(s,t,i){const r=Mt(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function Mm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||lS(s,r)}))}function lS(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(up(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),yp(s))}function DE(s,t,i){for(const r of i)r instanceof nS?(s.Vu.addReference(r.key,t),c2(s,r)):r instanceof iS?(ft(gp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||lS(s,r.key)):It(19791,{wu:r})}function c2(s,t){const i=t.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ft(gp,"New document in limbo: "+i),s.Eu.add(r),yp(s))}function yp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new _t(pe.fromString(t)),r=s.fu.next();s.Au.set(r,new WN(i)),s.Ru=s.Ru.insert(i,r),K0(s.remoteStore,new pr(Hi(Wm(i.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function Tu(s,t,i){const r=Mt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){l.push(_);const T=op.Es(y.targetId,_);c.push(T)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(y,_){const T=Mt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>et.forEach(_,(D=>et.forEach(D.Ts,(Y=>T.persistence.referenceDelegate.addReference(A,D.targetId,Y))).next((()=>et.forEach(D.Is,(Y=>T.persistence.referenceDelegate.removeReference(A,D.targetId,Y)))))))))}catch(A){if(!Uo(A))throw A;ft(lp,"Failed to update sequence numbers: "+A)}for(const A of _){const D=A.targetId;if(!A.fromCache){const Y=T.vs.get(D),nt=Y.snapshotVersion,st=Y.withLastLimboFreeSnapshotVersion(nt);T.vs=T.vs.insert(D,st)}}})(r.localStore,c))}async function h2(s,t){const i=Mt(s);if(!i.currentUser.isEqual(t)){ft(gp,"User change. New user:",t.toKey());const r=await H0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Tu(i,r.Ns)}}function f2(s,t){const i=Mt(s),r=i.Au.get(t);if(r&&r.hu)return Kt().add(r.key);{let l=Kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function uS(s){const t=Mt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=rS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o2.bind(null,t),t.Pu.J_=XN.bind(null,t.eventManager),t.Pu.yu=JN.bind(null,t.eventManager),t}function d2(s){const t=Mt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u2.bind(null,t),t}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return gN(this.persistence,new dN,t.initialUser,this.serializer)}Cu(t){return new q0(ap.Vi,this.serializer)}Du(t){return new AN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class m2 extends Eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ie(this.persistence.referenceDelegate instanceof _h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new q0((r=>_h.Vi(r,i)),this.serializer)}}class Vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=h2.bind(null,this.syncEngine),await YN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QN})()}createDatastore(t){const i=Uh(t.databaseInfo.databaseId),r=CN(t.databaseInfo);return VN(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new LN(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>NE(this.syncEngine,i,0)),(function(){return AE.v()?new AE:new bN})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,T){const A=new t2(l,c,d,p,y,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Mt(i);ft(ga,"RemoteStore shutting down."),r.Ea.add(5),await Eu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vm.provider={build:()=>new Vm};class cS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ws("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Rr="FirestoreClient";class p2{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=hn.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ft(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ft(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=mp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function im(s,t){s.asyncQueue.verifyOperationInProgress(),ft(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await H0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function OE(s,t){s.asyncQueue.verifyOperationInProgress();const i=await g2(s);ft(Rr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>wE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>wE(t.remoteStore,l))),s._onlineComponents=t}async function g2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ft(Rr,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;wo("Error using user provided cache. Falling back to memory cache: "+i),await im(s,new Eh)}}else ft(Rr,"Using default OfflineComponentProvider"),await im(s,new m2(void 0));return s._offlineComponents}async function hS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ft(Rr,"Using user provided OnlineComponentProvider"),await OE(s,s._uninitializedComponentsProvider._online)):(ft(Rr,"Using default OnlineComponentProvider"),await OE(s,new Vm))),s._onlineComponents}function y2(s){return hS(s).then((t=>t.syncEngine))}async function fS(s){const t=await hS(s),i=t.eventManager;return i.onListen=e2.bind(null,t.syncEngine),i.onUnlisten=s2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=n2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=r2.bind(null,t.syncEngine),i}function _2(s,t,i={}){const r=new Ts;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const T=new cS({next:D=>{T.Nu(),d.enqueueAndForget((()=>tS(c,A)));const Y=D.docs.has(p);!Y&&D.fromCache?_.reject(new ut(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&D.fromCache&&y&&y.source==="server"?_.reject(new ut(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new eS(Wm(p.path),T,{includeMetadataChanges:!0,Ka:!0});return W0(c,A)})(await fS(s),s.asyncQueue,t,i,r))),r.promise}function v2(s,t,i={}){const r=new Ts;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const T=new cS({next:D=>{T.Nu(),d.enqueueAndForget((()=>tS(c,A))),D.fromCache&&y.source==="server"?_.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new eS(p,T,{includeMetadataChanges:!0,Ka:!0});return W0(c,A)})(await fS(s),s.asyncQueue,t,i,r))),r.promise}function E2(s,t){const i=new Ts;return s.asyncQueue.enqueueAndForget((async()=>a2(await y2(s),t,i))),i.promise}function dS(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const T2="ComponentProvider",ME=new Map;function S2(s,t,i,r,l){return new jI(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,dS(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const mS="firestore.googleapis.com",VE=!0;class xE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mS,this.ssl=VE}else this.host=t.host,this.ssl=t.ssl??VE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=B0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<JC)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _I;switch(r.type){case"firstParty":return new SI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=ME.get(i);r&&(ft(T2,"Removing Datastore"),ME.delete(i),r.terminate())})(this),Promise.resolve()}}function A2(s,t,i,r={}){s=pa(s,zh);const l=Mo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(iT(`https://${p}`),sT("Firestore",!0)),c.host!==mS&&c.host!==p&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!ca(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=hn.MOCK_USER;else{_=I1(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new hn(A)}s._authCredentials=new vI(new ZT(_,T))}}class Cs{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Cs(this.firestore,t,this._query)}}class He{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(yu(i,He._jsonSchema))return new He(t,r||null,new _t(pe.fromString(i.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:qe("string",He._jsonSchemaVersion),referencePath:qe("string")};class Er extends Cs{constructor(t,i,r){super(t,i,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new _t(t))}withConverter(t){return new Er(this.firestore,t,this._path)}}function b2(s,t,...i){if(s=mn(s),WT("collection","path",t),s instanceof zh){const r=pe.fromString(t,...i);return Qv(r),new Er(s,null,r)}{if(!(s instanceof He||s instanceof Er))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pe.fromString(t,...i));return Qv(r),new Er(s.firestore,null,r)}}function Kc(s,t,...i){if(s=mn(s),arguments.length===1&&(t=Qm.newId()),WT("doc","path",t),s instanceof zh){const r=pe.fromString(t,...i);return Kv(r),new He(s,null,new _t(r))}{if(!(s instanceof He||s instanceof Er))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pe.fromString(t,...i));return Kv(r),new He(s.firestore,s instanceof Er?s.converter:null,new _t(r))}}const LE="AsyncQueue";class kE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G0(this,"async_queue_retry"),this._c=()=>{const r=nm();r&&ft(LE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Uo(t))throw t;ft(LE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",UE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=dp.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&It(47125,{Pc:UE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function UE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Bh extends zh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new kE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kE(t),this._firestoreClient=void 0,await t}}}function w2(s,t){const i=typeof s=="object"?s:lT(),r=typeof s=="string"?s:dh,l=Pm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=w1("firestore");c&&A2(l,...c)}return l}function _p(s){if(s._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||R2(s),s._firestoreClient}function R2(s){const t=s._freezeSettings(),i=S2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new p2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ai(an.fromBase64String(t))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ai(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(yu(t,ai._jsonSchema))return ai.fromBase64String(t.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:qe("string",ai._jsonSchemaVersion),bytes:qe("string")};class vp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ep{constructor(t){this._methodName=t}}class Gi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(t){if(yu(t,Gi._jsonSchema))return new Gi(t.latitude,t.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:qe("string",Gi._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};class _i{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(yu(t,_i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new _i(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:qe("string",_i._jsonSchemaVersion),vectorValues:qe("object")};const I2=/^__.*__$/;class C2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Ea(t,this.data,this.fieldMask,i,this.fieldTransforms):new _u(t,this.data,i,this.fieldTransforms)}}function pS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It(40011,{dataSource:s})}}class Tp{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Tp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Th(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(pS(this.dataSource)&&I2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class N2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Uh(t)}createContext(t,i,r,l=!1){return new Tp({dataSource:t,methodName:i,targetDoc:r,path:rn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sp(s){const t=s._freezeSettings(),i=Uh(s._databaseId);return new N2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function D2(s,t,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);vS("Data must be an object, but it was:",d,r);const p=yS(r,d);let y,_;if(c.merge)y=new yi(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const D=qh(t,A,i);if(!d.contains(D))throw new ut(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);V2(T,D)||T.push(D)}y=new yi(T),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new C2(new ri(p),y,_)}class Ap extends Ep{_toFieldTransform(t){return new gC(t.path,new lu)}isEqual(t){return t instanceof Ap}}function gS(s,t,i,r=!1){return bp(i,s.createContext(r?4:3,t))}function bp(s,t){if(_S(s=mn(s)))return vS("Unsupported field value:",t,s),yS(s,t);if(s instanceof Ep)return(function(r,l){if(!pS(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=bp(p,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=_e.fromDate(r);return{timestampValue:yh(l.serializer,c)}}if(r instanceof _e){const c=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(l.serializer,c)}}if(r instanceof Gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:V0(l.serializer,r._byteString)};if(r instanceof He){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof _i)return(function(d,p){const y=d instanceof _i?d.toArray():d;return{mapValue:{fields:{[l0]:{stringValue:u0},[mh]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return ep(p.serializer,T)}))}}}}}})(r,l);if(z0(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Ih(r)}`)})(s,t)}function yS(s,t){const i={};return n0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_a(s,((r,l)=>{const c=bp(l,t.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function _S(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _e||s instanceof Gi||s instanceof ai||s instanceof He||s instanceof Ep||s instanceof _i||z0(s))}function vS(s,t,i){if(!_S(i)||!t0(i)){const r=Ih(i);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function qh(s,t,i){if((t=mn(t))instanceof vp)return t._internalPath;if(typeof t=="string")return M2(s,t);throw Th("Field path arguments must be of type string or ",s,!1,void 0,i)}const O2=new RegExp("[~\\*/\\[\\]]");function M2(s,t,i){if(t.search(O2)>=0)throw Th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new vp(...t.split("."))._internalPath}catch{throw Th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Th(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ut(J.INVALID_ARGUMENT,p+s+y)}function V2(s,t){return s.some((i=>i.isEqual(t)))}class x2{convertValue(t,i="none"){switch(br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw It(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return _a(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[mh].arrayValue?.values?.map((r=>Me(r.doubleValue)));return new _i(i)}convertGeoPoint(t){return new Gi(Me(t.latitude),Me(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Oh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const i=Sr(t);return new _e(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=pe.fromString(t);ie(j0(r),9688,{name:t});const l=new ru(r.get(1),r.get(3)),c=new _t(r.popFirst(5));return l.isEqual(i)||ws(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class ES extends x2{constructor(t){super(),this.firestore=t}convertBytes(t){return new ai(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,i)}}function sm(){return new Ap("serverTimestamp")}const PE="@firebase/firestore",jE="4.10.0";class wp{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new L2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(qh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class L2 extends wp{data(){return super.data()}}function k2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class Hh extends Rp{}function U2(s,t,...i){let r=[];t instanceof Rp&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof Cp)).length,p=c.filter((y=>y instanceof Ip)).length;if(d>1||d>0&&p>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Ip extends Hh{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Ip(t,i,r)}_apply(t){const i=this._parse(t);return SS(t._query,i),new Cs(t.firestore,t.converter,Am(t._query,i))}_parse(t){const i=Sp(t.firestore);return(function(c,d,p,y,_,T,A){let D;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){BE(A,T);const nt=[];for(const st of A)nt.push(zE(y,c,st));D={arrayValue:{values:nt}}}else D=zE(y,c,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||BE(A,T),D=gS(p,d,A,T==="in"||T==="not-in");return Be.create(_,T,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Cp extends Rp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Cp(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)SS(d,y),d=Am(d,y)})(t._query,i),new Cs(t.firestore,t.converter,Am(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Np extends Hh{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Np(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(c,d)})(t._query,this._field,this._direction);return new Cs(t.firestore,t.converter,iC(t._query,i))}}function P2(s,t="asc"){const i=t,r=qh("orderBy",s);return Np._create(r,i)}class Dp extends Hh{constructor(t,i,r){super(),this.type=t,this._docOrFields=i,this._inclusive=r}static _create(t,i,r){return new Dp(t,i,r)}_apply(t){const i=TS(t,this.type,this._docOrFields,this._inclusive);return new Cs(t.firestore,t.converter,sC(t._query,i))}}function j2(...s){return Dp._create("startAt",s,!0)}class Op extends Hh{constructor(t,i,r){super(),this.type=t,this._docOrFields=i,this._inclusive=r}static _create(t,i,r){return new Op(t,i,r)}_apply(t){const i=TS(t,this.type,this._docOrFields,this._inclusive);return new Cs(t.firestore,t.converter,rC(t._query,i))}}function z2(...s){return Op._create("endAt",s,!0)}function TS(s,t,i,r){if(i[0]=mn(i[0]),i[0]instanceof wp)return(function(c,d,p,y,_){if(!y)throw new ut(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const T=[];for(const A of Eo(c))if(A.field.isKeyField())T.push(ph(d,y.key));else{const D=y.data.field(A.field);if(Dh(D))throw new ut(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(D===null){const Y=A.field.canonicalString();throw new ut(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Y}' (used as the orderBy) does not exist.`)}T.push(D)}return new No(T,_)})(s._query,s.firestore._databaseId,t,i[0]._document,r);{const l=Sp(s.firestore);return(function(d,p,y,_,T,A){const D=d.explicitOrderBy;if(T.length>D.length)throw new ut(J.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Y=[];for(let nt=0;nt<T.length;nt++){const st=T[nt];if(D[nt].field.isKeyField()){if(typeof st!="string")throw new ut(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof st}`);if(!tp(d)&&st.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${st}' contains a slash.`);const rt=d.path.child(pe.fromString(st));if(!_t.isDocumentKey(rt))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${rt}' is not because it contains an odd number of segments.`);const ct=new _t(rt);Y.push(ph(p,ct))}else{const rt=gS(y,_,st);Y.push(rt)}}return new No(Y,A)})(s._query,s.firestore._databaseId,l,t,i,r)}}function zE(s,t,i){if(typeof(i=mn(i))=="string"){if(i==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tp(t)&&i.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(pe.fromString(i));if(!_t.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ph(s,new _t(r))}if(i instanceof He)return ph(s,i._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(i)}.`)}function BE(s,t){if(!Array.isArray(s)||s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function SS(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function B2(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class Kl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ua extends wp{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(qh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:qe("string",ua._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class ih extends ua{data(t={}){return super.data(t)}}class Ao{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Kl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new ih(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:q2(p.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ao._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function q2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:s})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:qe("string",Ao._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};function rm(s){s=pa(s,He);const t=pa(s.firestore,Bh),i=_p(t);return _2(i,s._key).then((r=>G2(t,s,r)))}function H2(s){s=pa(s,Cs);const t=pa(s.firestore,Bh),i=_p(t),r=new ES(t);return k2(s._query),v2(i,s._query).then((l=>new Ao(t,r,s,l)))}function am(s,t,i){s=pa(s,He);const r=pa(s.firestore,Bh),l=B2(s.converter,t,i),c=Sp(r);return F2(r,[D2(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ss.none())])}function F2(s,t){const i=_p(s);return E2(i,t)}function G2(s,t,i){const r=i.docs.get(t._key),l=new ES(s);return new ua(s,l,t._key,r,new Kl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){yI(Vo),bo(new ha("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Bh(new EI(r.getProvider("auth-internal")),new AI(d,r.getProvider("app-check-internal")),zI(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),_r(PE,jE,t),_r(PE,jE,"esm2020")})();const Y2={apiKey:"XXX",authDomain:"XXX.firebaseapp.com",projectId:"XXX",storageBucket:"XXX.appspot.com",messagingSenderId:"XXX",appId:"XXX"},AS=oT(Y2),Sh=dI(AS),Bl=w2(AS);function K2(){const[s,t]=pt.useState(""),[i,r]=pt.useState(""),[l,c]=pt.useState("login"),[d,p]=pt.useState("");async function y(_){_.preventDefault(),p("");try{l==="signup"?await $w(Sh,s,i):await Zw(Sh,s,i)}catch(T){p(T?.message||String(T))}}return w.jsxs("div",{style:{maxWidth:420,margin:"40px auto",padding:16},children:[w.jsx("h2",{children:"Suplementos Planner"}),w.jsx("p",{style:{opacity:.8},children:"Inicia sesin para guardar rutinas y registros."}),w.jsxs("form",{onSubmit:y,style:{display:"grid",gap:10},children:[w.jsx("input",{placeholder:"Email",value:s,onChange:_=>t(_.target.value),autoComplete:"email"}),w.jsx("input",{placeholder:"Password",type:"password",value:i,onChange:_=>r(_.target.value),autoComplete:l==="signup"?"new-password":"current-password"}),d?w.jsx("pre",{style:{background:"#fee",padding:10,whiteSpace:"pre-wrap"},children:d}):null,w.jsx("button",{type:"submit",children:l==="signup"?"Crear cuenta":"Entrar"}),w.jsx("button",{type:"button",onClick:()=>c(_=>_==="login"?"signup":"login"),style:{opacity:.8},children:l==="signup"?"Ya tengo cuenta  Entrar":"No tengo cuenta  Crear"})]})]})}function Q2({children:s}){const[t,i]=pt.useState(null),[r,l]=pt.useState(!0);return pt.useEffect(()=>{const c=eR(Sh,d=>{i(d||null),l(!1)});return()=>c()},[]),r?w.jsx("div",{style:{padding:16},children:"Cargando..."}):t?Lm.cloneElement(s,{uid:t.uid,userEmail:t.email}):w.jsx(K2,{})}const qE="suppPlanner:routines:v2",HE="suppPlanner:notTaken:v2",FE="suppPlanner:cycles:v3",GE="suppPlanner:userRoutine:v2",YE="suppPlanner:mealsByDate:v2",KE="suppPlanner:prices:v1";function ys({children:s,tone:t="neutral"}){return w.jsx("span",{className:`pill pill-${t}`,children:s})}function QE({ratio:s}){const t=m1(Math.round((s||0)*100),0,100);return w.jsxs("div",{className:"progress",children:[w.jsx("div",{className:"progressFill",style:{width:`${t}%`}}),w.jsxs("div",{className:"progressText",children:[t,"%"]})]})}class X2 extends Lm.Component{constructor(t){super(t),this.state={err:null}}static getDerivedStateFromError(t){return{err:t}}componentDidCatch(t,i){console.error("App crashed:",t,i)}render(){return this.state.err?w.jsxs("div",{className:"card cardError",style:{marginTop:12},children:[w.jsx("div",{className:"cardTitle",children:"La app ha fallado"}),w.jsx("pre",{className:"pre",children:String(this.state.err?.message||this.state.err)})]}):this.props.children}}function J2(s){return w.jsx(Q2,{children:w.jsx(X2,{children:w.jsx(W2,{...s})})})}function $2(s){const t=(s||[]).map(i=>String(i||"").toLowerCase()).join(" | ");return t.includes("momento")||t.includes("suplement")||t.includes("supplement")||t.includes("dosis")||t.includes("dose")}function ji(s){return String(s??"").trim()}function Z2(s){return ji(s).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ")}function XE(s,t,i,r){const l=s.Sheets[t];if(!l)return[];const d=i.utils.sheet_to_json(l,{header:1,defval:""}).filter(T=>(T||[]).some(A=>ji(A)!==""));if(!d.length)return[];const p=$2(d[0]);let y=[];if(p){const T=d[0].map(Z2),A=T.findIndex(ct=>ct.includes("momento")),D=T.findIndex(ct=>ct.includes("supplement"))>=0?T.findIndex(ct=>ct.includes("supplement")):T.findIndex(ct=>ct.includes("suplemento")||ct.includes("suplement")),Y=T.findIndex(ct=>ct.includes("dosis")||ct.includes("dose")),nt=T.findIndex(ct=>ct.includes("regla")||ct.includes("rule")),st=T.findIndex(ct=>ct.includes("nota")||ct.includes("notes"));let rt="";for(let ct=1;ct<d.length;ct++){const Et=d[ct]||[],bt=A>=0?ji(Et[A]):"";bt&&(rt=bt);const Ut=D>=0?ji(Et[D]):"";if(!Ut)continue;const ne=Y>=0?ji(Et[Y]):"",gt=nt>=0?ji(Et[nt]):"",N=st>=0?ji(Et[st]):"";y.push({momento:rt||"Sin momento",suplemento:Ut,dosis:ne,regla:gt,notas:N,canon:Ql(Ut),_src:r,_ord:om(rt)*1e3+ct})}}else{let T="";for(let A=0;A<d.length;A++){const D=d[A]||[],Y=ji(D[0]),nt=ji(D[1]),st=ji(D[2]);Y&&(T=Y),nt&&y.push({momento:T||"Sin momento",suplemento:nt,dosis:st||"",regla:"",notas:"",canon:Ql(nt),_src:r,_ord:om(T)*1e3+A})}}const _=new Map;return y=y.map(T=>{const A=`${T.momento}||${T.canon}`,D=(_.get(A)||0)+1;_.set(A,D);const Y=D===1?A:`${A}||#${D}`;return{...T,key:Y}}),y}function W2({uid:s,userEmail:t}){const i=un(new Date),r=un(aa(new Date,1)),[l,c]=pt.useState(""),[d,p]=pt.useState([]),[y,_]=pt.useState([]),[T,A]=pt.useState(""),[D,Y]=pt.useState(()=>co(localStorage.getItem(GE),{items:[]})),[nt,st]=pt.useState(()=>co(localStorage.getItem(FE),{})),[rt,ct]=pt.useState(()=>co(localStorage.getItem(KE),{})),[Et,bt]=pt.useState(()=>co(localStorage.getItem(YE),{})),[Ut,ne]=pt.useState(()=>co(localStorage.getItem(HE),{})),[gt,N]=pt.useState(()=>i),[R,O]=pt.useState(()=>cv(new Date)),[L,V]=pt.useState(()=>new Date().getFullYear()),[k,I]=pt.useState("day"),[le,Ce]=pt.useState(!1),[K,lt]=pt.useState({loaded:!1,lastSync:""}),yt=pt.useMemo(()=>s?Kc(Bl,"users",s,"routines","current"):null,[s]),Pt=pt.useMemo(()=>s?Kc(Bl,"users",s,"settings","app"):null,[s]),Jt=pt.useMemo(()=>s?b2(Bl,"users",s,"days"):null,[s]),M=pt.useRef(!1),$=pt.useRef({}),at=pt.useRef(null),ht=pt.useRef(new Map),St=pt.useRef(new Set),Ct=pt.useRef(new Set),jt=pt.useRef(new Set);pt.useEffect(()=>{M.current=!1,$.current={},at.current&&clearTimeout(at.current),at.current=null;for(const b of ht.current.values())b?.timer&&clearTimeout(b.timer);ht.current=new Map,St.current=new Set,Ct.current=new Set,jt.current=new Set,lt({loaded:!1,lastSync:""})},[s]);function Te(){lt(b=>({...b,lastSync:new Date().toISOString()}))}function ue(b){!s||!Pt||M.current&&($.current={...$.current||{},...b||{}},at.current&&clearTimeout(at.current),at.current=setTimeout(async()=>{try{const U=$.current||{};$.current={},await am(Pt,{...U,updatedAt:sm()},{merge:!0}),Te()}catch(U){console.error("Error saving settings:",U)}},650))}function Bn(b,U){if(!s||!Jt||!M.current||!b)return;const F=ht.current.get(b)||{patch:{},timer:null},Q={...F.patch||{},...U||{}};F.timer&&clearTimeout(F.timer);const tt=setTimeout(async()=>{try{ht.current.delete(b),await am(Kc(Bl,"users",s,"days",b),{...Q,updatedAt:sm()},{merge:!0}),Te()}catch(it){console.error("Error saving day:",b,it)}},450);ht.current.set(b,{patch:Q,timer:tt})}async function Ki(b){if(s&&b&&!St.current.has(b)){St.current.add(b);try{const U=Kc(Bl,"users",s,"days",b),F=await rm(U);if(!F.exists())return;const Q=F.data()||{};(Q.meals===2||Q.meals===3)&&bt(tt=>({...tt||{},[b]:Q.meals})),Q.notTaken&&typeof Q.notTaken=="object"&&ne(tt=>({...tt||{},[b]:Q.notTaken}))}catch(U){console.error("Error loading day doc:",b,U)}}}async function oi(b,U){if(!s||!Jt||!b||!U||b>U)return;const F=`${b}|${U}`;if(!Ct.current.has(F)){Ct.current.add(F);try{const Q=U2(Jt,P2(vp.documentId()),j2(b),z2(U)),tt=await H2(Q);if(tt.empty)return;const it={},wt={};tt.forEach(Tt=>{const Nt=Tt.id;St.current.add(Nt);const Vt=Tt.data()||{};(Vt.meals===2||Vt.meals===3)&&(it[Nt]=Vt.meals),Vt.notTaken&&typeof Vt.notTaken=="object"&&(wt[Nt]=Vt.notTaken)}),Object.keys(it).length&&bt(Tt=>({...Tt||{},...it})),Object.keys(wt).length&&ne(Tt=>({...Tt||{},...wt}))}catch(Q){console.error("Error loading range:",b,U,Q)}}}pt.useEffect(()=>{const b=co(localStorage.getItem(qE),null);b&&typeof b=="object"&&(Array.isArray(b.routine2)&&p(b.routine2),Array.isArray(b.routine3)&&_(b.routine3),b.fileName&&c(b.fileName))},[]),pt.useEffect(()=>{localStorage.setItem(GE,JSON.stringify(D||{items:[]}))},[D]),pt.useEffect(()=>{localStorage.setItem(FE,JSON.stringify(nt||{}))},[nt]),pt.useEffect(()=>{localStorage.setItem(KE,JSON.stringify(rt||{}))},[rt]),pt.useEffect(()=>{localStorage.setItem(YE,JSON.stringify(Et||{}))},[Et]),pt.useEffect(()=>{localStorage.setItem(HE,JSON.stringify(Ut||{}))},[Ut]),pt.useEffect(()=>{localStorage.setItem(qE,JSON.stringify({fileName:l,routine2:d,routine3:y,savedAt:new Date().toISOString()}))},[l,d,y]),pt.useEffect(()=>{!s||!yt||!Pt||(async()=>{try{const b=await rm(yt);if(b.exists()){const it=b.data()||{};typeof it.fileName=="string"&&c(it.fileName),Array.isArray(it.routine2)&&p(it.routine2),Array.isArray(it.routine3)&&_(it.routine3)}const U=await rm(Pt);if(U.exists()){const it=U.data()||{};it.userRoutine&&typeof it.userRoutine=="object"&&Y(it.userRoutine),it.cycles&&typeof it.cycles=="object"&&st(it.cycles),it.prices&&typeof it.prices=="object"&&ct(it.prices)}M.current=!0,lt({loaded:!0,lastSync:new Date().toISOString()}),await Ki(gt);const F=gs(gt)||new Date,Q=un(Gd(F)),tt=un(aa(Gd(F),6));await oi(Q,tt)}catch(b){console.error("Cloud load error:",b),M.current=!0}})()},[s]),pt.useEffect(()=>{ue({userRoutine:D})},[D]),pt.useEffect(()=>{ue({cycles:nt})},[nt]),pt.useEffect(()=>{ue({prices:rt})},[rt]);function qn(b){const U=Et?.[b];return U===2||U===3?U:3}function Cn(b,U){bt(F=>{const tt={...F&&typeof F=="object"?F:{},[b]:U};return Bn(b,{meals:U}),tt})}const Qi=pt.useMemo(()=>gs(gt)||new Date,[gt]);pt.useEffect(()=>{s&&(!K.loaded&&!M.current||Ki(gt))},[s,gt]);function Ye(b){const U=nt?.[b];return U&&typeof U=="object"?U:{mode:"none"}}function Xi(b,U){st(F=>{const Q=F&&typeof F=="object"?{...F}:{};if(Q[b])return F;const tt=dv(U);return tt?Q[b]={name:U,mode:tt.mode||"none",startISO:r,onDays:tt.onDays??90,offDays:tt.offDays??30,pauseDays:tt.pauseDays??0,intervalAnchorISO:r}:Q[b]={name:U,mode:"none",startISO:r,onDays:90,offDays:30,pauseDays:0,intervalAnchorISO:r},Q})}const Ji=pt.useMemo(()=>{const b=new Map;return U=>{if(b.has(U))return b.get(U);const F=qn(U)===2?d:y,Q=(D?.items||[]).map((it,wt)=>{const Tt=Ql(it.suplemento);return{momento:it.momento||"Sin momento",suplemento:it.suplemento,dosis:it.dosis||"",regla:it.regla||"",notas:it.notas||"",canon:Tt,key:it.key||`${it.momento||"Sin momento"}||${Tt}||user||#${wt}`,_src:"user",_ord:om(it.momento)*1e3+900+wt}}),tt=[...F,...Q].sort((it,wt)=>it._ord-wt._ord||it.suplemento.localeCompare(wt.suplemento));return b.set(U,tt),tt}},[d,y,D,Et]),se=pt.useMemo(()=>{const b=new Map,U=F=>{for(const Q of F)b.set(Q.canon,Q.suplemento)};U(d),U(y);for(const F of D?.items||[])b.set(Ql(F.suplemento),F.suplemento);return Array.from(b.entries()).map(([F,Q])=>({canon:F,name:Q})).sort((F,Q)=>F.name.localeCompare(Q.name))},[d,y,D]);pt.useEffect(()=>{for(const b of se)Xi(b.canon,b.name)},[se.length]);function Se(b){return(Ut&&typeof Ut=="object"?Ut:{})[b]||{}}function Ti(b,U,F){ne(Q=>{const tt=Q&&typeof Q=="object"?Q:{},it={...tt[b]||{}};return F?it[U]=!0:delete it[U],Bn(b,{notTaken:it}),{...tt,[b]:it}})}function jo(b){ne(U=>{const F=U&&typeof U=="object"?U:{},Q={};return Bn(b,{notTaken:Q}),{...F,[b]:Q}})}function Sa(b){const U=Ns(b).filter(F=>F.status==="ON");ne(F=>{const Q=F&&typeof F=="object"?F:{},tt={...Q[b]||{}};for(const it of U)tt[it.key]=!0;return Bn(b,{notTaken:tt}),{...Q,[b]:tt}})}function Je(b,U,F){if(!Si(b,F))return!1;const Q=Se(U);for(const[tt,it]of Object.entries(Q))if(it===!0&&String(tt).includes(`||${b}`))return!1;return!0}function Si(b,U){const F=un(U),tt=Ji(F).filter(wt=>wt.canon===b);if(!tt.length)return!1;const it=uv(U);for(const wt of tt){const Tt=hv(wt.dosis,wt.regla,wt.notas);if(Tt&&!Tt.has(it))continue;const Nt=fv(wt.dosis,wt.regla,wt.notas);if(Nt&&Nt>1){const Vt=Ye(b),Wt=Vt.intervalAnchorISO||Vt.startISO||r,Dn=gs(Wt);if(!Dn)continue;const Os=Math.floor((U.getTime()-Dn.getTime())/Fd);if(Os<0||Os%Nt!==0)continue}return!0}return!1}function Dr(b,U){const F=Ye(b);if(!F||F.mode==="none")return"ON";const Q=gs(F.startISO);if(!Q)return"ON";const tt=Math.floor((U.getTime()-Q.getTime())/Fd);if(tt<0)return"OFF";const it=Number(F.pauseDays||0);if(tt<it)return"OFF";const wt=tt-it,Tt=Number(F.onDays||0),Nt=Number(F.offDays||0),Vt=Tt+Nt;return Vt<=0||Tt<=0||(wt%Vt+Vt)%Vt<Tt?"ON":"OFF"}const Or=pt.useMemo(()=>{const b=new Date(L,0,1),U=new Date(L,11,31),F=new Map;for(const Q of se){const tt=Ye(Q.canon);if(tt.mode!=="taken")continue;const it=gs(tt.startISO);if(!it)continue;const wt=new Map;let Tt="OFF",Nt=Number(tt.pauseDays||0),Vt=0;Nt<=0&&(Tt="ON");for(let Wt=new Date(it);Wt<=U;Wt=aa(Wt,1)){const Dn=un(Wt),Os=Tt==="ON"?"ON":"OFF";Wt>=b&&Wt<=U&&wt.set(Dn,Os);let Ms=!1;if(Tt==="ON"&&(Dn<=i?Ms=Je(Q.canon,Dn,Wt):Ms=Si(Q.canon,Wt)),Tt==="OFF")Nt-=1,Nt<=0&&(Tt="ON",Vt=0);else{Ms&&(Vt+=1);const Lr=Number(tt.onDays||0),On=Number(tt.offDays||0);Lr>0&&Vt>=Lr&&(On>0?(Tt="OFF",Nt=On):(Tt="ON",Vt=0))}}F.set(Q.canon,wt)}return F},[L,se,nt,Ut,Et,d,y,D,gt]);function on(b,U){const F=Ye(b);if(!F||F.mode==="none")return"ON";if(F.mode==="calendar")return Dr(b,U);if(F.mode==="taken"){const Q=Or.get(b),tt=un(U);return Q?.get(tt)||"ON"}return"ON"}function Mr(b,U){const F=gs(U)||new Date,Q=on(b,F);for(let tt=1;tt<=420;tt++){const it=aa(F,tt);if(on(b,it)!==Q)return un(it)}return""}function Aa(b,U){const F=Ye(b),Q=on(b,gs(U)||new Date),tt=Mr(b,U);let it=0;return Q==="ON"?it=Number(F.offDays||0):it=0,{status:Q,phaseEnd:tt,pauseDur:it}}function Vr(b,U){const F=hv(U.dosis,U.regla,U.notas);if(F&&!F.has(uv(b)))return!1;const Q=fv(U.dosis,U.regla,U.notas);if(Q&&Q>1){const it=Ye(U.canon),wt=it.intervalAnchorISO||it.startISO||r,Tt=gs(wt);if(Tt){const Nt=Math.floor((b.getTime()-Tt.getTime())/Fd);if(Nt<0||Nt%Q!==0)return!1}}return on(U.canon,b)==="ON"?!0:le}function Ns(b){const U=gs(b);return U?Ji(b).filter(Q=>Vr(U,Q)).map(Q=>({...Q,status:on(Q.canon,U),phaseEnd:Mr(Q.canon,b)})).sort((Q,tt)=>Q._ord-tt._ord||Q.suplemento.localeCompare(tt.suplemento)):[]}function pn(b){const U=un(b),F=Ns(U).filter(Tt=>Tt.status==="ON"),Q=Se(U),tt=F.length,it=F.filter(Tt=>Q[Tt.key]).length,wt=tt-it;return{plannedCount:tt,takenCount:wt,ratio:tt?wt/tt:0}}const Ve=pt.useMemo(()=>Ns(gt),[gt,d,y,D,nt,le,Et,Ut]),gn=pt.useMemo(()=>Se(gt),[Ut,gt]),Ae=pt.useMemo(()=>{const b=new Map;for(const U of Ve)b.has(U.momento)||b.set(U.momento,[]),b.get(U.momento).push(U);return Array.from(b.entries())},[Ve]),Ds=pt.useMemo(()=>{const b=Gd(Qi);return Array.from({length:7},(U,F)=>aa(b,F))},[Qi]),$i=pt.useMemo(()=>{const b=cv(R),U=p1(R),F=(b.getDay()+6)%7,Q=[];for(let tt=0;tt<F;tt++)Q.push(null);for(let tt=1;tt<=U.getDate();tt++)Q.push(new Date(b.getFullYear(),b.getMonth(),tt));for(;Q.length%7!==0;)Q.push(null);for(;Q.length<42;)Q.push(null);return Q.slice(0,42)},[R]);pt.useEffect(()=>{if(s&&!(!M.current&&!K.loaded)&&k==="week"){const b=un(Ds[0]),U=un(Ds[6]);oi(b,U)}},[s,k,gt]),pt.useEffect(()=>{if(s&&!(!M.current&&!K.loaded)&&k==="month"){const b=$i.filter(Boolean);if(!b.length)return;const U=un(b[0]),F=un(b[b.length-1]);oi(U,F)}},[s,k,R]);const xr=pt.useMemo(()=>se.some(b=>(Ye(b.canon)?.mode||"none")==="taken"),[se.length,nt]);pt.useEffect(()=>{if(!s||k!=="cycles"||!xr||!M.current&&!K.loaded)return;const b=`year:${L}`;if(jt.current.has(b))return;jt.current.add(b);const U=`${L}-01-01`,F=`${L}-12-31`;oi(U,F)},[s,k,L,xr]);async function Hn(b){if(b){A(""),c(b.name);try{const U=await d1(()=>import("./xlsx-CNerDvZX.js"),[]),F=await b.arrayBuffer(),Q=U.read(F,{type:"array",cellDates:!0}),tt=Q.SheetNames||[],it=Wt=>String(Wt??"").toLowerCase().replace(/\s+/g," ").trim(),wt=tt.find(Wt=>it(Wt)==="2 comidas"),Tt=tt.find(Wt=>it(Wt)==="3 comidas");if(!wt&&!Tt)throw new Error(`No encuentro hojas "2 comidas" / "3 comidas". Hojas detectadas: ${tt.join(", ")}`);const Nt=wt?XE(Q,wt,U,"excel2"):[],Vt=Tt?XE(Q,Tt,U,"excel3"):[];p(Nt),_(Vt);for(const Wt of[...Nt,...Vt])Xi(Wt.canon,Wt.suplemento);s&&yt&&(await am(yt,{fileName:b.name,routine2:Nt,routine3:Vt,uploadedAt:sm()},{merge:!0}),Te())}catch(U){console.error(U),A(String(U?.stack||U?.message||U))}}}function yn(b,U){st(F=>{const Q=F&&typeof F=="object"?{...F}:{};return Q[b]={...Q[b]||{mode:"none",startISO:r,intervalAnchorISO:r},...U},Q[b].intervalAnchorISO||(Q[b].intervalAnchorISO=Q[b].startISO||r),Q})}function we(b){const U=rt?.[b];if(!U)return null;const F=Number(U.priceEUR||0),Q=Number(U.units||0);return!F||!Q?null:F/Q}function Nn(b){const U=new Date(L,0,1),F=new Date(L,11,31);let Q=0;for(let tt=new Date(U);tt<=F;tt=aa(tt,1)){const it=un(tt),wt=Ji(it).filter(Tt=>Tt.canon===b);for(const Tt of wt){if(!Vr(tt,{...Tt,canon:b})||on(b,tt)!=="ON")continue;const{qty:Nt}=g1(Tt.dosis);Nt!=null&&(Q+=Nt)}}return Q}function Fn(b){const U=we(b);if(U==null)return{day:null,month:null,year:null,unitsYear:Nn(b)};const F=Nn(b),Q=F*U,tt=Q/365,it=Q/12;return{day:tt,month:it,year:Q,unitsYear:F}}const[zt,$e]=pt.useState({suplemento:"",momento:"COMIDA",dosis:"",regla:"",notas:"",cycleMode:"none",startISO:r,onDays:90,offDays:30,pauseDays:0,suggestedLabel:""});function ba(){const b=dv(zt.suplemento);if(!b){$e(U=>({...U,suggestedLabel:"Sin plantilla. Configura manualmente si quieres."}));return}$e(U=>({...U,cycleMode:b.mode,onDays:b.onDays??U.onDays,offDays:b.offDays??U.offDays,pauseDays:b.pauseDays??U.pauseDays,suggestedLabel:`Aplicada: ${b.label}`}))}function Gn(){const b=zt.suplemento.trim();if(!b)return;const U=Ql(b),F=zt.momento.trim()||"Sin momento",Q=`${F}||${U}||user||${Date.now()}`;Y(tt=>{const it=tt&&typeof tt=="object"?tt:{items:[]},wt=Array.isArray(it.items)?[...it.items]:[];return wt.push({key:Q,suplemento:b,momento:F,dosis:zt.dosis||"",regla:zt.regla||"",notas:zt.notas||""}),{...it,items:wt}}),zt.cycleMode&&zt.cycleMode!=="none"?yn(U,{name:b,mode:zt.cycleMode,startISO:zt.startISO||r,onDays:Number(zt.onDays)||90,offDays:Number(zt.offDays)||30,pauseDays:Number(zt.pauseDays)||0,intervalAnchorISO:zt.startISO||r}):Xi(U,b),$e(tt=>({...tt,suplemento:"",dosis:"",regla:"",notas:"",suggestedLabel:""})),I("day")}const Ai=[{k:"day",label:"Da"},{k:"week",label:"Semana"},{k:"month",label:"Mes"},{k:"cycles",label:"Ciclos"},{k:"costs",label:"Costes"},{k:"add",label:"Aadir"}],zo=d.length||y.length||(D?.items||[]).length;return w.jsxs("div",{className:"app",children:[w.jsxs("header",{className:"topbar",children:[w.jsxs("div",{children:[w.jsx("div",{className:"app-title",children:"Suplementos Planner"}),w.jsxs("div",{className:"app-subtitle",children:["Persistente  2/3 comidas  Ciclos ON/OFF  Por defecto: ",w.jsx("b",{children:"tomado"})," (marca solo lo ",w.jsx("b",{children:"NO tomado"}),")"]}),w.jsx("div",{className:"muted small",style:{marginTop:4},children:t?w.jsxs(w.Fragment,{children:["Usuario: ",w.jsx("b",{children:t}),"  Cloud:"," ",K.loaded?w.jsx("b",{children:"OK"}):w.jsx("b",{children:"cargando"}),K.lastSync?w.jsxs(w.Fragment,{children:["  ltima sync: ",new Date(K.lastSync).toLocaleString()]}):null]}):null})]}),w.jsxs("div",{className:"topbar-right",children:[w.jsxs("label",{className:"btn",children:[w.jsx("input",{type:"file",accept:".xlsx,.xls",style:{display:"none"},onChange:b=>Hn(b.target.files?.[0])}),"Subir Excel"]}),w.jsx("div",{className:"fileName",title:l,children:l||""}),w.jsx("button",{className:"btnGhost",onClick:()=>nR(Sh),title:"Cerrar sesin",children:"Logout"})]})]}),w.jsxs("div",{className:"toolbar",children:[w.jsx("div",{className:"tabs",children:Ai.map(b=>w.jsx("button",{className:k===b.k?"tab tabOn":"tab",onClick:()=>I(b.k),children:b.label},b.k))}),w.jsxs("label",{className:"toggle",children:[w.jsx("input",{type:"checkbox",checked:le,onChange:b=>Ce(b.target.checked)}),w.jsx("span",{children:"Mostrar OFF"})]})]}),T?w.jsxs("div",{className:"card cardError",children:[w.jsx("div",{className:"cardTitle",children:"Error al leer el Excel"}),w.jsx("pre",{className:"pre",children:T})]}):null,zo?null:w.jsxs("div",{className:"card",children:[w.jsx("div",{className:"cardTitle",children:"Sube tu Excel o aade suplementos"}),w.jsx("div",{className:"muted",children:"La app busca hojas 2 comidas y 3 comidas."})]}),k==="day"?w.jsxs("div",{className:"card",children:[w.jsxs("div",{className:"row",children:[w.jsxs("div",{children:[w.jsx("div",{className:"cardTitle",children:"Checklist del da"}),w.jsx("div",{className:"muted",children:gt})]}),w.jsx("div",{className:"row",children:w.jsx("input",{className:"date",type:"date",value:gt,onChange:b=>N(b.target.value)})})]}),w.jsxs("div",{className:"row",style:{marginTop:8},children:[w.jsx("div",{className:"muted",children:"Tipo de da:"}),w.jsxs("div",{className:"seg",children:[w.jsx("button",{className:qn(gt)===2?"segBtn segOn":"segBtn",onClick:()=>Cn(gt,2),children:"2 comidas"}),w.jsx("button",{className:qn(gt)===3?"segBtn segOn":"segBtn",onClick:()=>Cn(gt,3),children:"3 comidas"})]})]}),(()=>{const b=pn(Qi);return w.jsxs("div",{className:"row",style:{marginTop:10},children:[w.jsxs("div",{className:"muted",children:["Completado: ",w.jsx("b",{children:b.takenCount})," / ",w.jsx("b",{children:b.plannedCount})]}),w.jsx("div",{className:"progressWrap",children:w.jsx(QE,{ratio:b.ratio})})]})})(),w.jsxs("div",{className:"row",style:{marginTop:10},children:[w.jsx("button",{className:"btnPrimary",onClick:()=>jo(gt),children:"Asumir todo tomado"}),w.jsx("button",{className:"btnGhost",onClick:()=>Sa(gt),children:"Marcar todo NO tomado"}),w.jsx("button",{className:"btnGhost",onClick:()=>N(i),children:"Ir a hoy"})]}),w.jsx("div",{className:"sections",children:Ae.map(([b,U])=>w.jsxs("div",{className:"section",children:[w.jsx("div",{className:"sectionHead",children:w.jsx("div",{className:"sectionTitle",children:b})}),w.jsx("div",{className:"items",children:U.map(F=>{const Q=F.status!=="ON",tt=Aa(F.canon,gt);return w.jsxs("label",{className:Q?"item itemOff":"item",children:[w.jsx("input",{type:"checkbox",disabled:Q,checked:!!gn[F.key],onChange:it=>Ti(gt,F.key,it.target.checked),title:"Marca si NO lo has tomado"}),w.jsxs("div",{className:"itemBody",children:[w.jsxs("div",{className:"itemTop",children:[w.jsx("div",{className:"itemName",children:F.suplemento}),w.jsxs("div",{className:"itemBadges",children:[F.dosis?w.jsx(ys,{children:F.dosis}):null,Q?w.jsx(ys,{tone:"off",children:"OFF"}):w.jsx(ys,{tone:"on",children:"ON"}),w.jsxs(ys,{tone:"info",children:["Fin fase: ",tt.phaseEnd]}),F.status==="ON"&&Number(Ye(F.canon)?.offDays||0)>0?w.jsxs(ys,{tone:"info",children:["Pausa: ",Number(Ye(F.canon)?.offDays||0),"d"]}):null]})]}),F.regla?w.jsx("div",{className:"muted",children:F.regla}):null,F.notas?w.jsx("div",{className:"note",children:F.notas}):null,gn[F.key]?w.jsxs("div",{className:"note",style:{borderStyle:"solid",borderColor:"rgba(255,77,109,.35)"},children:["Marcado como: ",w.jsx("b",{children:"NO tomado"})]}):null]})]},F.key)})})]},b))})]}):null,k==="week"?w.jsxs("div",{className:"card",children:[w.jsxs("div",{className:"row",children:[w.jsx("div",{className:"cardTitle",children:"Vista semanal"}),w.jsx("input",{className:"date",type:"date",value:gt,onChange:b=>N(b.target.value)})]}),w.jsx("div",{className:"cards",children:Ds.map(b=>{const U=un(b),F=pn(b),Q=qn(U);return w.jsxs("button",{className:"dayCard",onClick:()=>{N(U),I("day")},children:[w.jsxs("div",{className:"dayCardTop",children:[w.jsx("div",{className:"dayCardTitle",children:b.toLocaleDateString(void 0,{weekday:"short",day:"2-digit",month:"short"})}),w.jsxs(ys,{children:[Q,"C"]})]}),w.jsxs("div",{className:"muted",children:[F.takenCount,"/",F.plannedCount]}),w.jsx(QE,{ratio:F.ratio})]},U)})})]}):null,k==="month"?w.jsxs("div",{className:"card",children:[w.jsxs("div",{className:"row",children:[w.jsx("div",{className:"cardTitle",children:"Vista mensual"}),w.jsxs("div",{className:"row",children:[w.jsx("button",{className:"btnGhost",onClick:()=>O(b=>new Date(b.getFullYear(),b.getMonth()-1,1)),children:""}),w.jsx("div",{className:"muted",children:R.toLocaleString(void 0,{month:"long",year:"numeric"})}),w.jsx("button",{className:"btnGhost",onClick:()=>O(b=>new Date(b.getFullYear(),b.getMonth()+1,1)),children:""})]})]}),w.jsx("div",{className:"monthHeader",children:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"].map(b=>w.jsx("div",{className:"monthHeadCell",children:b},b))}),w.jsx("div",{className:"monthGrid",children:$i.map((b,U)=>{if(!b)return w.jsx("div",{className:"monthCell empty"},U);const F=un(b),Q=pn(b),tt=qn(F);return w.jsxs("button",{className:"monthCell",onClick:()=>{N(F),I("day")},children:[w.jsxs("div",{className:"monthCellTop",children:[w.jsx("div",{className:"dayNum",children:b.getDate()}),w.jsxs(ys,{children:[tt,"C"]})]}),w.jsxs("div",{className:"muted small",children:[Q.takenCount,"/",Q.plannedCount]}),w.jsxs("div",{className:"muted small",children:[Math.round(Q.ratio*100),"%"]})]},F)})})]}):null,k==="cycles"?w.jsxs("div",{className:"card",children:[w.jsxs("div",{className:"row",children:[w.jsxs("div",{children:[w.jsx("div",{className:"cardTitle",children:"Ciclos (editable)"}),w.jsxs("div",{className:"muted",children:[w.jsx("b",{children:"calendar"}),": rotacin fija por fecha  ",w.jsx("b",{children:"taken"}),": el ON se alarga si marcas NO tomado"]})]}),w.jsxs("div",{className:"row",children:[w.jsx("div",{className:"muted",children:"Ao:"}),w.jsx("input",{className:"inp",style:{width:110},value:L,onChange:b=>V(Number(b.target.value||new Date().getFullYear()))})]})]}),w.jsx("div",{className:"tableWrap",children:w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Suplemento"}),w.jsx("th",{children:"Modo"}),w.jsx("th",{children:"Inicio"}),w.jsx("th",{className:"num",children:"ON"}),w.jsx("th",{className:"num",children:"OFF"}),w.jsx("th",{className:"num",children:"Pausa inicial"}),w.jsx("th",{children:"Estado hoy"}),w.jsx("th",{children:"Fin fase"}),w.jsx("th",{children:"Duracin prxima pausa"}),w.jsx("th",{children:"Anchor cada N das"})]})}),w.jsx("tbody",{children:se.map(b=>{const U=Ye(b.canon),F=on(b.canon,new Date),Q=Mr(b.canon,i),tt=F==="ON"?Number(U.offDays||0):0;return w.jsxs("tr",{children:[w.jsx("td",{className:"nameCell",children:w.jsx("div",{className:"nameMain",children:b.name})}),w.jsx("td",{children:w.jsxs("select",{className:"sel",value:U.mode||"none",onChange:it=>yn(b.canon,{name:b.name,mode:it.target.value}),children:[w.jsx("option",{value:"none",children:"none"}),w.jsx("option",{value:"calendar",children:"calendar"}),w.jsx("option",{value:"taken",children:"taken"})]})}),w.jsx("td",{children:w.jsx("input",{className:"date",type:"date",value:U.startISO||r,onChange:it=>yn(b.canon,{name:b.name,startISO:it.target.value})})}),w.jsx("td",{className:"num",children:w.jsx("input",{className:"inp",inputMode:"numeric",value:U.onDays??"",onChange:it=>yn(b.canon,{onDays:Number(it.target.value||0)})})}),w.jsx("td",{className:"num",children:w.jsx("input",{className:"inp",inputMode:"numeric",value:U.offDays??"",onChange:it=>yn(b.canon,{offDays:Number(it.target.value||0)})})}),w.jsx("td",{className:"num",children:w.jsx("input",{className:"inp",inputMode:"numeric",value:U.pauseDays??0,onChange:it=>yn(b.canon,{pauseDays:Number(it.target.value||0)})})}),w.jsx("td",{children:F==="ON"?w.jsx(ys,{tone:"on",children:"ON"}):w.jsx(ys,{tone:"off",children:"OFF"})}),w.jsx("td",{className:"muted",children:Q}),w.jsx("td",{className:"muted",children:tt?`${tt} das`:""}),w.jsx("td",{children:w.jsx("input",{className:"date",type:"date",value:U.intervalAnchorISO||U.startISO||r,onChange:it=>yn(b.canon,{intervalAnchorISO:it.target.value})})})]},b.canon)})})]})})]}):null,k==="costs"?w.jsxs("div",{className:"card",children:[w.jsxs("div",{className:"row",children:[w.jsxs("div",{children:[w.jsx("div",{className:"cardTitle",children:"Costes"}),w.jsx("div",{className:"muted",children:"Introduce precio y unidades por producto (cpsulas o gramos). La app estima coste da/mes/ao."})]}),w.jsxs("div",{className:"row",children:[w.jsx("div",{className:"muted",children:"Ao:"}),w.jsx("input",{className:"inp",style:{width:110},value:L,onChange:b=>V(Number(b.target.value||new Date().getFullYear()))})]})]}),w.jsx("div",{className:"tableWrap",children:w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Suplemento"}),w.jsx("th",{className:"num",children:"Precio "}),w.jsx("th",{className:"num",children:"Unidades"}),w.jsx("th",{children:"Tipo"}),w.jsx("th",{className:"num",children:"Unid/ao"}),w.jsx("th",{className:"num",children:"/da"}),w.jsx("th",{className:"num",children:"/mes"}),w.jsx("th",{className:"num",children:"/ao"})]})}),w.jsx("tbody",{children:se.map(b=>{const U=rt?.[b.canon]||{priceEUR:"",units:"",unitType:"caps"},F=Fn(b.canon);return w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("div",{className:"nameMain",children:b.name})}),w.jsx("td",{className:"num",children:w.jsx("input",{className:"inp",inputMode:"decimal",value:U.priceEUR??"",onChange:Q=>ct(tt=>({...tt||{},[b.canon]:{...tt?.[b.canon]||{},priceEUR:Q.target.value}}))})}),w.jsx("td",{className:"num",children:w.jsx("input",{className:"inp",inputMode:"numeric",value:U.units??"",onChange:Q=>ct(tt=>({...tt||{},[b.canon]:{...tt?.[b.canon]||{},units:Q.target.value}}))})}),w.jsx("td",{children:w.jsxs("select",{className:"sel",value:U.unitType||"caps",onChange:Q=>ct(tt=>({...tt||{},[b.canon]:{...tt?.[b.canon]||{},unitType:Q.target.value}})),children:[w.jsx("option",{value:"caps",children:"cpsulas"}),w.jsx("option",{value:"g",children:"gramos"})]})}),w.jsx("td",{className:"num",children:Math.round((F.unitsYear||0)*10)/10}),w.jsx("td",{className:"num",children:F.day==null?"":(Math.round(F.day*100)/100).toFixed(2)}),w.jsx("td",{className:"num",children:F.month==null?"":(Math.round(F.month*100)/100).toFixed(2)}),w.jsx("td",{className:"num",children:F.year==null?"":(Math.round(F.year*100)/100).toFixed(2)})]},b.canon)})})]})}),w.jsx("div",{className:"muted",style:{marginTop:10},children:"Nota: si una dosis no es interpretable (p.ej. texto sin nmero), Unid/ao puede quedar infravalorado."})]}):null,k==="add"?w.jsxs("div",{className:"card",children:[w.jsx("div",{className:"cardTitle",children:"Aadir suplemento"}),w.jsx("div",{className:"muted",children:"Aade sin tocar el Excel. Se guardar localmente y en tu cuenta (Firestore)."}),w.jsxs("div",{className:"formGrid",children:[w.jsxs("div",{children:[w.jsx("div",{className:"muted small",children:"Suplemento"}),w.jsx("input",{className:"inpWide",value:zt.suplemento,onChange:b=>$e(U=>({...U,suplemento:b.target.value})),placeholder:"Ej: UC-II"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"muted small",children:"Momento"}),w.jsx("input",{className:"inpWide",value:zt.momento,onChange:b=>$e(U=>({...U,momento:b.target.value})),placeholder:"Ej: COMIDA"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"muted small",children:"Dosis"}),w.jsx("input",{className:"inpWide",value:zt.dosis,onChange:b=>$e(U=>({...U,dosis:b.target.value})),placeholder:"Ej: 1 cpsula"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"muted small",children:"Regla (opcional)"}),w.jsx("input",{className:"inpWide",value:zt.regla,onChange:b=>$e(U=>({...U,regla:b.target.value})),placeholder:"Ej: Lun/Mie/Vie"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"muted small",children:"Notas (opcional)"}),w.jsx("input",{className:"inpWide",value:zt.notas,onChange:b=>$e(U=>({...U,notas:b.target.value})),placeholder:"Ej: con comida"})]})]}),w.jsx("div",{className:"divider"}),w.jsxs("div",{className:"row",children:[w.jsx("button",{className:"btnGhost",onClick:ba,children:"Sugerir ciclo"}),w.jsx("div",{className:"muted",children:zt.suggestedLabel})]}),w.jsxs("div",{className:"row",style:{marginTop:10},children:[w.jsx("div",{className:"muted",children:"Ciclo:"}),w.jsxs("select",{className:"sel",style:{maxWidth:220},value:zt.cycleMode,onChange:b=>$e(U=>({...U,cycleMode:b.target.value})),children:[w.jsx("option",{value:"none",children:"none (siempre ON)"}),w.jsx("option",{value:"calendar",children:"calendar"}),w.jsx("option",{value:"taken",children:"taken"})]}),w.jsx("div",{className:"muted",children:"Inicio:"}),w.jsx("input",{className:"date",type:"date",value:zt.startISO,onChange:b=>$e(U=>({...U,startISO:b.target.value}))}),w.jsx("div",{className:"muted",children:"ON"}),w.jsx("input",{className:"inp",style:{width:90},value:zt.onDays,onChange:b=>$e(U=>({...U,onDays:b.target.value}))}),w.jsx("div",{className:"muted",children:"OFF"}),w.jsx("input",{className:"inp",style:{width:90},value:zt.offDays,onChange:b=>$e(U=>({...U,offDays:b.target.value}))})]}),w.jsxs("div",{className:"row",style:{marginTop:10},children:[w.jsx("div",{className:"muted",children:"Pausa inicial"}),w.jsx("input",{className:"inp",style:{width:110},value:zt.pauseDays,onChange:b=>$e(U=>({...U,pauseDays:b.target.value}))})]}),w.jsxs("div",{className:"row",style:{marginTop:12},children:[w.jsx("button",{className:"btnPrimary",onClick:Gn,children:"Guardar suplemento"}),w.jsx("button",{className:"btnGhost",onClick:()=>I("day"),children:"Cancelar"})]})]}):null,w.jsx("nav",{className:"bottomNav",children:Ai.map(b=>w.jsx("button",{className:k===b.k?"bottomBtn bottomOn":"bottomBtn",onClick:()=>I(b.k),children:b.label},b.k))})]})}c1.createRoot(document.getElementById("root")).render(w.jsx(Lm.StrictMode,{children:w.jsx(J2,{})}));
